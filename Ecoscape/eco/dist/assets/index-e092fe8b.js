(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Jl(t,e){const n=Object.create(null),r=t.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const Ne={},Zr=[],zt=()=>{},ev=()=>!1,tv=/^on[^a-z]/,wa=t=>tv.test(t),Zl=t=>t.startsWith("onUpdate:"),ht=Object.assign,eu=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},nv=Object.prototype.hasOwnProperty,ge=(t,e)=>nv.call(t,e),K=Array.isArray,es=t=>Di(t)==="[object Map]",up=t=>Di(t)==="[object Set]",xh=t=>Di(t)==="[object Date]",re=t=>typeof t=="function",Qe=t=>typeof t=="string",ls=t=>typeof t=="symbol",Oe=t=>t!==null&&typeof t=="object",hp=t=>(Oe(t)||re(t))&&re(t.then)&&re(t.catch),dp=Object.prototype.toString,Di=t=>dp.call(t),rv=t=>Di(t).slice(8,-1),fp=t=>Di(t)==="[object Object]",tu=t=>Qe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,To=Jl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ea=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},sv=/-(\w)/g,an=Ea(t=>t.replace(sv,(e,n)=>n?n.toUpperCase():"")),iv=/\B([A-Z])/g,Ts=Ea(t=>t.replace(iv,"-$1").toLowerCase()),ba=Ea(t=>t.charAt(0).toUpperCase()+t.slice(1)),Io=Ea(t=>t?`on${ba(t)}`:""),Rr=(t,e)=>!Object.is(t,e),Ao=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Vo=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Yc=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Nh;const Jc=()=>Nh||(Nh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ta(t){if(K(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Qe(r)?lv(r):Ta(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(Qe(t)||Oe(t))return t}const ov=/;(?![^(]*\))/g,av=/:([^]+)/,cv=/\/\*[^]*?\*\//g;function lv(t){const e={};return t.replace(cv,"").split(ov).forEach(n=>{if(n){const r=n.split(av);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function us(t){let e="";if(Qe(t))e=t;else if(K(t))for(let n=0;n<t.length;n++){const r=us(t[n]);r&&(e+=r+" ")}else if(Oe(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const uv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",hv=Jl(uv);function pp(t){return!!t||t===""}function dv(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=$o(t[r],e[r]);return n}function $o(t,e){if(t===e)return!0;let n=xh(t),r=xh(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=ls(t),r=ls(e),n||r)return t===e;if(n=K(t),r=K(e),n||r)return n&&r?dv(t,e):!1;if(n=Oe(t),r=Oe(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!$o(t[o],e[o]))return!1}}return String(t)===String(e)}const vn=t=>Qe(t)?t:t==null?"":K(t)||Oe(t)&&(t.toString===dp||!re(t.toString))?JSON.stringify(t,mp,2):String(t),mp=(t,e)=>e&&e.__v_isRef?mp(t,e.value):es(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:up(e)?{[`Set(${e.size})`]:[...e.values()]}:Oe(e)&&!K(e)&&!fp(e)?String(e):e;let $t;class gp{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=$t,!e&&$t&&(this.index=($t.scopes||($t.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=$t;try{return $t=this,e()}finally{$t=n}}}on(){$t=this}off(){$t=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function fv(t){return new gp(t)}function pv(t,e=$t){e&&e.active&&e.effects.push(t)}function mv(){return $t}const nu=t=>{const e=new Set(t);return e.w=0,e.n=0,e},_p=t=>(t.w&Jn)>0,yp=t=>(t.n&Jn)>0,gv=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Jn},_v=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const s=e[r];_p(s)&&!yp(s)?s.delete(t):e[n++]=s,s.w&=~Jn,s.n&=~Jn}e.length=n}},Zc=new WeakMap;let zs=0,Jn=1;const el=30;let Ft;const Er=Symbol(""),tl=Symbol("");class ru{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,pv(this,r)}run(){if(!this.active)return this.fn();let e=Ft,n=Wn;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ft,Ft=this,Wn=!0,Jn=1<<++zs,zs<=el?gv(this):Dh(this),this.fn()}finally{zs<=el&&_v(this),Jn=1<<--zs,Ft=this.parent,Wn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ft===this?this.deferStop=!0:this.active&&(Dh(this),this.onStop&&this.onStop(),this.active=!1)}}function Dh(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Wn=!0;const vp=[];function Is(){vp.push(Wn),Wn=!1}function As(){const t=vp.pop();Wn=t===void 0?!0:t}function Rt(t,e,n){if(Wn&&Ft){let r=Zc.get(t);r||Zc.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=nu()),wp(s)}}function wp(t,e){let n=!1;zs<=el?yp(t)||(t.n|=Jn,n=!_p(t)):n=!t.has(Ft),n&&(t.add(Ft),Ft.deps.push(t))}function wn(t,e,n,r,s,i){const o=Zc.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&K(t)){const c=Number(r);o.forEach((l,u)=>{(u==="length"||!ls(u)&&u>=c)&&a.push(l)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":K(t)?tu(n)&&a.push(o.get("length")):(a.push(o.get(Er)),es(t)&&a.push(o.get(tl)));break;case"delete":K(t)||(a.push(o.get(Er)),es(t)&&a.push(o.get(tl)));break;case"set":es(t)&&a.push(o.get(Er));break}if(a.length===1)a[0]&&nl(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);nl(nu(c))}}function nl(t,e){const n=K(t)?t:[...t];for(const r of n)r.computed&&Mh(r);for(const r of n)r.computed||Mh(r)}function Mh(t,e){(t!==Ft||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const yv=Jl("__proto__,__v_isRef,__isVue"),Ep=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ls)),Lh=vv();function vv(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=we(this);for(let i=0,o=this.length;i<o;i++)Rt(r,"get",i+"");const s=r[e](...n);return s===-1||s===!1?r[e](...n.map(we)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Is();const r=we(this)[e].apply(this,n);return As(),r}}),t}function wv(t){const e=we(this);return Rt(e,"has",t),e.hasOwnProperty(t)}class bp{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,r){const s=this._isReadonly,i=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw"&&r===(s?i?Nv:Sp:i?Ap:Ip).get(e))return e;const o=K(e);if(!s){if(o&&ge(Lh,n))return Reflect.get(Lh,n,r);if(n==="hasOwnProperty")return wv}const a=Reflect.get(e,n,r);return(ls(n)?Ep.has(n):yv(n))||(s||Rt(e,"get",n),i)?a:_t(a)?o&&tu(n)?a:a.value:Oe(a)?s?Pp(a):rn(a):a}}class Tp extends bp{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(hs(i)&&_t(i)&&!_t(r))return!1;if(!this._shallow&&(!Uo(r)&&!hs(r)&&(i=we(i),r=we(r)),!K(e)&&_t(i)&&!_t(r)))return i.value=r,!0;const o=K(e)&&tu(n)?Number(n)<e.length:ge(e,n),a=Reflect.set(e,n,r,s);return e===we(s)&&(o?Rr(r,i)&&wn(e,"set",n,r):wn(e,"add",n,r)),a}deleteProperty(e,n){const r=ge(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&wn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!ls(n)||!Ep.has(n))&&Rt(e,"has",n),r}ownKeys(e){return Rt(e,"iterate",K(e)?"length":Er),Reflect.ownKeys(e)}}class Ev extends bp{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const bv=new Tp,Tv=new Ev,Iv=new Tp(!0),su=t=>t,Ia=t=>Reflect.getPrototypeOf(t);function so(t,e,n=!1,r=!1){t=t.__v_raw;const s=we(t),i=we(e);n||(Rr(e,i)&&Rt(s,"get",e),Rt(s,"get",i));const{has:o}=Ia(s),a=r?su:n?au:ci;if(o.call(s,e))return a(t.get(e));if(o.call(s,i))return a(t.get(i));t!==s&&t.get(e)}function io(t,e=!1){const n=this.__v_raw,r=we(n),s=we(t);return e||(Rr(t,s)&&Rt(r,"has",t),Rt(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function oo(t,e=!1){return t=t.__v_raw,!e&&Rt(we(t),"iterate",Er),Reflect.get(t,"size",t)}function Vh(t){t=we(t);const e=we(this);return Ia(e).has.call(e,t)||(e.add(t),wn(e,"add",t,t)),this}function $h(t,e){e=we(e);const n=we(this),{has:r,get:s}=Ia(n);let i=r.call(n,t);i||(t=we(t),i=r.call(n,t));const o=s.call(n,t);return n.set(t,e),i?Rr(e,o)&&wn(n,"set",t,e):wn(n,"add",t,e),this}function Uh(t){const e=we(this),{has:n,get:r}=Ia(e);let s=n.call(e,t);s||(t=we(t),s=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return s&&wn(e,"delete",t,void 0),i}function Fh(){const t=we(this),e=t.size!==0,n=t.clear();return e&&wn(t,"clear",void 0,void 0),n}function ao(t,e){return function(r,s){const i=this,o=i.__v_raw,a=we(o),c=e?su:t?au:ci;return!t&&Rt(a,"iterate",Er),o.forEach((l,u)=>r.call(s,c(l),c(u),i))}}function co(t,e,n){return function(...r){const s=this.__v_raw,i=we(s),o=es(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=s[t](...r),u=n?su:e?au:ci;return!e&&Rt(i,"iterate",c?tl:Er),{next(){const{value:h,done:d}=l.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function xn(t){return function(...e){return t==="delete"?!1:this}}function Av(){const t={get(i){return so(this,i)},get size(){return oo(this)},has:io,add:Vh,set:$h,delete:Uh,clear:Fh,forEach:ao(!1,!1)},e={get(i){return so(this,i,!1,!0)},get size(){return oo(this)},has:io,add:Vh,set:$h,delete:Uh,clear:Fh,forEach:ao(!1,!0)},n={get(i){return so(this,i,!0)},get size(){return oo(this,!0)},has(i){return io.call(this,i,!0)},add:xn("add"),set:xn("set"),delete:xn("delete"),clear:xn("clear"),forEach:ao(!0,!1)},r={get(i){return so(this,i,!0,!0)},get size(){return oo(this,!0)},has(i){return io.call(this,i,!0)},add:xn("add"),set:xn("set"),delete:xn("delete"),clear:xn("clear"),forEach:ao(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=co(i,!1,!1),n[i]=co(i,!0,!1),e[i]=co(i,!1,!0),r[i]=co(i,!0,!0)}),[t,n,e,r]}const[Sv,Rv,Pv,Cv]=Av();function iu(t,e){const n=e?t?Cv:Pv:t?Rv:Sv;return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(ge(n,s)&&s in r?n:r,s,i)}const Ov={get:iu(!1,!1)},kv={get:iu(!1,!0)},xv={get:iu(!0,!1)},Ip=new WeakMap,Ap=new WeakMap,Sp=new WeakMap,Nv=new WeakMap;function Dv(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Mv(t){return t.__v_skip||!Object.isExtensible(t)?0:Dv(rv(t))}function rn(t){return hs(t)?t:ou(t,!1,bv,Ov,Ip)}function Rp(t){return ou(t,!1,Iv,kv,Ap)}function Pp(t){return ou(t,!0,Tv,xv,Sp)}function ou(t,e,n,r,s){if(!Oe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=Mv(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function ts(t){return hs(t)?ts(t.__v_raw):!!(t&&t.__v_isReactive)}function hs(t){return!!(t&&t.__v_isReadonly)}function Uo(t){return!!(t&&t.__v_isShallow)}function Cp(t){return ts(t)||hs(t)}function we(t){const e=t&&t.__v_raw;return e?we(e):t}function Op(t){return Vo(t,"__v_skip",!0),t}const ci=t=>Oe(t)?rn(t):t,au=t=>Oe(t)?Pp(t):t;function kp(t){Wn&&Ft&&(t=we(t),wp(t.dep||(t.dep=nu())))}function xp(t,e){t=we(t);const n=t.dep;n&&nl(n)}function _t(t){return!!(t&&t.__v_isRef===!0)}function ye(t){return Np(t,!1)}function Lv(t){return Np(t,!0)}function Np(t,e){return _t(t)?t:new Vv(t,e)}class Vv{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:we(e),this._value=n?e:ci(e)}get value(){return kp(this),this._value}set value(e){const n=this.__v_isShallow||Uo(e)||hs(e);e=n?e:we(e),Rr(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:ci(e),xp(this))}}function ns(t){return _t(t)?t.value:t}const $v={get:(t,e,n)=>ns(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return _t(s)&&!_t(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function Dp(t){return ts(t)?t:new Proxy(t,$v)}class Uv{constructor(e,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ru(e,()=>{this._dirty||(this._dirty=!0,xp(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const e=we(this);return kp(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Fv(t,e,n=!1){let r,s;const i=re(t);return i?(r=t,s=zt):(r=t.get,s=t.set),new Uv(r,s,i||!s,n)}function Kn(t,e,n,r){let s;try{s=r?t(...r):t()}catch(i){Aa(i,e,n)}return s}function qt(t,e,n,r){if(re(t)){const i=Kn(t,e,n,r);return i&&hp(i)&&i.catch(o=>{Aa(o,e,n)}),i}const s=[];for(let i=0;i<t.length;i++)s.push(qt(t[i],e,n,r));return s}function Aa(t,e,n,r=!0){const s=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const l=i.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](t,o,a)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){Kn(c,null,10,[t,o,a]);return}}jv(t,n,s,r)}function jv(t,e,n,r=!0){console.error(t)}let li=!1,rl=!1;const gt=[];let Jt=0;const rs=[];let fn=null,fr=0;const Mp=Promise.resolve();let cu=null;function lu(t){const e=cu||Mp;return t?e.then(this?t.bind(this):t):e}function Bv(t){let e=Jt+1,n=gt.length;for(;e<n;){const r=e+n>>>1,s=gt[r],i=ui(s);i<t||i===t&&s.pre?e=r+1:n=r}return e}function uu(t){(!gt.length||!gt.includes(t,li&&t.allowRecurse?Jt+1:Jt))&&(t.id==null?gt.push(t):gt.splice(Bv(t.id),0,t),Lp())}function Lp(){!li&&!rl&&(rl=!0,cu=Mp.then($p))}function Hv(t){const e=gt.indexOf(t);e>Jt&&gt.splice(e,1)}function zv(t){K(t)?rs.push(...t):(!fn||!fn.includes(t,t.allowRecurse?fr+1:fr))&&rs.push(t),Lp()}function jh(t,e=li?Jt+1:0){for(;e<gt.length;e++){const n=gt[e];n&&n.pre&&(gt.splice(e,1),e--,n())}}function Vp(t){if(rs.length){const e=[...new Set(rs)];if(rs.length=0,fn){fn.push(...e);return}for(fn=e,fn.sort((n,r)=>ui(n)-ui(r)),fr=0;fr<fn.length;fr++)fn[fr]();fn=null,fr=0}}const ui=t=>t.id==null?1/0:t.id,qv=(t,e)=>{const n=ui(t)-ui(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function $p(t){rl=!1,li=!0,gt.sort(qv);const e=zt;try{for(Jt=0;Jt<gt.length;Jt++){const n=gt[Jt];n&&n.active!==!1&&Kn(n,null,14)}}finally{Jt=0,gt.length=0,Vp(),li=!1,cu=null,(gt.length||rs.length)&&$p()}}function Wv(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ne;let s=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:d}=r[u]||Ne;d&&(s=n.map(f=>Qe(f)?f.trim():f)),h&&(s=n.map(Yc))}let a,c=r[a=Io(e)]||r[a=Io(an(e))];!c&&i&&(c=r[a=Io(Ts(e))]),c&&qt(c,t,6,s);const l=r[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,qt(l,t,6,s)}}function Up(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!re(t)){const c=l=>{const u=Up(l,e,!0);u&&(a=!0,ht(o,u))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(Oe(t)&&r.set(t,null),null):(K(i)?i.forEach(c=>o[c]=null):ht(o,i),Oe(t)&&r.set(t,o),o)}function Sa(t,e){return!t||!wa(e)?!1:(e=e.slice(2).replace(/Once$/,""),ge(t,e[0].toLowerCase()+e.slice(1))||ge(t,Ts(e))||ge(t,e))}let yt=null,Ra=null;function Fo(t){const e=yt;return yt=t,Ra=t&&t.type.__scopeId||null,e}function Pn(t){Ra=t}function Cn(){Ra=null}function ze(t,e=yt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Jh(-1);const i=Fo(e);let o;try{o=t(...s)}finally{Fo(i),r._d&&Jh(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function pc(t){const{type:e,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:h,data:d,setupState:f,ctx:_,inheritAttrs:y}=t;let b,A;const R=Fo(t);try{if(n.shapeFlag&4){const N=s||r;b=Yt(u.call(N,N,h,i,f,d,_)),A=c}else{const N=e;b=Yt(N.length>1?N(i,{attrs:c,slots:a,emit:l}):N(i,null)),A=e.props?c:Kv(c)}}catch(N){Js.length=0,Aa(N,t,1),b=ee(Zn)}let U=b;if(A&&y!==!1){const N=Object.keys(A),{shapeFlag:ie}=U;N.length&&ie&7&&(o&&N.some(Zl)&&(A=Gv(A,o)),U=er(U,A))}return n.dirs&&(U=er(U),U.dirs=U.dirs?U.dirs.concat(n.dirs):n.dirs),n.transition&&(U.transition=n.transition),b=U,Fo(R),b}const Kv=t=>{let e;for(const n in t)(n==="class"||n==="style"||wa(n))&&((e||(e={}))[n]=t[n]);return e},Gv=(t,e)=>{const n={};for(const r in t)(!Zl(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Qv(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:c}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?Bh(r,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==r[d]&&!Sa(l,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Bh(r,o,l):!0:!!o;return!1}function Bh(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Sa(n,i))return!0}return!1}function Xv({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Yv=t=>t.__isSuspense;function Jv(t,e){e&&e.pendingBranch?K(t)?e.effects.push(...t):e.effects.push(t):zv(t)}const lo={};function En(t,e,n){return Fp(t,e,n)}function Fp(t,e,{immediate:n,deep:r,flush:s,onTrack:i,onTrigger:o}=Ne){var a;const c=mv()===((a=ct)==null?void 0:a.scope)?ct:null;let l,u=!1,h=!1;if(_t(t)?(l=()=>t.value,u=Uo(t)):ts(t)?(l=()=>t,r=!0):K(t)?(h=!0,u=t.some(N=>ts(N)||Uo(N)),l=()=>t.map(N=>{if(_t(N))return N.value;if(ts(N))return _r(N);if(re(N))return Kn(N,c,2)})):re(t)?e?l=()=>Kn(t,c,2):l=()=>{if(!(c&&c.isUnmounted))return d&&d(),qt(t,c,3,[f])}:l=zt,e&&r){const N=l;l=()=>_r(N())}let d,f=N=>{d=R.onStop=()=>{Kn(N,c,4)}},_;if(fi)if(f=zt,e?n&&qt(e,c,3,[l(),h?[]:void 0,f]):l(),s==="sync"){const N=qw();_=N.__watcherHandles||(N.__watcherHandles=[])}else return zt;let y=h?new Array(t.length).fill(lo):lo;const b=()=>{if(R.active)if(e){const N=R.run();(r||u||(h?N.some((ie,Y)=>Rr(ie,y[Y])):Rr(N,y)))&&(d&&d(),qt(e,c,3,[N,y===lo?void 0:h&&y[0]===lo?[]:y,f]),y=N)}else R.run()};b.allowRecurse=!!e;let A;s==="sync"?A=b:s==="post"?A=()=>St(b,c&&c.suspense):(b.pre=!0,c&&(b.id=c.uid),A=()=>uu(b));const R=new ru(l,A);e?n?b():y=R.run():s==="post"?St(R.run.bind(R),c&&c.suspense):R.run();const U=()=>{R.stop(),c&&c.scope&&eu(c.scope.effects,R)};return _&&_.push(U),U}function Zv(t,e,n){const r=this.proxy,s=Qe(t)?t.includes(".")?jp(r,t):()=>r[t]:t.bind(r,r);let i;re(e)?i=e:(i=e.handler,n=e);const o=ct;ds(this);const a=Fp(s,i.bind(r),n);return o?ds(o):br(),a}function jp(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function _r(t,e){if(!Oe(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),_t(t))_r(t.value,e);else if(K(t))for(let n=0;n<t.length;n++)_r(t[n],e);else if(up(t)||es(t))t.forEach(n=>{_r(n,e)});else if(fp(t))for(const n in t)_r(t[n],e);return t}function Fn(t,e){const n=yt;if(n===null)return t;const r=ka(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,c,l=Ne]=e[i];o&&(re(o)&&(o={mounted:o,updated:o}),o.deep&&_r(a),s.push({dir:o,instance:r,value:a,oldValue:void 0,arg:c,modifiers:l}))}return t}function lr(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[r];c&&(Is(),qt(c,n,8,[t.el,a,t,e]),As())}}/*! #__NO_SIDE_EFFECTS__ */function Lr(t,e){return re(t)?(()=>ht({name:t.name},e,{setup:t}))():t}const Xs=t=>!!t.type.__asyncLoader,Bp=t=>t.type.__isKeepAlive;function ew(t,e){Hp(t,"a",e)}function tw(t,e){Hp(t,"da",e)}function Hp(t,e,n=ct){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Pa(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Bp(s.parent.vnode)&&nw(r,e,n,s),s=s.parent}}function nw(t,e,n,r){const s=Pa(e,t,r,!0);du(()=>{eu(r[e],s)},n)}function Pa(t,e,n=ct,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Is(),ds(n);const a=qt(e,n,t,o);return br(),As(),a});return r?s.unshift(i):s.push(i),i}}const On=t=>(e,n=ct)=>(!fi||t==="sp")&&Pa(t,(...r)=>e(...r),n),rw=On("bm"),hu=On("m"),sw=On("bu"),iw=On("u"),ow=On("bum"),du=On("um"),aw=On("sp"),cw=On("rtg"),lw=On("rtc");function uw(t,e=ct){Pa("ec",t,e)}const zp="components";function Fe(t,e){return dw(zp,t,!0,e)||t}const hw=Symbol.for("v-ndc");function dw(t,e,n=!0,r=!1){const s=yt||ct;if(s){const i=s.type;if(t===zp){const a=Bw(i,!1);if(a&&(a===e||a===an(e)||a===ba(an(e))))return i}const o=Hh(s[t]||i[t],e)||Hh(s.appContext[t],e);return!o&&r?i:o}}function Hh(t,e){return t&&(t[e]||t[an(e)]||t[ba(an(e))])}function fu(t,e,n,r){let s;const i=n&&n[r];if(K(t)||Qe(t)){s=new Array(t.length);for(let o=0,a=t.length;o<a;o++)s[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,i&&i[o])}else if(Oe(t))if(t[Symbol.iterator])s=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);s=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const l=o[a];s[a]=e(t[l],l,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}function hi(t,e,n={},r,s){if(yt.isCE||yt.parent&&Xs(yt.parent)&&yt.parent.isCE)return e!=="default"&&(n.name=e),ee("slot",n,r&&r());let i=t[e];i&&i._c&&(i._d=!1),le();const o=i&&qp(i(n)),a=Pr(Ke,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function qp(t){return t.some(e=>Ho(e)?!(e.type===Zn||e.type===Ke&&!qp(e.children)):!0)?t:null}function fw(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:Io(r)]=t[r];return n}const sl=t=>t?rm(t)?ka(t)||t.proxy:sl(t.parent):null,Ys=ht(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>sl(t.parent),$root:t=>sl(t.root),$emit:t=>t.emit,$options:t=>pu(t),$forceUpdate:t=>t.f||(t.f=()=>uu(t.update)),$nextTick:t=>t.n||(t.n=lu.bind(t.proxy)),$watch:t=>Zv.bind(t)}),mc=(t,e)=>t!==Ne&&!t.__isScriptSetup&&ge(t,e),pw={get({_:t},e){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(mc(r,e))return o[e]=1,r[e];if(s!==Ne&&ge(s,e))return o[e]=2,s[e];if((l=t.propsOptions[0])&&ge(l,e))return o[e]=3,i[e];if(n!==Ne&&ge(n,e))return o[e]=4,n[e];il&&(o[e]=0)}}const u=Ys[e];let h,d;if(u)return e==="$attrs"&&Rt(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==Ne&&ge(n,e))return o[e]=4,n[e];if(d=c.config.globalProperties,ge(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return mc(s,e)?(s[e]=n,!0):r!==Ne&&ge(r,e)?(r[e]=n,!0):ge(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==Ne&&ge(t,o)||mc(e,o)||(a=i[0])&&ge(a,o)||ge(r,o)||ge(Ys,o)||ge(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:ge(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function zh(t){return K(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let il=!0;function mw(t){const e=pu(t),n=t.proxy,r=t.ctx;il=!1,e.beforeCreate&&qh(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:_,activated:y,deactivated:b,beforeDestroy:A,beforeUnmount:R,destroyed:U,unmounted:N,render:ie,renderTracked:Y,renderTriggered:ae,errorCaptured:Z,serverPrefetch:ue,expose:be,inheritAttrs:j,components:L,directives:Q,filters:q}=e;if(l&&gw(l,r,null),o)for(const ce in o){const se=o[ce];re(se)&&(r[ce]=se.bind(n))}if(s){const ce=s.call(n,n);Oe(ce)&&(t.data=rn(ce))}if(il=!0,i)for(const ce in i){const se=i[ce],je=re(se)?se.bind(n,n):re(se.get)?se.get.bind(n,n):zt,dt=!re(se)&&re(se.set)?se.set.bind(n):zt,rt=Ge({get:je,set:dt});Object.defineProperty(r,ce,{enumerable:!0,configurable:!0,get:()=>rt.value,set:Ae=>rt.value=Ae})}if(a)for(const ce in a)Wp(a[ce],r,n,ce);if(c){const ce=re(c)?c.call(n):c;Reflect.ownKeys(ce).forEach(se=>{xt(se,ce[se])})}u&&qh(u,t,"c");function _e(ce,se){K(se)?se.forEach(je=>ce(je.bind(n))):se&&ce(se.bind(n))}if(_e(rw,h),_e(hu,d),_e(sw,f),_e(iw,_),_e(ew,y),_e(tw,b),_e(uw,Z),_e(lw,Y),_e(cw,ae),_e(ow,R),_e(du,N),_e(aw,ue),K(be))if(be.length){const ce=t.exposed||(t.exposed={});be.forEach(se=>{Object.defineProperty(ce,se,{get:()=>n[se],set:je=>n[se]=je})})}else t.exposed||(t.exposed={});ie&&t.render===zt&&(t.render=ie),j!=null&&(t.inheritAttrs=j),L&&(t.components=L),Q&&(t.directives=Q)}function gw(t,e,n=zt){K(t)&&(t=ol(t));for(const r in t){const s=t[r];let i;Oe(s)?"default"in s?i=vt(s.from||r,s.default,!0):i=vt(s.from||r):i=vt(s),_t(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function qh(t,e,n){qt(K(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Wp(t,e,n,r){const s=r.includes(".")?jp(n,r):()=>n[r];if(Qe(t)){const i=e[t];re(i)&&En(s,i)}else if(re(t))En(s,t.bind(n));else if(Oe(t))if(K(t))t.forEach(i=>Wp(i,e,n,r));else{const i=re(t.handler)?t.handler.bind(n):e[t.handler];re(i)&&En(s,i,t)}}function pu(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!s.length&&!n&&!r?c=e:(c={},s.length&&s.forEach(l=>jo(c,l,o,!0)),jo(c,e,o)),Oe(e)&&i.set(e,c),c}function jo(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&jo(t,i,n,!0),s&&s.forEach(o=>jo(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=_w[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const _w={data:Wh,props:Kh,emits:Kh,methods:qs,computed:qs,beforeCreate:It,created:It,beforeMount:It,mounted:It,beforeUpdate:It,updated:It,beforeDestroy:It,beforeUnmount:It,destroyed:It,unmounted:It,activated:It,deactivated:It,errorCaptured:It,serverPrefetch:It,components:qs,directives:qs,watch:vw,provide:Wh,inject:yw};function Wh(t,e){return e?t?function(){return ht(re(t)?t.call(this,this):t,re(e)?e.call(this,this):e)}:e:t}function yw(t,e){return qs(ol(t),ol(e))}function ol(t){if(K(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function It(t,e){return t?[...new Set([].concat(t,e))]:e}function qs(t,e){return t?ht(Object.create(null),t,e):e}function Kh(t,e){return t?K(t)&&K(e)?[...new Set([...t,...e])]:ht(Object.create(null),zh(t),zh(e??{})):e}function vw(t,e){if(!t)return e;if(!e)return t;const n=ht(Object.create(null),t);for(const r in e)n[r]=It(t[r],e[r]);return n}function Kp(){return{app:null,config:{isNativeTag:ev,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ww=0;function Ew(t,e){return function(r,s=null){re(r)||(r=ht({},r)),s!=null&&!Oe(s)&&(s=null);const i=Kp(),o=new WeakSet;let a=!1;const c=i.app={_uid:ww++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:Ww,get config(){return i.config},set config(l){},use(l,...u){return o.has(l)||(l&&re(l.install)?(o.add(l),l.install(c,...u)):re(l)&&(o.add(l),l(c,...u))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,u){return u?(i.components[l]=u,c):i.components[l]},directive(l,u){return u?(i.directives[l]=u,c):i.directives[l]},mount(l,u,h){if(!a){const d=ee(r,s);return d.appContext=i,u&&e?e(d,l):t(d,l,h),a=!0,c._container=l,l.__vue_app__=c,ka(d.component)||d.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(l,u){return i.provides[l]=u,c},runWithContext(l){Bo=c;try{return l()}finally{Bo=null}}};return c}}let Bo=null;function xt(t,e){if(ct){let n=ct.provides;const r=ct.parent&&ct.parent.provides;r===n&&(n=ct.provides=Object.create(r)),n[t]=e}}function vt(t,e,n=!1){const r=ct||yt;if(r||Bo){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Bo._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&re(e)?e.call(r&&r.proxy):e}}function bw(t,e,n,r=!1){const s={},i={};Vo(i,Oa,1),t.propsDefaults=Object.create(null),Gp(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Rp(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function Tw(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=we(s),[c]=t.propsOptions;let l=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(Sa(t.emitsOptions,d))continue;const f=e[d];if(c)if(ge(i,d))f!==i[d]&&(i[d]=f,l=!0);else{const _=an(d);s[_]=al(c,a,_,f,t,!1)}else f!==i[d]&&(i[d]=f,l=!0)}}}else{Gp(t,e,s,i)&&(l=!0);let u;for(const h in a)(!e||!ge(e,h)&&((u=Ts(h))===h||!ge(e,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=al(c,a,h,void 0,t,!0)):delete s[h]);if(i!==a)for(const h in i)(!e||!ge(e,h))&&(delete i[h],l=!0)}l&&wn(t,"set","$attrs")}function Gp(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(To(c))continue;const l=e[c];let u;s&&ge(s,u=an(c))?!i||!i.includes(u)?n[u]=l:(a||(a={}))[u]=l:Sa(t.emitsOptions,c)||(!(c in r)||l!==r[c])&&(r[c]=l,o=!0)}if(i){const c=we(n),l=a||Ne;for(let u=0;u<i.length;u++){const h=i[u];n[h]=al(s,c,h,l[h],t,!ge(l,h))}}return o}function al(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=ge(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&re(c)){const{propsDefaults:l}=s;n in l?r=l[n]:(ds(s),r=l[n]=c.call(null,e),br())}else r=c}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Ts(n))&&(r=!0))}return r}function Qp(t,e,n=!1){const r=e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let c=!1;if(!re(t)){const u=h=>{c=!0;const[d,f]=Qp(h,e,!0);ht(o,d),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!c)return Oe(t)&&r.set(t,Zr),Zr;if(K(i))for(let u=0;u<i.length;u++){const h=an(i[u]);Gh(h)&&(o[h]=Ne)}else if(i)for(const u in i){const h=an(u);if(Gh(h)){const d=i[u],f=o[h]=K(d)||re(d)?{type:d}:ht({},d);if(f){const _=Yh(Boolean,f.type),y=Yh(String,f.type);f[0]=_>-1,f[1]=y<0||_<y,(_>-1||ge(f,"default"))&&a.push(h)}}}const l=[o,a];return Oe(t)&&r.set(t,l),l}function Gh(t){return t[0]!=="$"}function Qh(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Xh(t,e){return Qh(t)===Qh(e)}function Yh(t,e){return K(e)?e.findIndex(n=>Xh(n,t)):re(e)&&Xh(e,t)?0:-1}const Xp=t=>t[0]==="_"||t==="$stable",mu=t=>K(t)?t.map(Yt):[Yt(t)],Iw=(t,e,n)=>{if(e._n)return e;const r=ze((...s)=>mu(e(...s)),n);return r._c=!1,r},Yp=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Xp(s))continue;const i=t[s];if(re(i))e[s]=Iw(s,i,r);else if(i!=null){const o=mu(i);e[s]=()=>o}}},Jp=(t,e)=>{const n=mu(e);t.slots.default=()=>n},Aw=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=we(e),Vo(e,"_",n)):Yp(e,t.slots={})}else t.slots={},e&&Jp(t,e);Vo(t.slots,Oa,1)},Sw=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Ne;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(ht(s,e),!n&&a===1&&delete s._):(i=!e.$stable,Yp(e,s)),o=e}else e&&(Jp(t,e),o={default:1});if(i)for(const a in s)!Xp(a)&&o[a]==null&&delete s[a]};function cl(t,e,n,r,s=!1){if(K(t)){t.forEach((d,f)=>cl(d,e&&(K(e)?e[f]:e),n,r,s));return}if(Xs(r)&&!s)return;const i=r.shapeFlag&4?ka(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:c}=t,l=e&&e.r,u=a.refs===Ne?a.refs={}:a.refs,h=a.setupState;if(l!=null&&l!==c&&(Qe(l)?(u[l]=null,ge(h,l)&&(h[l]=null)):_t(l)&&(l.value=null)),re(c))Kn(c,a,12,[o,u]);else{const d=Qe(c),f=_t(c);if(d||f){const _=()=>{if(t.f){const y=d?ge(h,c)?h[c]:u[c]:c.value;s?K(y)&&eu(y,i):K(y)?y.includes(i)||y.push(i):d?(u[c]=[i],ge(h,c)&&(h[c]=u[c])):(c.value=[i],t.k&&(u[t.k]=c.value))}else d?(u[c]=o,ge(h,c)&&(h[c]=o)):f&&(c.value=o,t.k&&(u[t.k]=o))};o?(_.id=-1,St(_,n)):_()}}}const St=Jv;function Rw(t){return Pw(t)}function Pw(t,e){const n=Jc();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=zt,insertStaticContent:_}=t,y=(p,m,g,w=null,E=null,S=null,$=!1,x=null,M=!!m.dynamicChildren)=>{if(p===m)return;p&&!Ms(p,m)&&(w=T(p),Ae(p,E,S,!0),p=null),m.patchFlag===-2&&(M=!1,m.dynamicChildren=null);const{type:P,ref:H,shapeFlag:B}=m;switch(P){case Ca:b(p,m,g,w);break;case Zn:A(p,m,g,w);break;case So:p==null&&R(m,g,w,$);break;case Ke:L(p,m,g,w,E,S,$,x,M);break;default:B&1?ie(p,m,g,w,E,S,$,x,M):B&6?Q(p,m,g,w,E,S,$,x,M):(B&64||B&128)&&P.process(p,m,g,w,E,S,$,x,M,O)}H!=null&&E&&cl(H,p&&p.ref,S,m||p,!m)},b=(p,m,g,w)=>{if(p==null)r(m.el=a(m.children),g,w);else{const E=m.el=p.el;m.children!==p.children&&l(E,m.children)}},A=(p,m,g,w)=>{p==null?r(m.el=c(m.children||""),g,w):m.el=p.el},R=(p,m,g,w)=>{[p.el,p.anchor]=_(p.children,m,g,w,p.el,p.anchor)},U=({el:p,anchor:m},g,w)=>{let E;for(;p&&p!==m;)E=d(p),r(p,g,w),p=E;r(m,g,w)},N=({el:p,anchor:m})=>{let g;for(;p&&p!==m;)g=d(p),s(p),p=g;s(m)},ie=(p,m,g,w,E,S,$,x,M)=>{$=$||m.type==="svg",p==null?Y(m,g,w,E,S,$,x,M):ue(p,m,E,S,$,x,M)},Y=(p,m,g,w,E,S,$,x)=>{let M,P;const{type:H,props:B,shapeFlag:W,transition:ne,dirs:he}=p;if(M=p.el=o(p.type,S,B&&B.is,B),W&8?u(M,p.children):W&16&&Z(p.children,M,null,w,E,S&&H!=="foreignObject",$,x),he&&lr(p,null,w,"created"),ae(M,p,p.scopeId,$,w),B){for(const Se in B)Se!=="value"&&!To(Se)&&i(M,Se,null,B[Se],S,p.children,w,E,Ee);"value"in B&&i(M,"value",null,B.value),(P=B.onVnodeBeforeMount)&&Xt(P,w,p)}he&&lr(p,null,w,"beforeMount");const Re=Cw(E,ne);Re&&ne.beforeEnter(M),r(M,m,g),((P=B&&B.onVnodeMounted)||Re||he)&&St(()=>{P&&Xt(P,w,p),Re&&ne.enter(M),he&&lr(p,null,w,"mounted")},E)},ae=(p,m,g,w,E)=>{if(g&&f(p,g),w)for(let S=0;S<w.length;S++)f(p,w[S]);if(E){let S=E.subTree;if(m===S){const $=E.vnode;ae(p,$,$.scopeId,$.slotScopeIds,E.parent)}}},Z=(p,m,g,w,E,S,$,x,M=0)=>{for(let P=M;P<p.length;P++){const H=p[P]=x?Vn(p[P]):Yt(p[P]);y(null,H,m,g,w,E,S,$,x)}},ue=(p,m,g,w,E,S,$)=>{const x=m.el=p.el;let{patchFlag:M,dynamicChildren:P,dirs:H}=m;M|=p.patchFlag&16;const B=p.props||Ne,W=m.props||Ne;let ne;g&&ur(g,!1),(ne=W.onVnodeBeforeUpdate)&&Xt(ne,g,m,p),H&&lr(m,p,g,"beforeUpdate"),g&&ur(g,!0);const he=E&&m.type!=="foreignObject";if(P?be(p.dynamicChildren,P,x,g,w,he,S):$||se(p,m,x,null,g,w,he,S,!1),M>0){if(M&16)j(x,m,B,W,g,w,E);else if(M&2&&B.class!==W.class&&i(x,"class",null,W.class,E),M&4&&i(x,"style",B.style,W.style,E),M&8){const Re=m.dynamicProps;for(let Se=0;Se<Re.length;Se++){const Be=Re[Se],Vt=B[Be],zr=W[Be];(zr!==Vt||Be==="value")&&i(x,Be,Vt,zr,E,p.children,g,w,Ee)}}M&1&&p.children!==m.children&&u(x,m.children)}else!$&&P==null&&j(x,m,B,W,g,w,E);((ne=W.onVnodeUpdated)||H)&&St(()=>{ne&&Xt(ne,g,m,p),H&&lr(m,p,g,"updated")},w)},be=(p,m,g,w,E,S,$)=>{for(let x=0;x<m.length;x++){const M=p[x],P=m[x],H=M.el&&(M.type===Ke||!Ms(M,P)||M.shapeFlag&70)?h(M.el):g;y(M,P,H,null,w,E,S,$,!0)}},j=(p,m,g,w,E,S,$)=>{if(g!==w){if(g!==Ne)for(const x in g)!To(x)&&!(x in w)&&i(p,x,g[x],null,$,m.children,E,S,Ee);for(const x in w){if(To(x))continue;const M=w[x],P=g[x];M!==P&&x!=="value"&&i(p,x,P,M,$,m.children,E,S,Ee)}"value"in w&&i(p,"value",g.value,w.value)}},L=(p,m,g,w,E,S,$,x,M)=>{const P=m.el=p?p.el:a(""),H=m.anchor=p?p.anchor:a("");let{patchFlag:B,dynamicChildren:W,slotScopeIds:ne}=m;ne&&(x=x?x.concat(ne):ne),p==null?(r(P,g,w),r(H,g,w),Z(m.children,g,H,E,S,$,x,M)):B>0&&B&64&&W&&p.dynamicChildren?(be(p.dynamicChildren,W,g,E,S,$,x),(m.key!=null||E&&m===E.subTree)&&Zp(p,m,!0)):se(p,m,g,H,E,S,$,x,M)},Q=(p,m,g,w,E,S,$,x,M)=>{m.slotScopeIds=x,p==null?m.shapeFlag&512?E.ctx.activate(m,g,w,$,M):q(m,g,w,E,S,$,M):ke(p,m,M)},q=(p,m,g,w,E,S,$)=>{const x=p.component=Vw(p,w,E);if(Bp(p)&&(x.ctx.renderer=O),$w(x),x.asyncDep){if(E&&E.registerDep(x,_e),!p.el){const M=x.subTree=ee(Zn);A(null,M,m,g)}return}_e(x,p,m,g,E,S,$)},ke=(p,m,g)=>{const w=m.component=p.component;if(Qv(p,m,g))if(w.asyncDep&&!w.asyncResolved){ce(w,m,g);return}else w.next=m,Hv(w.update),w.update();else m.el=p.el,w.vnode=m},_e=(p,m,g,w,E,S,$)=>{const x=()=>{if(p.isMounted){let{next:H,bu:B,u:W,parent:ne,vnode:he}=p,Re=H,Se;ur(p,!1),H?(H.el=he.el,ce(p,H,$)):H=he,B&&Ao(B),(Se=H.props&&H.props.onVnodeBeforeUpdate)&&Xt(Se,ne,H,he),ur(p,!0);const Be=pc(p),Vt=p.subTree;p.subTree=Be,y(Vt,Be,h(Vt.el),T(Vt),p,E,S),H.el=Be.el,Re===null&&Xv(p,Be.el),W&&St(W,E),(Se=H.props&&H.props.onVnodeUpdated)&&St(()=>Xt(Se,ne,H,he),E)}else{let H;const{el:B,props:W}=m,{bm:ne,m:he,parent:Re}=p,Se=Xs(m);if(ur(p,!1),ne&&Ao(ne),!Se&&(H=W&&W.onVnodeBeforeMount)&&Xt(H,Re,m),ur(p,!0),B&&te){const Be=()=>{p.subTree=pc(p),te(B,p.subTree,p,E,null)};Se?m.type.__asyncLoader().then(()=>!p.isUnmounted&&Be()):Be()}else{const Be=p.subTree=pc(p);y(null,Be,g,w,p,E,S),m.el=Be.el}if(he&&St(he,E),!Se&&(H=W&&W.onVnodeMounted)){const Be=m;St(()=>Xt(H,Re,Be),E)}(m.shapeFlag&256||Re&&Xs(Re.vnode)&&Re.vnode.shapeFlag&256)&&p.a&&St(p.a,E),p.isMounted=!0,m=g=w=null}},M=p.effect=new ru(x,()=>uu(P),p.scope),P=p.update=()=>M.run();P.id=p.uid,ur(p,!0),P()},ce=(p,m,g)=>{m.component=p;const w=p.vnode.props;p.vnode=m,p.next=null,Tw(p,m.props,w,g),Sw(p,m.children,g),Is(),jh(),As()},se=(p,m,g,w,E,S,$,x,M=!1)=>{const P=p&&p.children,H=p?p.shapeFlag:0,B=m.children,{patchFlag:W,shapeFlag:ne}=m;if(W>0){if(W&128){dt(P,B,g,w,E,S,$,x,M);return}else if(W&256){je(P,B,g,w,E,S,$,x,M);return}}ne&8?(H&16&&Ee(P,E,S),B!==P&&u(g,B)):H&16?ne&16?dt(P,B,g,w,E,S,$,x,M):Ee(P,E,S,!0):(H&8&&u(g,""),ne&16&&Z(B,g,w,E,S,$,x,M))},je=(p,m,g,w,E,S,$,x,M)=>{p=p||Zr,m=m||Zr;const P=p.length,H=m.length,B=Math.min(P,H);let W;for(W=0;W<B;W++){const ne=m[W]=M?Vn(m[W]):Yt(m[W]);y(p[W],ne,g,null,E,S,$,x,M)}P>H?Ee(p,E,S,!0,!1,B):Z(m,g,w,E,S,$,x,M,B)},dt=(p,m,g,w,E,S,$,x,M)=>{let P=0;const H=m.length;let B=p.length-1,W=H-1;for(;P<=B&&P<=W;){const ne=p[P],he=m[P]=M?Vn(m[P]):Yt(m[P]);if(Ms(ne,he))y(ne,he,g,null,E,S,$,x,M);else break;P++}for(;P<=B&&P<=W;){const ne=p[B],he=m[W]=M?Vn(m[W]):Yt(m[W]);if(Ms(ne,he))y(ne,he,g,null,E,S,$,x,M);else break;B--,W--}if(P>B){if(P<=W){const ne=W+1,he=ne<H?m[ne].el:w;for(;P<=W;)y(null,m[P]=M?Vn(m[P]):Yt(m[P]),g,he,E,S,$,x,M),P++}}else if(P>W)for(;P<=B;)Ae(p[P],E,S,!0),P++;else{const ne=P,he=P,Re=new Map;for(P=he;P<=W;P++){const kt=m[P]=M?Vn(m[P]):Yt(m[P]);kt.key!=null&&Re.set(kt.key,P)}let Se,Be=0;const Vt=W-he+1;let zr=!1,Ch=0;const Ds=new Array(Vt);for(P=0;P<Vt;P++)Ds[P]=0;for(P=ne;P<=B;P++){const kt=p[P];if(Be>=Vt){Ae(kt,E,S,!0);continue}let Qt;if(kt.key!=null)Qt=Re.get(kt.key);else for(Se=he;Se<=W;Se++)if(Ds[Se-he]===0&&Ms(kt,m[Se])){Qt=Se;break}Qt===void 0?Ae(kt,E,S,!0):(Ds[Qt-he]=P+1,Qt>=Ch?Ch=Qt:zr=!0,y(kt,m[Qt],g,null,E,S,$,x,M),Be++)}const Oh=zr?Ow(Ds):Zr;for(Se=Oh.length-1,P=Vt-1;P>=0;P--){const kt=he+P,Qt=m[kt],kh=kt+1<H?m[kt+1].el:w;Ds[P]===0?y(null,Qt,g,kh,E,S,$,x,M):zr&&(Se<0||P!==Oh[Se]?rt(Qt,g,kh,2):Se--)}}},rt=(p,m,g,w,E=null)=>{const{el:S,type:$,transition:x,children:M,shapeFlag:P}=p;if(P&6){rt(p.component.subTree,m,g,w);return}if(P&128){p.suspense.move(m,g,w);return}if(P&64){$.move(p,m,g,O);return}if($===Ke){r(S,m,g);for(let B=0;B<M.length;B++)rt(M[B],m,g,w);r(p.anchor,m,g);return}if($===So){U(p,m,g);return}if(w!==2&&P&1&&x)if(w===0)x.beforeEnter(S),r(S,m,g),St(()=>x.enter(S),E);else{const{leave:B,delayLeave:W,afterLeave:ne}=x,he=()=>r(S,m,g),Re=()=>{B(S,()=>{he(),ne&&ne()})};W?W(S,he,Re):Re()}else r(S,m,g)},Ae=(p,m,g,w=!1,E=!1)=>{const{type:S,props:$,ref:x,children:M,dynamicChildren:P,shapeFlag:H,patchFlag:B,dirs:W}=p;if(x!=null&&cl(x,null,g,p,!0),H&256){m.ctx.deactivate(p);return}const ne=H&1&&W,he=!Xs(p);let Re;if(he&&(Re=$&&$.onVnodeBeforeUnmount)&&Xt(Re,m,p),H&6)We(p.component,g,w);else{if(H&128){p.suspense.unmount(g,w);return}ne&&lr(p,null,m,"beforeUnmount"),H&64?p.type.remove(p,m,g,E,O,w):P&&(S!==Ke||B>0&&B&64)?Ee(P,m,g,!1,!0):(S===Ke&&B&384||!E&&H&16)&&Ee(M,m,g),w&&xe(p)}(he&&(Re=$&&$.onVnodeUnmounted)||ne)&&St(()=>{Re&&Xt(Re,m,p),ne&&lr(p,null,m,"unmounted")},g)},xe=p=>{const{type:m,el:g,anchor:w,transition:E}=p;if(m===Ke){Le(g,w);return}if(m===So){N(p);return}const S=()=>{s(g),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(p.shapeFlag&1&&E&&!E.persisted){const{leave:$,delayLeave:x}=E,M=()=>$(g,S);x?x(p.el,S,M):M()}else S()},Le=(p,m)=>{let g;for(;p!==m;)g=d(p),s(p),p=g;s(m)},We=(p,m,g)=>{const{bum:w,scope:E,update:S,subTree:$,um:x}=p;w&&Ao(w),E.stop(),S&&(S.active=!1,Ae($,p,m,g)),x&&St(x,m),St(()=>{p.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},Ee=(p,m,g,w=!1,E=!1,S=0)=>{for(let $=S;$<p.length;$++)Ae(p[$],m,g,w,E)},T=p=>p.shapeFlag&6?T(p.component.subTree):p.shapeFlag&128?p.suspense.next():d(p.anchor||p.el),D=(p,m,g)=>{p==null?m._vnode&&Ae(m._vnode,null,null,!0):y(m._vnode||null,p,m,null,null,null,g),jh(),Vp(),m._vnode=p},O={p:y,um:Ae,m:rt,r:xe,mt:q,mc:Z,pc:se,pbc:be,n:T,o:t};let F,te;return e&&([F,te]=e(O)),{render:D,hydrate:F,createApp:Ew(D,F)}}function ur({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Cw(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Zp(t,e,n=!1){const r=t.children,s=e.children;if(K(r)&&K(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Vn(s[i]),a.el=o.el),n||Zp(o,a)),a.type===Ca&&(a.el=o.el)}}function Ow(t){const e=t.slice(),n=[0];let r,s,i,o,a;const c=t.length;for(r=0;r<c;r++){const l=t[r];if(l!==0){if(s=n[n.length-1],t[s]<l){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<l?i=a+1:o=a;l<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const kw=t=>t.__isTeleport,Ke=Symbol.for("v-fgt"),Ca=Symbol.for("v-txt"),Zn=Symbol.for("v-cmt"),So=Symbol.for("v-stc"),Js=[];let Bt=null;function le(t=!1){Js.push(Bt=t?null:[])}function xw(){Js.pop(),Bt=Js[Js.length-1]||null}let di=1;function Jh(t){di+=t}function em(t){return t.dynamicChildren=di>0?Bt||Zr:null,xw(),di>0&&Bt&&Bt.push(t),t}function ve(t,e,n,r,s,i){return em(v(t,e,n,r,s,i,!0))}function Pr(t,e,n,r,s){return em(ee(t,e,n,r,s,!0))}function Ho(t){return t?t.__v_isVNode===!0:!1}function Ms(t,e){return t.type===e.type&&t.key===e.key}const Oa="__vInternal",tm=({key:t})=>t??null,Ro=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Qe(t)||_t(t)||re(t)?{i:yt,r:t,k:e,f:!!n}:t:null);function v(t,e=null,n=null,r=0,s=null,i=t===Ke?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&tm(e),ref:e&&Ro(e),scopeId:Ra,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:yt};return a?(gu(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=Qe(n)?8:16),di>0&&!o&&Bt&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Bt.push(c),c}const ee=Nw;function Nw(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===hw)&&(t=Zn),Ho(t)){const a=er(t,e,!0);return n&&gu(a,n),di>0&&!i&&Bt&&(a.shapeFlag&6?Bt[Bt.indexOf(t)]=a:Bt.push(a)),a.patchFlag|=-2,a}if(Hw(t)&&(t=t.__vccOpts),e){e=Dw(e);let{class:a,style:c}=e;a&&!Qe(a)&&(e.class=us(a)),Oe(c)&&(Cp(c)&&!K(c)&&(c=ht({},c)),e.style=Ta(c))}const o=Qe(t)?1:Yv(t)?128:kw(t)?64:Oe(t)?4:re(t)?2:0;return v(t,e,n,r,s,o,i,!0)}function Dw(t){return t?Cp(t)||Oa in t?ht({},t):t:null}function er(t,e,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=t,a=e?nm(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&tm(a),ref:e&&e.ref?n&&s?K(s)?s.concat(Ro(e)):[s,Ro(e)]:Ro(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ke?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&er(t.ssContent),ssFallback:t.ssFallback&&er(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Ce(t=" ",e=0){return ee(Ca,null,t,e)}function sr(t,e){const n=ee(So,null,t);return n.staticCount=e,n}function pn(t="",e=!1){return e?(le(),Pr(Zn,null,t)):ee(Zn,null,t)}function Yt(t){return t==null||typeof t=="boolean"?ee(Zn):K(t)?ee(Ke,null,t.slice()):typeof t=="object"?Vn(t):ee(Ca,null,String(t))}function Vn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:er(t)}function gu(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(K(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),gu(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(Oa in e)?e._ctx=yt:s===3&&yt&&(yt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else re(e)?(e={default:e,_ctx:yt},n=32):(e=String(e),r&64?(n=16,e=[Ce(e)]):n=8);t.children=e,t.shapeFlag|=n}function nm(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=us([e.class,r.class]));else if(s==="style")e.style=Ta([e.style,r.style]);else if(wa(s)){const i=e[s],o=r[s];o&&i!==o&&!(K(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Xt(t,e,n,r=null){qt(t,e,7,[n,r])}const Mw=Kp();let Lw=0;function Vw(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||Mw,i={uid:Lw++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new gp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Qp(r,s),emitsOptions:Up(r,s),emit:null,emitted:null,propsDefaults:Ne,inheritAttrs:r.inheritAttrs,ctx:Ne,data:Ne,props:Ne,attrs:Ne,slots:Ne,refs:Ne,setupState:Ne,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Wv.bind(null,i),t.ce&&t.ce(i),i}let ct=null,_u,qr,Zh="__VUE_INSTANCE_SETTERS__";(qr=Jc()[Zh])||(qr=Jc()[Zh]=[]),qr.push(t=>ct=t),_u=t=>{qr.length>1?qr.forEach(e=>e(t)):qr[0](t)};const ds=t=>{_u(t),t.scope.on()},br=()=>{ct&&ct.scope.off(),_u(null)};function rm(t){return t.vnode.shapeFlag&4}let fi=!1;function $w(t,e=!1){fi=e;const{props:n,children:r}=t.vnode,s=rm(t);bw(t,n,s,e),Aw(t,r);const i=s?Uw(t,e):void 0;return fi=!1,i}function Uw(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Op(new Proxy(t.ctx,pw));const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?jw(t):null;ds(t),Is();const i=Kn(r,t,0,[t.props,s]);if(As(),br(),hp(i)){if(i.then(br,br),e)return i.then(o=>{ed(t,o,e)}).catch(o=>{Aa(o,t,0)});t.asyncDep=i}else ed(t,i,e)}else sm(t,e)}function ed(t,e,n){re(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Oe(e)&&(t.setupState=Dp(e)),sm(t,n)}let td;function sm(t,e,n){const r=t.type;if(!t.render){if(!e&&td&&!r.render){const s=r.template||pu(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=r,l=ht(ht({isCustomElement:i,delimiters:a},o),c);r.render=td(s,l)}}t.render=r.render||zt}{ds(t),Is();try{mw(t)}finally{As(),br()}}}function Fw(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Rt(t,"get","$attrs"),e[n]}}))}function jw(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return Fw(t)},slots:t.slots,emit:t.emit,expose:e}}function ka(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Dp(Op(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ys)return Ys[n](t)},has(e,n){return n in e||n in Ys}}))}function Bw(t,e=!0){return re(t)?t.displayName||t.name:t.name||e&&t.__name}function Hw(t){return re(t)&&"__vccOpts"in t}const Ge=(t,e)=>Fv(t,e,fi);function qn(t,e,n){const r=arguments.length;return r===2?Oe(e)&&!K(e)?Ho(e)?ee(t,null,[e]):ee(t,e):ee(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ho(n)&&(n=[n]),ee(t,e,n))}const zw=Symbol.for("v-scx"),qw=()=>vt(zw),Ww="3.3.7",Kw="http://www.w3.org/2000/svg",pr=typeof document<"u"?document:null,nd=pr&&pr.createElement("template"),Gw={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e?pr.createElementNS(Kw,t):pr.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>pr.createTextNode(t),createComment:t=>pr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>pr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{nd.innerHTML=r?`<svg>${t}</svg>`:t;const a=nd.content;if(r){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Qw=Symbol("_vtc");function Xw(t,e,n){const r=t[Qw];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Yw=Symbol("_vod");function Jw(t,e,n){const r=t.style,s=Qe(n);if(n&&!s){if(e&&!Qe(e))for(const i in e)n[i]==null&&ll(r,i,"");for(const i in n)ll(r,i,n[i])}else{const i=r.display;s?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),Yw in t&&(r.display=i)}}const rd=/\s*!important$/;function ll(t,e,n){if(K(n))n.forEach(r=>ll(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Zw(t,e);rd.test(n)?t.setProperty(Ts(r),n.replace(rd,""),"important"):t[r]=n}}const sd=["Webkit","Moz","ms"],gc={};function Zw(t,e){const n=gc[e];if(n)return n;let r=an(e);if(r!=="filter"&&r in t)return gc[e]=r;r=ba(r);for(let s=0;s<sd.length;s++){const i=sd[s]+r;if(i in t)return gc[e]=i}return e}const id="http://www.w3.org/1999/xlink";function eE(t,e,n,r,s){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(id,e.slice(6,e.length)):t.setAttributeNS(id,e,n);else{const i=hv(e);n==null||i&&!pp(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function tE(t,e,n,r,s,i,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,s,i),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const l=a==="OPTION"?t.getAttribute("value"):t.value,u=n??"";l!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let c=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=pp(n):n==null&&l==="string"?(n="",c=!0):l==="number"&&(n=0,c=!0)}try{t[e]=n}catch{}c&&t.removeAttribute(e)}function mr(t,e,n,r){t.addEventListener(e,n,r)}function nE(t,e,n,r){t.removeEventListener(e,n,r)}const od=Symbol("_vei");function rE(t,e,n,r,s=null){const i=t[od]||(t[od]={}),o=i[e];if(r&&o)o.value=r;else{const[a,c]=sE(e);if(r){const l=i[e]=aE(r,s);mr(t,a,l,c)}else o&&(nE(t,a,o,c),i[e]=void 0)}}const ad=/(?:Once|Passive|Capture)$/;function sE(t){let e;if(ad.test(t)){e={};let r;for(;r=t.match(ad);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ts(t.slice(2)),e]}let _c=0;const iE=Promise.resolve(),oE=()=>_c||(iE.then(()=>_c=0),_c=Date.now());function aE(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;qt(cE(r,n.value),e,5,[r])};return n.value=t,n.attached=oE(),n}function cE(t,e){if(K(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const cd=/^on[a-z]/,lE=(t,e,n,r,s=!1,i,o,a,c)=>{e==="class"?Xw(t,r,s):e==="style"?Jw(t,n,r):wa(e)?Zl(e)||rE(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):uE(t,e,r,s))?tE(t,e,r,i,o,a,c):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),eE(t,e,r,s))};function uE(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&cd.test(e)&&re(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||cd.test(e)&&Qe(n)?!1:e in t}const zo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return K(e)?n=>Ao(e,n):e};function hE(t){t.target.composing=!0}function ld(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ss=Symbol("_assign"),gr={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[ss]=zo(s);const i=r||s.props&&s.props.type==="number";mr(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Yc(a)),t[ss](a)}),n&&mr(t,"change",()=>{t.value=t.value.trim()}),e||(mr(t,"compositionstart",hE),mr(t,"compositionend",ld),mr(t,"change",ld))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:s}},i){if(t[ss]=zo(i),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(s||t.type==="number")&&Yc(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},dE={created(t,{value:e},n){t.checked=$o(e,n.props.value),t[ss]=zo(n),mr(t,"change",()=>{t[ss](fE(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[ss]=zo(r),e!==n&&(t.checked=$o(e,r.props.value))}};function fE(t){return"_value"in t?t._value:t.value}const pE=ht({patchProp:lE},Gw);let ud;function mE(){return ud||(ud=Rw(pE))}const ul=(...t)=>{const e=mE().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=gE(r);if(!s)return;const i=e._component;!re(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function gE(t){return Qe(t)?document.querySelector(t):t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},_E=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},om={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,l=c?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let d=(a&15)<<2|l>>6,f=l&63;c||(f=64,o||(d=64)),r.push(n[u],n[h],n[d],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(im(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_E(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const l=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||l==null||h==null)throw new yE;const d=i<<2|a>>4;if(r.push(d),l!==64){const f=a<<4&240|l>>2;if(r.push(f),h!==64){const _=l<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vE=function(t){const e=im(t);return om.encodeByteArray(e,!0)},qo=function(t){return vE(t).replace(/\./g,"")},am=function(t){try{return om.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=()=>wE().__FIREBASE_DEFAULTS__,bE=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&am(t[1]);return e&&JSON.parse(e)},yu=()=>{try{return EE()||bE()||TE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cm=t=>{var e,n;return(n=(e=yu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},IE=t=>{const e=cm(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lm=()=>{var t;return(t=yu())===null||t===void 0?void 0:t.config},um=t=>{var e;return(e=yu())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[qo(JSON.stringify(n)),qo(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function PE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OE(){const t=Tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function kE(){try{return typeof indexedDB=="object"}catch{return!1}}function xE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="FirebaseError";class kn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NE,Object.setPrototypeOf(this,kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mi.prototype.create)}}class Mi{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?DE(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new kn(s,a,r)}}function DE(t,e){return t.replace(ME,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const ME=/\{\$([^}]+)}/g;function LE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(hd(i)&&hd(o)){if(!Wo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function hd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ws(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ks(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VE(t,e){const n=new $E(t,e);return n.subscribe.bind(n)}class $E{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UE(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=yc),s.error===void 0&&(s.error=yc),s.complete===void 0&&(s.complete=yc);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UE(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class Cr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BE(e))try{this.getOrInitializeService({instanceIdentifier:dr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=dr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=dr){return this.instances.has(e)}getOptions(e=dr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jE(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=dr){return this.component?this.component.multipleInstances?e:dr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jE(t){return t===dr?void 0:t}function BE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const zE={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},qE=de.INFO,WE={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},KE=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=WE[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vu{constructor(e){this.name=e,this._logLevel=qE,this._logHandler=KE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const GE=(t,e)=>e.some(n=>t instanceof n);let dd,fd;function QE(){return dd||(dd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XE(){return fd||(fd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hm=new WeakMap,hl=new WeakMap,dm=new WeakMap,vc=new WeakMap,wu=new WeakMap;function YE(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Gn(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hm.set(n,t)}).catch(()=>{}),wu.set(e,t),e}function JE(t){if(hl.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});hl.set(t,e)}let dl={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hl.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ZE(t){dl=t(dl)}function e0(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wc(this),e,...n);return dm.set(r,e.sort?e.sort():[e]),Gn(r)}:XE().includes(t)?function(...e){return t.apply(wc(this),e),Gn(hm.get(this))}:function(...e){return Gn(t.apply(wc(this),e))}}function t0(t){return typeof t=="function"?e0(t):(t instanceof IDBTransaction&&JE(t),GE(t,QE())?new Proxy(t,dl):t)}function Gn(t){if(t instanceof IDBRequest)return YE(t);if(vc.has(t))return vc.get(t);const e=t0(t);return e!==t&&(vc.set(t,e),wu.set(e,t)),e}const wc=t=>wu.get(t);function n0(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Gn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Gn(o.result),c.oldVersion,c.newVersion,Gn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",l=>s(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const r0=["get","getKey","getAll","getAllKeys","count"],s0=["put","add","delete","clear"],Ec=new Map;function pd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ec.get(e))return Ec.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=s0.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||r0.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),s&&c.done]))[0]};return Ec.set(e,i),i}ZE(t=>({...t,get:(e,n,r)=>pd(e,n)||t.get(e,n,r),has:(e,n)=>!!pd(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(o0(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function o0(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fl="@firebase/app",md="0.9.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or=new vu("@firebase/app"),a0="@firebase/app-compat",c0="@firebase/analytics-compat",l0="@firebase/analytics",u0="@firebase/app-check-compat",h0="@firebase/app-check",d0="@firebase/auth",f0="@firebase/auth-compat",p0="@firebase/database",m0="@firebase/database-compat",g0="@firebase/functions",_0="@firebase/functions-compat",y0="@firebase/installations",v0="@firebase/installations-compat",w0="@firebase/messaging",E0="@firebase/messaging-compat",b0="@firebase/performance",T0="@firebase/performance-compat",I0="@firebase/remote-config",A0="@firebase/remote-config-compat",S0="@firebase/storage",R0="@firebase/storage-compat",P0="@firebase/firestore",C0="@firebase/firestore-compat",O0="firebase",k0="10.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl="[DEFAULT]",x0={[fl]:"fire-core",[a0]:"fire-core-compat",[l0]:"fire-analytics",[c0]:"fire-analytics-compat",[h0]:"fire-app-check",[u0]:"fire-app-check-compat",[d0]:"fire-auth",[f0]:"fire-auth-compat",[p0]:"fire-rtdb",[m0]:"fire-rtdb-compat",[g0]:"fire-fn",[_0]:"fire-fn-compat",[y0]:"fire-iid",[v0]:"fire-iid-compat",[w0]:"fire-fcm",[E0]:"fire-fcm-compat",[b0]:"fire-perf",[T0]:"fire-perf-compat",[I0]:"fire-rc",[A0]:"fire-rc-compat",[S0]:"fire-gcs",[R0]:"fire-gcs-compat",[P0]:"fire-fst",[C0]:"fire-fst-compat","fire-js":"fire-js",[O0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new Map,ml=new Map;function N0(t,e){try{t.container.addComponent(e)}catch(n){Or.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function fs(t){const e=t.name;if(ml.has(e))return Or.debug(`There were multiple attempts to register component ${e}.`),!1;ml.set(e,t);for(const n of Ko.values())N0(n,t);return!0}function Eu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Qn=new Mi("app","Firebase",D0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=k0;function fm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:pl,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Qn.create("bad-app-name",{appName:String(s)});if(n||(n=lm()),!n)throw Qn.create("no-options");const i=Ko.get(s);if(i){if(Wo(n,i.options)&&Wo(r,i.config))return i;throw Qn.create("duplicate-app",{appName:s})}const o=new HE(s);for(const c of ml.values())o.addComponent(c);const a=new M0(n,r,o);return Ko.set(s,a),a}function pm(t=pl){const e=Ko.get(t);if(!e&&t===pl&&lm())return fm();if(!e)throw Qn.create("no-app",{appName:t});return e}function Xn(t,e,n){var r;let s=(r=x0[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Or.warn(a.join(" "));return}fs(new Cr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="firebase-heartbeat-database",V0=1,pi="firebase-heartbeat-store";let bc=null;function mm(){return bc||(bc=n0(L0,V0,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(pi)}}}).catch(t=>{throw Qn.create("idb-open",{originalErrorMessage:t.message})})),bc}async function $0(t){try{return await(await mm()).transaction(pi).objectStore(pi).get(gm(t))}catch(e){if(e instanceof kn)Or.warn(e.message);else{const n=Qn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Or.warn(n.message)}}}async function gd(t,e){try{const r=(await mm()).transaction(pi,"readwrite");await r.objectStore(pi).put(e,gm(t)),await r.done}catch(n){if(n instanceof kn)Or.warn(n.message);else{const r=Qn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Or.warn(r.message)}}}function gm(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=1024,F0=30*24*60*60*1e3;class j0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new H0(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_d();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=F0}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_d(),{heartbeatsToSend:n,unsentEntries:r}=B0(this._heartbeatsCache.heartbeats),s=qo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function _d(){return new Date().toISOString().substring(0,10)}function B0(t,e=U0){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),yd(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),yd(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class H0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kE()?xE().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await $0(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return gd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return gd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function yd(t){return qo(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(t){fs(new Cr("platform-logger",e=>new i0(e),"PRIVATE")),fs(new Cr("heartbeat",e=>new j0(e),"PRIVATE")),Xn(fl,md,t),Xn(fl,md,"esm2017"),Xn("fire-js","")}z0("");function bu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function _m(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const q0=_m,ym=new Mi("auth","Firebase",_m());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new vu("@firebase/auth");function W0(t,...e){Go.logLevel<=de.WARN&&Go.warn(`Auth (${Ss}): ${t}`,...e)}function Po(t,...e){Go.logLevel<=de.ERROR&&Go.error(`Auth (${Ss}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t,...e){throw Tu(t,...e)}function sn(t,...e){return Tu(t,...e)}function K0(t,e,n){const r=Object.assign(Object.assign({},q0()),{[e]:n});return new Mi("auth","Firebase",r).create(e,{appName:t.name})}function Tu(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ym.create(t,...e)}function X(t,e,...n){if(!t)throw Tu(e,...n)}function mn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Po(e),new Error(e)}function An(t,e){t||mn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function G0(){return vd()==="http:"||vd()==="https:"}function vd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(G0()||PE()||"connection"in navigator)?navigator.onLine:!0}function X0(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e,n){this.shortDelay=e,this.longDelay=n,An(n>e,"Short delay should be less than long delay!"),this.isMobile=RE()||CE()}get(){return Q0()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(t,e){An(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=new Vi(3e4,6e4);function Vr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $r(t,e,n,r,s={}){return wm(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Li(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),vm.fetch()(Em(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},i))})}async function wm(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Y0),e);try{const s=new eb(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw uo(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw uo(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw uo(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw uo(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw K0(t,u,l);Wt(t,u)}}catch(s){if(s instanceof kn)throw s;Wt(t,"network-request-failed",{message:String(s)})}}async function $i(t,e,n,r,s={}){const i=await $r(t,e,n,r,s);return"mfaPendingCredential"in i&&Wt(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Em(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Iu(t.config,s):`${t.config.apiScheme}://${s}`}function Z0(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eb{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(sn(this.auth,"network-request-failed")),J0.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function uo(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=sn(t,e,r);return s.customData._tokenResponse=n,s}function wd(t){return t!==void 0&&t.enterprise!==void 0}class tb{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Z0(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function nb(t,e){return $r(t,"GET","/v2/recaptchaConfig",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rb(t,e){return $r(t,"POST","/v1/accounts:delete",e)}async function sb(t,e){return $r(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ib(t,e=!1){const n=Pt(t),r=await n.getIdToken(e),s=Au(r);X(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Zs(Tc(s.auth_time)),issuedAtTime:Zs(Tc(s.iat)),expirationTime:Zs(Tc(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Tc(t){return Number(t)*1e3}function Au(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Po("JWT malformed, contained fewer than 3 sections"),null;try{const s=am(n);return s?JSON.parse(s):(Po("Failed to decode base64 JWT payload"),null)}catch(s){return Po("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function ob(t){const e=Au(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof kn&&ab(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ab({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zs(this.lastLoginAt),this.creationTime=Zs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(t){var e;const n=t.auth,r=await t.getIdToken(),s=await mi(t,sb(n,{idToken:r}));X(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?hb(i.providerUserInfo):[],a=ub(t.providerData,o),c=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=c?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new bm(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function lb(t){const e=Pt(t);await Qo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ub(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function hb(t){return t.map(e=>{var{providerId:n}=e,r=bu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function db(t,e){const n=await wm(t,{},async()=>{const r=Li({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=Em(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",vm.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ob(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return X(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await db(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new gi;return r&&(X(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(X(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(X(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gi,this.toJSON())}_performRefresh(){return mn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Tr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=bu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new bm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await mi(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ib(this,e)}reload(){return lb(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Tr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Qo(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await mi(this,rb(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,c,l,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(s=n.email)!==null&&s!==void 0?s:void 0,f=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,A=(l=n.createdAt)!==null&&l!==void 0?l:void 0,R=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:U,emailVerified:N,isAnonymous:ie,providerData:Y,stsTokenManager:ae}=n;X(U&&ae,e,"internal-error");const Z=gi.fromJSON(this.name,ae);X(typeof U=="string",e,"internal-error"),Nn(h,e.name),Nn(d,e.name),X(typeof N=="boolean",e,"internal-error"),X(typeof ie=="boolean",e,"internal-error"),Nn(f,e.name),Nn(_,e.name),Nn(y,e.name),Nn(b,e.name),Nn(A,e.name),Nn(R,e.name);const ue=new Tr({uid:U,auth:e,email:d,emailVerified:N,displayName:h,isAnonymous:ie,photoURL:_,phoneNumber:f,tenantId:y,stsTokenManager:Z,createdAt:A,lastLoginAt:R});return Y&&Array.isArray(Y)&&(ue.providerData=Y.map(be=>Object.assign({},be))),b&&(ue._redirectEventId=b),ue}static async _fromIdTokenResponse(e,n,r=!1){const s=new gi;s.updateFromServerResponse(n);const i=new Tr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Qo(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed=new Map;function gn(t){An(t instanceof Function,"Expected a class definition");let e=Ed.get(t);return e?(An(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ed.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Tm.type="NONE";const bd=Tm;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(t,e,n){return`firebase:${t}:${e}:${n}`}class is{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Co(this.userKey,s.apiKey,i),this.fullPersistenceKey=Co("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Tr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new is(gn(bd),e,r);const s=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l);let i=s[0]||gn(bd);const o=Co(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=await l._get(o);if(u){const h=Tr._fromJSON(e,u);l!==i&&(a=h),i=l;break}}catch{}const c=s.filter(l=>l._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new is(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==i)try{await l._remove(o)}catch{}})),new is(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Sm(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Im(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Pm(e))return"Blackberry";if(Cm(e))return"Webos";if(Su(e))return"Safari";if((e.includes("chrome/")||Am(e))&&!e.includes("edge/"))return"Chrome";if(Rm(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Im(t=Tt()){return/firefox\//i.test(t)}function Su(t=Tt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Am(t=Tt()){return/crios\//i.test(t)}function Sm(t=Tt()){return/iemobile/i.test(t)}function Rm(t=Tt()){return/android/i.test(t)}function Pm(t=Tt()){return/blackberry/i.test(t)}function Cm(t=Tt()){return/webos/i.test(t)}function xa(t=Tt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fb(t=Tt()){var e;return xa(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pb(){return OE()&&document.documentMode===10}function Om(t=Tt()){return xa(t)||Rm(t)||Cm(t)||Pm(t)||/windows phone/i.test(t)||Sm(t)}function mb(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t,e=[]){let n;switch(t){case"Browser":n=Td(Tt());break;case"Worker":n=`${Td(Tt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ss}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _b(t,e={}){return $r(t,"GET","/v2/passwordPolicy",Vr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=6;class vb{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:yb,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Id(this),this.idTokenSubscription=new Id(this),this.beforeStateQueue=new gb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ym,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await is.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qo(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=X0()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Pt(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(gn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _b(this),n=new vb(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Mi("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gn(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await is.create(this,[gn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=km(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&W0(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ur(t){return Pt(t)}class Id{constructor(e){this.auth=e,this.observer=null,this.addObserver=VE(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function xm(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=sn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Eb().appendChild(r)})}function bb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Tb="https://www.google.com/recaptcha/enterprise.js?render=",Ib="recaptcha-enterprise",Ab="NO_RECAPTCHA";class Sb{constructor(e){this.type=Ib,this.auth=Ur(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{nb(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const l=new tb(c);return i.tenantId==null?i._agentRecaptchaConfig=l:i._tenantRecaptchaConfigs[i.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;wd(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(l=>{o(l)}).catch(()=>{o(Ab)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&wd(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}xm(Tb+a).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Ad(t,e,n,r=!1){const s=new Sb(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Nm(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ad(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Ad(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t,e){const n=Eu(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Wo(i,e??{}))return s;Wt(s,"already-initialized")}return n.initialize({options:e})}function Pb(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Cb(t,e,n){const r=Ur(t);X(r._canInitEmulator,r,"emulator-config-failed"),X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=Dm(e),{host:o,port:a}=Ob(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||kb()}function Dm(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ob(t){const e=Dm(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Sd(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Sd(o)}}}function Sd(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function kb(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mn("not implemented")}_getIdTokenResponse(e){return mn("not implemented")}_linkToIdToken(e,n){return mn("not implemented")}_getReauthenticationResolver(e){return mn("not implemented")}}async function xb(t,e){return $r(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nb(t,e){return $i(t,"POST","/v1/accounts:signInWithPassword",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Db(t,e){return $i(t,"POST","/v1/accounts:signInWithEmailLink",Vr(t,e))}async function Mb(t,e){return $i(t,"POST","/v1/accounts:signInWithEmailLink",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Ru{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new _i(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new _i(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nm(e,n,"signInWithPassword",Nb);case"emailLink":return Db(e,{email:this._email,oobCode:this._password});default:Wt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return xb(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Mb(e,{idToken:n,email:this._email,oobCode:this._password});default:Wt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function os(t,e){return $i(t,"POST","/v1/accounts:signInWithIdp",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="http://localhost";class kr extends Ru{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new kr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Wt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=bu(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new kr(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return os(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,os(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,os(e,n)}buildRequest(){const e={requestUri:Lb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Li(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $b(t){const e=Ws(Ks(t)).link,n=e?Ws(Ks(e)).deep_link_id:null,r=Ws(Ks(t)).deep_link_id;return(r?Ws(Ks(r)).link:null)||r||n||e||t}class Pu{constructor(e){var n,r,s,i,o,a;const c=Ws(Ks(e)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,h=Vb((s=c.mode)!==null&&s!==void 0?s:null);X(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=$b(e);try{return new Pu(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.providerId=Rs.PROVIDER_ID}static credential(e,n){return _i._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Pu.parseLink(n);return X(r,"argument-error"),_i._fromEmailAndCode(e,r.code,r.tenantId)}}Rs.PROVIDER_ID="password";Rs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Rs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Mm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn extends Ui{constructor(){super("facebook.com")}static credential(e){return kr._fromParams({providerId:jn.PROVIDER_ID,signInMethod:jn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jn.credentialFromTaggedObject(e)}static credentialFromError(e){return jn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jn.credential(e.oauthAccessToken)}catch{return null}}}jn.FACEBOOK_SIGN_IN_METHOD="facebook.com";jn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn extends Ui{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return kr._fromParams({providerId:Bn.PROVIDER_ID,signInMethod:Bn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bn.credentialFromTaggedObject(e)}static credentialFromError(e){return Bn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Bn.credential(n,r)}catch{return null}}}Bn.GOOGLE_SIGN_IN_METHOD="google.com";Bn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn extends Ui{constructor(){super("github.com")}static credential(e){return kr._fromParams({providerId:Hn.PROVIDER_ID,signInMethod:Hn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hn.credentialFromTaggedObject(e)}static credentialFromError(e){return Hn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hn.credential(e.oauthAccessToken)}catch{return null}}}Hn.GITHUB_SIGN_IN_METHOD="github.com";Hn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn extends Ui{constructor(){super("twitter.com")}static credential(e,n){return kr._fromParams({providerId:zn.PROVIDER_ID,signInMethod:zn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zn.credentialFromTaggedObject(e)}static credentialFromError(e){return zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zn.credential(n,r)}catch{return null}}}zn.TWITTER_SIGN_IN_METHOD="twitter.com";zn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ub(t,e){return $i(t,"POST","/v1/accounts:signUp",Vr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Tr._fromIdTokenResponse(e,r,s),o=Rd(r);return new xr({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Rd(r);return new xr({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Rd(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends kn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Xo.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Xo(e,n,r,s)}}function Lm(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Xo._fromErrorAndOperation(t,i,e,r):i})}async function Fb(t,e,n=!1){const r=await mi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xr._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jb(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await mi(t,Lm(r,s,e,t),n);X(i.idToken,r,"internal-error");const o=Au(i.idToken);X(o,r,"internal-error");const{sub:a}=o;return X(t.uid===a,r,"user-mismatch"),xr._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Wt(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vm(t,e,n=!1){const r="signIn",s=await Lm(t,r,e),i=await xr._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Bb(t,e){return Vm(Ur(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $m(t){const e=Ur(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Pd(t,e,n){const r=Ur(t),o=await Nm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ub).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&$m(t),c}),a=await xr._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Hb(t,e,n){return Bb(Pt(t),Rs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&$m(t),r})}function zb(t,e,n,r){return Pt(t).onIdTokenChanged(e,n,r)}function qb(t,e,n){return Pt(t).beforeAuthStateChanged(e,n)}function Wb(t,e,n,r){return Pt(t).onAuthStateChanged(e,n,r)}function Kb(t){return Pt(t).signOut()}const Yo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Yo,"1"),this.storage.removeItem(Yo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(){const t=Tt();return Su(t)||xa(t)}const Qb=1e3,Xb=10;class Fm extends Um{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Gb()&&mb(),this.fallbackToPolling=Om(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);pb()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Xb):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Qb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Fm.type="LOCAL";const Yb=Fm;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm extends Um{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jm.type="SESSION";const Bm=jm;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Na(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async l=>l(n.origin,i)),c=await Jb(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Na.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const l=Cu("",20);s.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const d=h;if(d.data.eventId===l)switch(d.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(d.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return window}function eT(t){on().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(){return typeof on().WorkerGlobalScope<"u"&&typeof on().importScripts=="function"}async function tT(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nT(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rT(){return Hm()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zm="firebaseLocalStorageDb",sT=1,Jo="firebaseLocalStorage",qm="fbase_key";class Fi{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Da(t,e){return t.transaction([Jo],e?"readwrite":"readonly").objectStore(Jo)}function iT(){const t=indexedDB.deleteDatabase(zm);return new Fi(t).toPromise()}function _l(){const t=indexedDB.open(zm,sT);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Jo,{keyPath:qm})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Jo)?e(r):(r.close(),await iT(),e(await _l()))})})}async function Cd(t,e,n){const r=Da(t,!0).put({[qm]:e,value:n});return new Fi(r).toPromise()}async function oT(t,e){const n=Da(t,!1).get(e),r=await new Fi(n).toPromise();return r===void 0?null:r.value}function Od(t,e){const n=Da(t,!0).delete(e);return new Fi(n).toPromise()}const aT=800,cT=3;class Wm{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _l(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cT)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Hm()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Na._getInstance(rT()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await tT(),!this.activeServiceWorker)return;this.sender=new Zb(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||nT()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _l();return await Cd(e,Yo,"1"),await Od(e,Yo),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Cd(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>oT(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Od(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Da(s,!1).getAll();return new Fi(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Wm.type="LOCAL";const lT=Wm;new Vi(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(t,e){return e?gn(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends Ru{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return os(e,this._buildIdpRequest())}_linkToIdToken(e,n){return os(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return os(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hT(t){return Vm(t.auth,new Ou(t),t.bypassAuthState)}function dT(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),jb(n,new Ou(t),t.bypassAuthState)}async function fT(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),Fb(n,new Ou(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hT;case"linkViaPopup":case"linkViaRedirect":return fT;case"reauthViaPopup":case"reauthViaRedirect":return dT;default:Wt(this.auth,"internal-error")}}resolve(e){An(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){An(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT=new Vi(2e3,1e4);class Yr extends Km{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Yr.currentPopupAction&&Yr.currentPopupAction.cancel(),Yr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){An(this.filter.length===1,"Popup operations only handle one event");const e=Cu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(sn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pT.get())};e()}}Yr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="pendingRedirect",Oo=new Map;class gT extends Km{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Oo.get(this.auth._key());if(!e){try{const r=await _T(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Oo.set(this.auth._key(),e)}return this.bypassAuthState||Oo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _T(t,e){const n=wT(e),r=vT(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function yT(t,e){Oo.set(t._key(),e)}function vT(t){return gn(t._redirectPersistence)}function wT(t){return Co(mT,t.config.apiKey,t.name)}async function ET(t,e,n=!1){const r=Ur(t),s=uT(r,e),o=await new gT(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=10*60*1e3;class TT{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IT(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Gm(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(sn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bT&&this.cachedEventUids.clear(),this.cachedEventUids.has(kd(e))}saveEventToCache(e){this.cachedEventUids.add(kd(e)),this.lastProcessedEventTime=Date.now()}}function kd(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Gm({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IT(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gm(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AT(t,e={}){return $r(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RT=/^https?/;async function PT(t){if(t.config.emulator)return;const{authorizedDomains:e}=await AT(t);for(const n of e)try{if(CT(n))return}catch{}Wt(t,"unauthorized-domain")}function CT(t){const e=gl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!RT.test(n))return!1;if(ST.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=new Vi(3e4,6e4);function xd(){const t=on().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kT(t){return new Promise((e,n)=>{var r,s,i;function o(){xd(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xd(),n(sn(t,"network-request-failed"))},timeout:OT.get()})}if(!((s=(r=on().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=on().gapi)===null||i===void 0)&&i.load)o();else{const a=bb("iframefcb");return on()[a]=()=>{gapi.load?o():n(sn(t,"network-request-failed"))},xm(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw ko=null,e})}let ko=null;function xT(t){return ko=ko||kT(t),ko}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=new Vi(5e3,15e3),DT="__/auth/iframe",MT="emulator/auth/iframe",LT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $T(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Iu(e,MT):`https://${t.config.authDomain}/${DT}`,r={apiKey:e.apiKey,appName:t.name,v:Ss},s=VT.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Li(r).slice(1)}`}async function UT(t){const e=await xT(t),n=on().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:$T(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LT,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=sn(t,"network-request-failed"),a=on().setTimeout(()=>{i(o)},NT.get());function c(){on().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jT=500,BT=600,HT="_blank",zT="http://localhost";class Nd{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qT(t,e,n,r=jT,s=BT){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},FT),{width:r.toString(),height:s.toString(),top:i,left:o}),l=Tt().toLowerCase();n&&(a=Am(l)?HT:n),Im(l)&&(e=e||zT,c.scrollbars="yes");const u=Object.entries(c).reduce((d,[f,_])=>`${d}${f}=${_},`,"");if(fb(l)&&a!=="_self")return WT(e||"",a),new Nd(null);const h=window.open(e||"",a,u);X(h,t,"popup-blocked");try{h.focus()}catch{}return new Nd(h)}function WT(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="__/auth/handler",GT="emulator/auth/handler",QT=encodeURIComponent("fac");async function Dd(t,e,n,r,s,i){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ss,eventId:s};if(e instanceof Mm){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",LE(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(i||{}))o[u]=h}if(e instanceof Ui){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const c=await t._getAppCheckToken(),l=c?`#${QT}=${encodeURIComponent(c)}`:"";return`${XT(t)}?${Li(a).slice(1)}${l}`}function XT({config:t}){return t.emulator?Iu(t,GT):`https://${t.authDomain}/${KT}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic="webStorageSupport";class YT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bm,this._completeRedirectFn=ET,this._overrideRedirectResult=yT}async _openPopup(e,n,r,s){var i;An((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Dd(e,n,r,gl(),s);return qT(e,o,Cu())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Dd(e,n,r,gl(),s);return eT(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(An(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await UT(e),r=new TT(e);return n.register("authEvent",s=>(X(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ic,{type:Ic},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Ic];o!==void 0&&n(!!o),Wt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PT(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Om()||Su()||xa()}}const JT=YT;var Md="@firebase/auth",Ld="1.3.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function tI(t){fs(new Cr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:km(t)},l=new wb(r,s,i,c);return Pb(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),fs(new Cr("auth-internal",e=>{const n=Ur(e.getProvider("auth").getImmediate());return(r=>new ZT(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xn(Md,Ld,eI(t)),Xn(Md,Ld,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=5*60,rI=um("authIdTokenMaxAge")||nI;let Vd=null;const sI=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rI)return;const s=n==null?void 0:n.token;Vd!==s&&(Vd=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function yl(t=pm()){const e=Eu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Rb(t,{popupRedirectResolver:JT,persistence:[lT,Yb,Bm]}),r=um("authTokenSyncURL");if(r){const i=sI(r);qb(n,i,()=>i(n.currentUser)),zb(n,o=>i(o))}const s=cm("auth");return s&&Cb(n,`http://${s}`),n}tI("Browser");const Qm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAACuklEQVR4nO2Xy0uUURjGR8OyG0FkC4OuRlSb1E0twiyQQsVQaZW1iqJ1NO1MQyiNwP6BWtQialct1RZdaRFtnLHLojtUm6xNUvziZZ7B08c5Z74ZcecDB7457/W8z3suk8ksICWAKqAZGAQmgDzwSyOnuQGgaT4CHwGmSA9Lrtds5xp8C/DMcfwKuAS0AuuAxRr2vR8YBl47+k+ATZUGbwW+y9Eb4ChQncJuEdAHvJXtN6ClkuAzcnAbWJGQdwEPnB4w/jsTOiuBO/LxO3USFMpeXPlIkkfgYoT7IU//XHYqEaeDgkGR81ue4F3Ois4C9RpZzRk6EjbVqqLhcbQxKXS74T2wzCO3shuyHpklYRj3yJYDHyXvia1+Skp9AZ2fktd7ZFYJw3TA9rjkuVACzVJ4F+r2OSZgVHyQTqNPYVDCK94MCzoTEQrOSTYWsR+VzvmY87aIg06nCbOBJmyP2B8KJsks/w0hB9IbimzDCyVst0ov7xNOS1gbcyLdDut29YSNsdjKHbvaYJ8wm8CqzDwBWK0YP2IUbIw4sK3aDtzUWTGjYTvnhjgOHjR2EsYoGJfwcMB4J/Dc4duO1qca9l2EnaQ7Aj66Y004IOGoR3bAOQPuArvdlWqP7wHuFTkG9nn8XJW835dAk4SfgCXO/HYF/wOc8q0s4ec08FdJbEs04GfF2BXiNy+FE86cldhwplRwz73wyJk7qbnJmGGvU4U1wEH9fpHmMZKg5KVs24A6Z/XdMcMqPaMQn9fdipQDZ8XXgPv6fljynUhhq7hdbdhcQQINCR9fY1v8P9jzyTnbDXWZMgGsdezN195yHbQ4lTD+jgE1KexqdPd/cVZeXvAEHfaMwklkWHfBemCpxgbdlCNOsxU5T1f2Eo3Zo38/aTEZ7fZKATTaY0K3X865DXOa6/ceMgvIhPEPJgWsZOoGlDAAAAAASUVORK5CYII=";const Xe=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},iI={data(){return{showSearchBar:!1,isNavbarOpen:!1,isUserAuthenticated:!1}},created(){const t=yl();Wb(t,e=>{this.isUserAuthenticated=e!==null})},methods:{toggleSearch(){console.log("hihi"),this.showSearchBar=!this.showSearchBar},toggleNavbar(){this.isNavbarOpen=!this.isNavbarOpen},signOut(){const t=yl();Kb(t).then(()=>{this.isUserAuthenticated=!1,this.$router.push("/")}).catch(e=>{console.error("Sign Out Error:",e)})}}},ir=t=>(Pn("data-v-486da28a"),t=t(),Cn(),t),oI={id:"header",class:"fixed-top header-transparent"},aI={class:"container-fluid d-flex align-items-center justify-content-between position-relative"},cI={class:"logo ps-3"},lI={class:"text-light"},uI=ir(()=>v("span",null,"ECOSCAPE",-1)),hI={class:"navbar navbar-expand-lg p-0"},dI={class:"container-fluid"},fI=ir(()=>v("i",{class:"fa fa-bars mobile-nav-toggle"},null,-1)),pI=[fI],mI={class:"search-icon"},gI=ir(()=>v("i",{class:"fa fa-search"},null,-1)),_I=[gI],yI=ir(()=>v("input",{type:"text",class:"search-input",placeholder:"Enter keywords to search"},null,-1)),vI=ir(()=>v("i",{class:"fa fa-times"},null,-1)),wI=[vI],EI={class:"dropdown"},bI=ir(()=>v("a",{href:"#"},[v("span",null,"Directory"),Ce(),v("i",{class:"fa fa-angle-down"})],-1)),TI=ir(()=>v("img",{src:Qm,class:"profile-icon",alt:"profile"},null,-1)),II=ir(()=>v("img",{src:Qm,class:"profile-icon",alt:"profile"},null,-1));function AI(t,e,n,r,s,i){const o=Fe("router-link");return le(),ve("header",oI,[v("div",aI,[v("div",cI,[v("h1",lI,[ee(o,{to:"/"},{default:ze(()=>[uI]),_:1})])]),v("nav",hI,[v("div",dI,[v("button",{class:"navbar-toggler",type:"button",onClick:e[0]||(e[0]=(...a)=>i.toggleNavbar&&i.toggleNavbar(...a))},pI),v("div",{class:us(["collapse navbar-collapse",{show:s.isNavbarOpen}]),id:"navbarExamples"},[v("ul",null,[v("li",null,[ee(o,{to:"/",class:"nav-link scrollto",exact:""},{default:ze(()=>[Ce("Home")]),_:1})]),v("li",mI,[v("button",{onClick:e[1]||(e[1]=(...a)=>i.toggleSearch&&i.toggleSearch(...a))},_I),v("div",{class:us(["search-bar",{show:s.showSearchBar}])},[yI,v("button",{onClick:e[2]||(e[2]=(...a)=>i.toggleSearch&&i.toggleSearch(...a))},wI)],2)]),v("li",null,[ee(o,{to:"#",class:"nav-link"},{default:ze(()=>[Ce("About Us")]),_:1})]),v("li",EI,[bI,v("ul",null,[v("li",null,[ee(o,{to:"#"},{default:ze(()=>[Ce("Hotels")]),_:1})]),v("li",null,[ee(o,{to:"#"},{default:ze(()=>[Ce("Attractions")]),_:1})]),v("li",null,[ee(o,{to:"#"},{default:ze(()=>[Ce("Restaurants")]),_:1})]),v("li",null,[ee(o,{to:"/Transport"},{default:ze(()=>[Ce("Green Transport Planner")]),_:1})])])]),s.isUserAuthenticated?(le(),Pr(o,{key:0,to:"/logout",class:"nav-link",onClick:i.signOut},{default:ze(()=>[TI,Ce(" Sign Out ")]),_:1},8,["onClick"])):(le(),Pr(o,{key:1,to:"/login",class:"nav-link"},{default:ze(()=>[II,Ce(" Login / Sign Up ")]),_:1}))])],2)])])])])}const Ma=Xe(iI,[["render",AI],["__scopeId","data-v-486da28a"]]),SI="/assets/homepage-img2-b3228da0.png";const RI={data(){return{backgroundImage:"../images/homepage-bg.jpg",iconImage:"../images/icon2.jpg"}},created(){window.addEventListener("scroll",this.parallaxScroll)},beforeDestroy(){window.removeEventListener("scroll",this.parallaxScroll)},methods:{parallaxScroll(){const t=document.getElementById("bg"),e=document.getElementById("main-title"),n=window.scrollY;t.style.top=n*.5+"px",e.style.top=n*1+"px"}}},Xm=t=>(Pn("data-v-ee3e0222"),t=t(),Cn(),t),PI={id:"homepage"},CI=["src"],OI=Xm(()=>v("img",{src:SI,id:"img",class:"w-100 h-100",alt:"img"},null,-1)),kI={"data-aos":"fade-up","data-aos-duration":"1500"},xI={id:"main-title"},NI=["src"],DI=Xm(()=>v("a",{class:"btn-get-started scrollto",id:"scroll-icon",href:"#about-us"},[v("div",{class:"circle-btn"},[v("i",{class:"fa fa-angle-double-down",style:{"font-size":"20px"}})])],-1));function MI(t,e,n,r,s,i){return le(),ve("section",PI,[v("img",{src:s.backgroundImage,class:"w-100 h-100",alt:"bg",id:"bg"},null,8,CI),OI,v("div",kI,[v("div",xI,[v("img",{src:s.iconImage,id:"title-icon",alt:""},null,8,NI),Ce(" EcoScape ")])]),DI])}const Ym=Xe(RI,[["render",MI],["__scopeId","data-v-ee3e0222"]]);/**
 * Vue 3 Carousel 0.3.1
 * (c) 2023
 * @license MIT
 */const st={itemsToShow:1,itemsToScroll:1,modelValue:0,transition:300,autoplay:0,snapAlign:"center",wrapAround:!1,throttle:16,pauseAutoplayOnHover:!1,mouseDrag:!0,touchDrag:!0,dir:"ltr",breakpoints:void 0,i18n:{ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaGallery:"Gallery",itemXofY:"Item {currentSlide} of {slidesCount}",iconArrowUp:"Arrow pointing upwards",iconArrowDown:"Arrow pointing downwards",iconArrowRight:"Arrow pointing to the right",iconArrowLeft:"Arrow pointing to the left"}},$d={itemsToShow:{default:st.itemsToShow,type:Number},itemsToScroll:{default:st.itemsToScroll,type:Number},wrapAround:{default:st.wrapAround,type:Boolean},throttle:{default:st.throttle,type:Number},snapAlign:{default:st.snapAlign,validator(t){return["start","end","center","center-even","center-odd"].includes(t)}},transition:{default:st.transition,type:Number},breakpoints:{default:st.breakpoints,type:Object},autoplay:{default:st.autoplay,type:Number},pauseAutoplayOnHover:{default:st.pauseAutoplayOnHover,type:Boolean},modelValue:{default:void 0,type:Number},mouseDrag:{default:st.mouseDrag,type:Boolean},touchDrag:{default:st.touchDrag,type:Boolean},dir:{default:st.dir,validator(t){return["rtl","ltr"].includes(t)}},i18n:{default:st.i18n,type:Object},settings:{default(){return{}},type:Object}};function LI({config:t,slidesCount:e}){const{snapAlign:n,wrapAround:r,itemsToShow:s=1}=t;if(r)return Math.max(e-1,0);let i;switch(n){case"start":i=e-s;break;case"end":i=e-1;break;case"center":case"center-odd":i=e-Math.ceil((s-.5)/2);break;case"center-even":i=e-Math.ceil(s/2);break;default:i=0;break}return Math.max(i,0)}function VI({config:t,slidesCount:e}){const{wrapAround:n,snapAlign:r,itemsToShow:s=1}=t;let i=0;if(n||s>e)return i;switch(r){case"start":i=0;break;case"end":i=s-1;break;case"center":case"center-odd":i=Math.floor((s-1)/2);break;case"center-even":i=Math.floor((s-2)/2);break;default:i=0;break}return i}function vl({val:t,max:e,min:n}){return e<n?t:Math.min(Math.max(t,n),e)}function $I({config:t,currentSlide:e,slidesCount:n}){const{snapAlign:r,wrapAround:s,itemsToShow:i=1}=t;let o=e;switch(r){case"center":case"center-odd":o-=(i-1)/2;break;case"center-even":o-=(i-2)/2;break;case"end":o-=i-1;break}return s?o:vl({val:o,max:n-i,min:0})}function Jm(t){return t?t.reduce((e,n)=>{var r;return n.type===Ke?[...e,...Jm(n.children)]:((r=n.type)===null||r===void 0?void 0:r.name)==="CarouselSlide"?[...e,n]:e},[]):[]}function wl({val:t,max:e,min:n=0}){return t>e?wl({val:t-(e+1),max:e,min:n}):t<n?wl({val:t+(e+1),max:e,min:n}):t}function UI(t,e){let n;return e?function(...r){const s=this;n||(t.apply(s,r),n=!0,setTimeout(()=>n=!1,e))}:t}function FI(t,e){let n;return function(...r){n&&clearTimeout(n),n=setTimeout(()=>{t(...r),n=null},e)}}function jI(t="",e={}){return Object.entries(e).reduce((n,[r,s])=>n.replace(`{${r}}`,String(s)),t)}var BI=Lr({name:"ARIA",setup(){const t=vt("config",rn(Object.assign({},st))),e=vt("currentSlide",ye(0)),n=vt("slidesCount",ye(0));return()=>qn("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},jI(t.i18n.itemXofY,{currentSlide:e.value+1,slidesCount:n.value}))}}),HI=Lr({name:"Carousel",props:$d,setup(t,{slots:e,emit:n,expose:r}){var s;const i=ye(null),o=ye([]),a=ye(0),c=ye(0),l=rn(Object.assign({},st));let u=Object.assign({},st),h;const d=ye((s=t.modelValue)!==null&&s!==void 0?s:0),f=ye(0),_=ye(0),y=ye(0),b=ye(0);let A,R;xt("config",l),xt("slidesCount",c),xt("currentSlide",d),xt("maxSlide",y),xt("minSlide",b),xt("slideWidth",a);function U(){h=Object.assign({},t.breakpoints),u=Object.assign(Object.assign(Object.assign({},u),t),{i18n:Object.assign(Object.assign({},u.i18n),t.i18n),breakpoints:void 0}),ie(u)}function N(){if(!h||!Object.keys(h).length)return;const g=Object.keys(h).map(E=>Number(E)).sort((E,S)=>+S-+E);let w=Object.assign({},u);g.some(E=>{const S=window.matchMedia(`(min-width: ${E}px)`).matches;return S&&(w=Object.assign(Object.assign({},w),h[E])),S}),ie(w)}function ie(g){Object.entries(g).forEach(([w,E])=>l[w]=E)}const Y=FI(()=>{N(),ae()},16);function ae(){if(!i.value)return;const g=i.value.getBoundingClientRect();a.value=g.width/l.itemsToShow}function Z(){c.value<=0||(_.value=Math.ceil((c.value-1)/2),y.value=LI({config:l,slidesCount:c.value}),b.value=VI({config:l,slidesCount:c.value}),l.wrapAround||(d.value=vl({val:d.value,max:y.value,min:b.value})))}hu(()=>{lu(()=>ae()),setTimeout(()=>ae(),1e3),N(),dt(),window.addEventListener("resize",Y,{passive:!0}),n("init")}),du(()=>{R&&clearTimeout(R),A&&clearInterval(A),window.removeEventListener("resize",Y,{passive:!0})});let ue=!1;const be={x:0,y:0},j={x:0,y:0},L=rn({x:0,y:0}),Q=ye(!1),q=ye(!1),ke=()=>{Q.value=!0},_e=()=>{Q.value=!1};function ce(g){["INPUT","TEXTAREA","SELECT"].includes(g.target.tagName)||(ue=g.type==="touchstart",ue||g.preventDefault(),!(!ue&&g.button!==0||Ae.value)&&(be.x=ue?g.touches[0].clientX:g.clientX,be.y=ue?g.touches[0].clientY:g.clientY,document.addEventListener(ue?"touchmove":"mousemove",se,!0),document.addEventListener(ue?"touchend":"mouseup",je,!0)))}const se=UI(g=>{q.value=!0,j.x=ue?g.touches[0].clientX:g.clientX,j.y=ue?g.touches[0].clientY:g.clientY;const w=j.x-be.x,E=j.y-be.y;L.y=E,L.x=w},l.throttle);function je(){const g=l.dir==="rtl"?-1:1,w=Math.sign(L.x)*.4,E=Math.round(L.x/a.value+w)*g;if(E&&!ue){const S=$=>{$.stopPropagation(),window.removeEventListener("click",S,!0)};window.addEventListener("click",S,!0)}xe(d.value-E),L.x=0,L.y=0,q.value=!1,document.removeEventListener(ue?"touchmove":"mousemove",se,!0),document.removeEventListener(ue?"touchend":"mouseup",je,!0)}function dt(){!l.autoplay||l.autoplay<=0||(A=setInterval(()=>{l.pauseAutoplayOnHover&&Q.value||Le()},l.autoplay))}function rt(){A&&(clearInterval(A),A=null),dt()}const Ae=ye(!1);function xe(g){const w=l.wrapAround?g:vl({val:g,max:y.value,min:b.value});d.value===w||Ae.value||(n("slide-start",{slidingToIndex:g,currentSlideIndex:d.value,prevSlideIndex:f.value,slidesCount:c.value}),Ae.value=!0,f.value=d.value,d.value=w,R=setTimeout(()=>{if(l.wrapAround){const E=wl({val:w,max:y.value,min:0});E!==d.value&&(d.value=E,n("loop",{currentSlideIndex:d.value,slidingToIndex:g}))}n("update:modelValue",d.value),n("slide-end",{currentSlideIndex:d.value,prevSlideIndex:f.value,slidesCount:c.value}),Ae.value=!1,rt()},l.transition))}function Le(){xe(d.value+l.itemsToScroll)}function We(){xe(d.value-l.itemsToScroll)}const Ee={slideTo:xe,next:Le,prev:We};xt("nav",Ee),xt("isSliding",Ae);const T=Ge(()=>$I({config:l,currentSlide:d.value,slidesCount:c.value}));xt("slidesToScroll",T);const D=Ge(()=>{const g=l.dir==="rtl"?-1:1,w=T.value*a.value*g;return{transform:`translateX(${L.x-w}px)`,transition:`${Ae.value?l.transition:0}ms`,margin:l.wrapAround?`0 -${c.value*a.value}px`:"",width:"100%"}});function O(){U(),N(),Z(),ae(),rt()}Object.keys($d).forEach(g=>{["modelValue"].includes(g)||En(()=>t[g],O)}),En(()=>t.modelValue,g=>{g!==d.value&&xe(Number(g))}),En(c,Z),n("before-init"),U();const F={config:l,slidesCount:c,slideWidth:a,next:Le,prev:We,slideTo:xe,currentSlide:d,maxSlide:y,minSlide:b,middleSlide:_};r({updateBreakpointsConfigs:N,updateSlidesData:Z,updateSlideWidth:ae,initDefaultConfigs:U,restartCarousel:O,slideTo:xe,next:Le,prev:We,nav:Ee,data:F});const te=e.default||e.slides,p=e.addons,m=rn(F);return()=>{const g=Jm(te==null?void 0:te(m)),w=(p==null?void 0:p(m))||[];g.forEach((x,M)=>x.props.index=M);let E=g;if(l.wrapAround){const x=g.map((P,H)=>er(P,{index:-g.length+H,isClone:!0,key:`clone-before-${H}`})),M=g.map((P,H)=>er(P,{index:g.length+H,isClone:!0,key:`clone-after-${H}`}));E=[...x,...g,...M]}o.value=g,c.value=Math.max(g.length,1);const S=qn("ol",{class:"carousel__track",style:D.value,onMousedownCapture:l.mouseDrag?ce:null,onTouchstartPassiveCapture:l.touchDrag?ce:null},E),$=qn("div",{class:"carousel__viewport"},S);return qn("section",{ref:i,class:{carousel:!0,"is-sliding":Ae.value,"is-dragging":q.value,"is-hover":Q.value,"carousel--rtl":l.dir==="rtl"},dir:l.dir,"aria-label":l.i18n.ariaGallery,tabindex:"0",onMouseenter:ke,onMouseleave:_e},[$,w,qn(BI)])}}}),Ud;(function(t){t.arrowUp="arrowUp",t.arrowDown="arrowDown",t.arrowRight="arrowRight",t.arrowLeft="arrowLeft"})(Ud||(Ud={}));var zI=Lr({name:"CarouselSlide",props:{index:{type:Number,default:1},isClone:{type:Boolean,default:!1}},setup(t,{slots:e}){const n=vt("config",rn(Object.assign({},st))),r=vt("currentSlide",ye(0)),s=vt("slidesToScroll",ye(0)),i=vt("isSliding",ye(!1)),o=()=>t.index===r.value,a=()=>t.index===r.value-1,c=()=>t.index===r.value+1,l=()=>{const u=Math.floor(s.value),h=Math.ceil(s.value+n.itemsToShow-1);return t.index>=u&&t.index<=h};return()=>{var u;return qn("li",{style:{width:`${100/n.itemsToShow}%`},class:{carousel__slide:!0,"carousel__slide--clone":t.isClone,"carousel__slide--visible":l(),"carousel__slide--active":o(),"carousel__slide--prev":a(),"carousel__slide--next":c(),"carousel__slide--sliding":i.value},"aria-hidden":!l()},(u=e.default)===null||u===void 0?void 0:u.call(e))}}});const qI=Lr({data(){return{images:[{src:"/images/parkroyal.jpg",caption:{title:"Eco-Friendly Retreat",description:"Discover a sustainable paradise that goes beyond luxury."}},{src:"/images/jewel.jpg",caption:{title:"Nature's Playground",description:"Discover thrilling adventures while preserving our planet."}},{src:"/images/restaurant.jpg",caption:{title:"Gastronomic Greenery",description:"Savor delectable dishes crafted with sustainability in mind."}},{src:"/images/electric_bus.jpg",caption:{title:"Ride the Future",description:"Efficient and eco-friendly transport solutions for cleaner cities."}}]}},components:{Carousel:HI,Slide:zI}}),WI=t=>(Pn("data-v-b06335a8"),t=t(),Cn(),t),KI={id:"about-us"},GI={class:"container-fluid about-container mt-5"},QI={class:"row align-items-center"},XI=WI(()=>v("div",{class:"col-12 col-md-4 about_text text-center p-3 ps-5"},[v("div",{"data-aos":"fade-up","data-aos-duration":"1000"},[v("h2",null,"ABOUT US"),v("p",{class:"about-para"},[Ce(" We aim to contribute to raising awareness about "),v("span",{class:"fw-bold"},"SUSTAINABLE TOURISM PRACTICES"),Ce(" and play a role in preserving Singapore's natural and cultural heritage for future generations. ")])])],-1)),YI={class:"col-12 col-md-8 carousel pt-5 pb-5"},JI={class:"carousel__item"},ZI=["src"],eA={class:"caption"};function tA(t,e,n,r,s,i){const o=Fe("Slide"),a=Fe("Carousel");return le(),ve("div",KI,[v("div",GI,[v("div",QI,[XI,v("div",YI,[ee(a,{itemsToShow:3,wrapAround:!0,transition:1e3,autoplay:3500},{default:ze(()=>[(le(!0),ve(Ke,null,fu(t.images,c=>(le(),Pr(o,{key:c.src},{default:ze(()=>[v("div",JI,[v("img",{class:"caroImg",src:c.src,alt:""},null,8,ZI),v("div",eA,[v("h4",null,vn(c.caption.title),1),v("p",null,vn(c.caption.description),1)])])]),_:2},1024))),128))]),_:1})])])])])}const Zm=Xe(qI,[["render",tA],["__scopeId","data-v-b06335a8"]]),nA="/assets/icon-lightgreen-e6a82418.png";const rA={methods:{openEmail(){window.open("mailto:example@example.com")},openFacebook(){window.open("https://www.facebook.com/your-facebook-page","_blank")},openInstagram(){window.open("https://www.instagram.com/your-instagram-profile","_blank")}},created(){const t=document.getElementById("year");t&&(t.innerHTML=new Date().getFullYear())}},Fr=t=>(Pn("data-v-8ae81b20"),t=t(),Cn(),t),sA={id:"footer"},iA={class:"container-fluid pt-2 ps-2 pe-0"},oA={class:"row pt-2 mb-2"},aA=sr('<div class="col-lg-1 col-md-1 mb-2 mb-lg-0" data-v-8ae81b20></div><div class="col-lg-4 col-md-4 mb-2 mb-lg-0" data-v-8ae81b20><div class="d-flex align-items-center" data-v-8ae81b20><img src="'+nA+'" alt="img" class="footer-logo mt-4 mb-3" data-v-8ae81b20><h2 class="footer-main-title mt-2 ps-3 pt-2" data-v-8ae81b20>EcoScape</h2></div></div>',2),cA={class:"footer-columns col-lg-2 col-md-2 mb-4 mb-lg-0"},lA=Fr(()=>v("h6",{class:"footer-title text-uppercase fw-bold mb-2"},"Directory",-1)),uA={class:"list-unstyled mb-0"},hA={class:"mb-1"},dA={class:"mb-1"},fA={class:"mb-1"},pA={class:"mb-2"},mA={class:"footer-columns col-lg-2 col-md-2 mb-4 mb-lg-0"},gA=Fr(()=>v("h6",{class:"footer-title text-uppercase fw-bold mb-2"},"Account",-1)),_A={class:"list-unstyled mb-0"},yA={class:"mb-3"},vA=Fr(()=>v("h6",{class:"footer-title text-uppercase fw-bold mb-2"},"EcoScape",-1)),wA={class:"list-unstyled mb-0"},EA={class:"mb-2"},bA={class:"footer-columns col-lg-2 col-md-2 mb-4 mb-lg-0"},TA=Fr(()=>v("h6",{class:"footer-title text-uppercase fw-bold mb-2"},"Contact Us",-1)),IA={class:"list-unstyled mb-0"},AA={class:"mb-1"},SA=Fr(()=>v("i",{class:"fa fa-envelope pe-2"},null,-1)),RA={class:"mb-1"},PA=Fr(()=>v("i",{class:"fa fa-facebook me-1 pe-2"},null,-1)),CA={class:"mb-1"},OA=Fr(()=>v("i",{class:"fa fa-instagram pe-2"},null,-1)),kA=sr('<div class="col-lg-1 col-md-2 mb-2 mb-lg-0" data-v-8ae81b20></div><div class="footer-copyrights" data-v-8ae81b20><div class="container-fluid text-center" data-v-8ae81b20><p class="copyrights-text text-light p-2" data-v-8ae81b20>  <span id="year" data-v-8ae81b20></span> EcoScape All rights reserved. </p></div></div>',2);function xA(t,e,n,r,s,i){const o=Fe("router-link");return le(),ve("div",sA,[v("footer",null,[v("div",iA,[v("div",oA,[aA,v("div",cA,[lA,v("ul",uA,[v("li",hA,[ee(o,{to:"/attractions",class:"footer-links"},{default:ze(()=>[Ce("Attractions")]),_:1})]),v("li",dA,[ee(o,{to:"/hotels",class:"footer-links"},{default:ze(()=>[Ce("Hotels")]),_:1})]),v("li",fA,[ee(o,{to:"/restaurants",class:"footer-links"},{default:ze(()=>[Ce("Restaurant")]),_:1})]),v("li",pA,[ee(o,{to:"/transport-planner",class:"footer-links"},{default:ze(()=>[Ce("Green Transport Planner")]),_:1})])])]),v("div",mA,[gA,v("ul",_A,[v("li",yA,[ee(o,{to:"/Login",class:"footer-links"},{default:ze(()=>[Ce("Login/Sign Up")]),_:1})])]),vA,v("ul",wA,[v("li",EA,[ee(o,{to:"/Homepage",class:"footer-links"},{default:ze(()=>[Ce("About Us")]),_:1})])])]),v("div",bA,[TA,v("ul",IA,[v("li",AA,[v("a",{onClick:e[0]||(e[0]=(...a)=>i.openEmail&&i.openEmail(...a)),class:"footer-links"},[SA,Ce("Email")])]),v("li",RA,[v("a",{onClick:e[1]||(e[1]=(...a)=>i.openFacebook&&i.openFacebook(...a)),class:"footer-links"},[PA,Ce("Facebook")])]),v("li",CA,[v("a",{onClick:e[2]||(e[2]=(...a)=>i.openInstagram&&i.openInstagram(...a)),class:"footer-links"},[OA,Ce("Instagram")])])])])]),kA])])])}const La=Xe(rA,[["render",xA],["__scopeId","data-v-8ae81b20"]]);var NA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tg={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(NA,function(){return function(n){function r(i){if(s[i])return s[i].exports;var o=s[i]={exports:{},id:i,loaded:!1};return n[i].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var s={};return r.m=n,r.c=s,r.p="dist/",r(0)}([function(n,r,s){function i(q){return q&&q.__esModule?q:{default:q}}var o=Object.assign||function(q){for(var ke=1;ke<arguments.length;ke++){var _e=arguments[ke];for(var ce in _e)Object.prototype.hasOwnProperty.call(_e,ce)&&(q[ce]=_e[ce])}return q},a=s(1),c=(i(a),s(6)),l=i(c),u=s(7),h=i(u),d=s(8),f=i(d),_=s(9),y=i(_),b=s(10),A=i(b),R=s(11),U=i(R),N=s(14),ie=i(N),Y=[],ae=!1,Z={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},ue=function(){var q=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(q&&(ae=!0),ae)return Y=(0,U.default)(Y,Z),(0,A.default)(Y,Z.once),Y},be=function(){Y=(0,ie.default)(),ue()},j=function(){Y.forEach(function(q,ke){q.node.removeAttribute("data-aos"),q.node.removeAttribute("data-aos-easing"),q.node.removeAttribute("data-aos-duration"),q.node.removeAttribute("data-aos-delay")})},L=function(q){return q===!0||q==="mobile"&&y.default.mobile()||q==="phone"&&y.default.phone()||q==="tablet"&&y.default.tablet()||typeof q=="function"&&q()===!0},Q=function(q){Z=o(Z,q),Y=(0,ie.default)();var ke=document.all&&!window.atob;return L(Z.disable)||ke?j():(Z.disableMutationObserver||f.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),Z.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",Z.easing),document.querySelector("body").setAttribute("data-aos-duration",Z.duration),document.querySelector("body").setAttribute("data-aos-delay",Z.delay),Z.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?ue(!0):Z.startEvent==="load"?window.addEventListener(Z.startEvent,function(){ue(!0)}):document.addEventListener(Z.startEvent,function(){ue(!0)}),window.addEventListener("resize",(0,h.default)(ue,Z.debounceDelay,!0)),window.addEventListener("orientationchange",(0,h.default)(ue,Z.debounceDelay,!0)),window.addEventListener("scroll",(0,l.default)(function(){(0,A.default)(Y,Z.once)},Z.throttleDelay)),Z.disableMutationObserver||f.default.ready("[data-aos]",be),Y)};n.exports={init:Q,refresh:ue,refreshHard:be}},function(n,r){},,,,,function(n,r){(function(s){function i(L,Q,q){function ke(g){var w=Le,E=We;return Le=We=void 0,F=g,T=L.apply(E,w)}function _e(g){return F=g,D=setTimeout(je,Q),te?ke(g):T}function ce(g){var w=g-O,E=g-F,S=Q-w;return p?be(S,Ee-E):S}function se(g){var w=g-O,E=g-F;return O===void 0||w>=Q||w<0||p&&E>=Ee}function je(){var g=j();return se(g)?dt(g):void(D=setTimeout(je,ce(g)))}function dt(g){return D=void 0,m&&Le?ke(g):(Le=We=void 0,T)}function rt(){D!==void 0&&clearTimeout(D),F=0,Le=O=We=D=void 0}function Ae(){return D===void 0?T:dt(j())}function xe(){var g=j(),w=se(g);if(Le=arguments,We=this,O=g,w){if(D===void 0)return _e(O);if(p)return D=setTimeout(je,Q),ke(O)}return D===void 0&&(D=setTimeout(je,Q)),T}var Le,We,Ee,T,D,O,F=0,te=!1,p=!1,m=!0;if(typeof L!="function")throw new TypeError(d);return Q=u(Q)||0,a(q)&&(te=!!q.leading,p="maxWait"in q,Ee=p?ue(u(q.maxWait)||0,Q):Ee,m="trailing"in q?!!q.trailing:m),xe.cancel=rt,xe.flush=Ae,xe}function o(L,Q,q){var ke=!0,_e=!0;if(typeof L!="function")throw new TypeError(d);return a(q)&&(ke="leading"in q?!!q.leading:ke,_e="trailing"in q?!!q.trailing:_e),i(L,Q,{leading:ke,maxWait:Q,trailing:_e})}function a(L){var Q=typeof L>"u"?"undefined":h(L);return!!L&&(Q=="object"||Q=="function")}function c(L){return!!L&&(typeof L>"u"?"undefined":h(L))=="object"}function l(L){return(typeof L>"u"?"undefined":h(L))=="symbol"||c(L)&&Z.call(L)==_}function u(L){if(typeof L=="number")return L;if(l(L))return f;if(a(L)){var Q=typeof L.valueOf=="function"?L.valueOf():L;L=a(Q)?Q+"":Q}if(typeof L!="string")return L===0?L:+L;L=L.replace(y,"");var q=A.test(L);return q||R.test(L)?U(L.slice(2),q?2:8):b.test(L)?f:+L}var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},d="Expected a function",f=NaN,_="[object Symbol]",y=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,A=/^0b[01]+$/i,R=/^0o[0-7]+$/i,U=parseInt,N=(typeof s>"u"?"undefined":h(s))=="object"&&s&&s.Object===Object&&s,ie=(typeof self>"u"?"undefined":h(self))=="object"&&self&&self.Object===Object&&self,Y=N||ie||Function("return this")(),ae=Object.prototype,Z=ae.toString,ue=Math.max,be=Math.min,j=function(){return Y.Date.now()};n.exports=o}).call(r,function(){return this}())},function(n,r){(function(s){function i(j,L,Q){function q(m){var g=xe,w=Le;return xe=Le=void 0,O=m,Ee=j.apply(w,g)}function ke(m){return O=m,T=setTimeout(se,L),F?q(m):Ee}function _e(m){var g=m-D,w=m-O,E=L-g;return te?ue(E,We-w):E}function ce(m){var g=m-D,w=m-O;return D===void 0||g>=L||g<0||te&&w>=We}function se(){var m=be();return ce(m)?je(m):void(T=setTimeout(se,_e(m)))}function je(m){return T=void 0,p&&xe?q(m):(xe=Le=void 0,Ee)}function dt(){T!==void 0&&clearTimeout(T),O=0,xe=D=Le=T=void 0}function rt(){return T===void 0?Ee:je(be())}function Ae(){var m=be(),g=ce(m);if(xe=arguments,Le=this,D=m,g){if(T===void 0)return ke(D);if(te)return T=setTimeout(se,L),q(D)}return T===void 0&&(T=setTimeout(se,L)),Ee}var xe,Le,We,Ee,T,D,O=0,F=!1,te=!1,p=!0;if(typeof j!="function")throw new TypeError(h);return L=l(L)||0,o(Q)&&(F=!!Q.leading,te="maxWait"in Q,We=te?Z(l(Q.maxWait)||0,L):We,p="trailing"in Q?!!Q.trailing:p),Ae.cancel=dt,Ae.flush=rt,Ae}function o(j){var L=typeof j>"u"?"undefined":u(j);return!!j&&(L=="object"||L=="function")}function a(j){return!!j&&(typeof j>"u"?"undefined":u(j))=="object"}function c(j){return(typeof j>"u"?"undefined":u(j))=="symbol"||a(j)&&ae.call(j)==f}function l(j){if(typeof j=="number")return j;if(c(j))return d;if(o(j)){var L=typeof j.valueOf=="function"?j.valueOf():j;j=o(L)?L+"":L}if(typeof j!="string")return j===0?j:+j;j=j.replace(_,"");var Q=b.test(j);return Q||A.test(j)?R(j.slice(2),Q?2:8):y.test(j)?d:+j}var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},h="Expected a function",d=NaN,f="[object Symbol]",_=/^\s+|\s+$/g,y=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,A=/^0o[0-7]+$/i,R=parseInt,U=(typeof s>"u"?"undefined":u(s))=="object"&&s&&s.Object===Object&&s,N=(typeof self>"u"?"undefined":u(self))=="object"&&self&&self.Object===Object&&self,ie=U||N||Function("return this")(),Y=Object.prototype,ae=Y.toString,Z=Math.max,ue=Math.min,be=function(){return ie.Date.now()};n.exports=i}).call(r,function(){return this}())},function(n,r){function s(u){var h=void 0,d=void 0;for(h=0;h<u.length;h+=1)if(d=u[h],d.dataset&&d.dataset.aos||d.children&&s(d.children))return!0;return!1}function i(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function o(){return!!i()}function a(u,h){var d=window.document,f=i(),_=new f(c);l=h,_.observe(d.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function c(u){u&&u.forEach(function(h){var d=Array.prototype.slice.call(h.addedNodes),f=Array.prototype.slice.call(h.removedNodes),_=d.concat(f);if(s(_))return l()})}Object.defineProperty(r,"__esModule",{value:!0});var l=function(){};r.default={isSupported:o,ready:a}},function(n,r){function s(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function i(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function d(f,_){for(var y=0;y<_.length;y++){var b=_[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,_,y){return _&&d(f.prototype,_),y&&d(f,y),f}}(),a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,c=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,l=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,u=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,h=function(){function d(){s(this,d)}return o(d,[{key:"phone",value:function(){var f=i();return!(!a.test(f)&&!c.test(f.substr(0,4)))}},{key:"mobile",value:function(){var f=i();return!(!l.test(f)&&!u.test(f.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),d}();r.default=new h},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var s=function(o,a,c){var l=o.node.getAttribute("data-aos-once");a>o.position?o.node.classList.add("aos-animate"):typeof l<"u"&&(l==="false"||!c&&l!=="true")&&o.node.classList.remove("aos-animate")},i=function(o,a){var c=window.pageYOffset,l=window.innerHeight;o.forEach(function(u,h){s(u,l+c,a)})};r.default=i},function(n,r,s){function i(l){return l&&l.__esModule?l:{default:l}}Object.defineProperty(r,"__esModule",{value:!0});var o=s(12),a=i(o),c=function(l,u){return l.forEach(function(h,d){h.node.classList.add("aos-init"),h.position=(0,a.default)(h.node,u.offset)}),l};r.default=c},function(n,r,s){function i(l){return l&&l.__esModule?l:{default:l}}Object.defineProperty(r,"__esModule",{value:!0});var o=s(13),a=i(o),c=function(l,u){var h=0,d=0,f=window.innerHeight,_={offset:l.getAttribute("data-aos-offset"),anchor:l.getAttribute("data-aos-anchor"),anchorPlacement:l.getAttribute("data-aos-anchor-placement")};switch(_.offset&&!isNaN(_.offset)&&(d=parseInt(_.offset)),_.anchor&&document.querySelectorAll(_.anchor)&&(l=document.querySelectorAll(_.anchor)[0]),h=(0,a.default)(l).top,_.anchorPlacement){case"top-bottom":break;case"center-bottom":h+=l.offsetHeight/2;break;case"bottom-bottom":h+=l.offsetHeight;break;case"top-center":h+=f/2;break;case"bottom-center":h+=f/2+l.offsetHeight;break;case"center-center":h+=f/2+l.offsetHeight/2;break;case"top-top":h+=f;break;case"bottom-top":h+=l.offsetHeight+f;break;case"center-top":h+=l.offsetHeight/2+f}return _.anchorPlacement||_.offset||isNaN(u)||(d=u),h+d};r.default=c},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var s=function(i){for(var o=0,a=0;i&&!isNaN(i.offsetLeft)&&!isNaN(i.offsetTop);)o+=i.offsetLeft-(i.tagName!="BODY"?i.scrollLeft:0),a+=i.offsetTop-(i.tagName!="BODY"?i.scrollTop:0),i=i.offsetParent;return{top:a,left:o}};r.default=s},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var s=function(i){return i=i||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(i,function(o){return{node:o}})};r.default=s}])})})(tg);var DA=tg.exports;const MA=eg(DA);const LA={name:"Map",setup(){const t=ye({lat:1.284722,lng:103.865}),e=ye({id:1,position:t.value}),n=ye(null),r=ye(""),s=ye({address:"",url:""}),i=()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(c=>{t.value.lat=c.coords.latitude,t.value.lng=c.coords.longitude})},o=c=>{t.value.lat=place.geometry.location.lat(),t.value.lng=place.geometry.location.lng(),s.value.address=place.formatted_address,s.value.url=place.url},a=c=>{n.value=c};return hu(()=>{i()}),{coords:t,markerDetails:e,openedMarkerID:n,openMarker:a,getUserLocation:i,setPlace:o,locationDetails:s,searchInput:r}}},VA=t=>(Pn("data-v-42d9c727"),t=t(),Cn(),t),$A={class:"search-box"},UA={class:"location-details"},FA=VA(()=>v("h3",null,"Location Details",-1)),jA=["href"];function BA(t,e,n,r,s,i){const o=Fe("GMapAutocomplete"),a=Fe("GMapMarker"),c=Fe("GMapInfoWindow"),l=Fe("GMapMap");return le(),ve("div",null,[v("div",$A,[ee(o,{placeholder:"Search for a location",onPlace_changed:r.setPlace,modelValue:r.searchInput,"onUpdate:modelValue":e[0]||(e[0]=u=>r.searchInput=u),style:{"font-size":"medium"}},null,8,["onPlace_changed","modelValue"])]),ee(l,{center:r.coords,zoom:10,"map-type-id":"terrain",style:{width:"100%",height:"100vh"}},{default:ze(()=>[(le(),Pr(a,{key:r.markerDetails.id,position:r.coords,clickable:!0,draggable:!0,onClick:e[1]||(e[1]=u=>r.openMarker())},null,8,["position"])),r.locationDetails.address!==""?(le(),Pr(c,{key:0,closeclick:!0,onCloseclick:e[2]||(e[2]=u=>r.openMarker()),opened:r.openedMarkerID===r.markerDetails.id,options:{pixelOffset:{width:10,height:10},maxWidth:320,maxHeight:320}},{default:ze(()=>[v("div",UA,[FA,v("p",null,"Address: "+vn(r.locationDetails.address),1),v("p",null,[Ce(" URL: "),v("a",{href:r.locationDetails.url,target:"_blank"},vn(r.locationDetails.url),9,jA)])])]),_:1},8,["opened"])):pn("",!0)]),_:1},8,["center"])])}const ng=Xe(LA,[["render",BA],["__scopeId","data-v-42d9c727"]]);const HA={methods:{onSlideHover(t){const e=t.currentTarget,n=e.querySelector(".flex-title"),r=e.querySelector(".flex-about");n.style.transform="rotate(0deg)",n.style.top="25%",r.style.opacity="1"},onSlideLeave(t){const e=t.currentTarget,n=e.querySelector(".flex-title"),r=e.querySelector(".flex-about");n.style.transform="rotate(90deg)",n.style.top="25%",r.style.opacity="0"},onMounted(){const t=document.querySelector("#down-btn-bicycle"),e=document.querySelector("#down-btn-ev"),n=document.querySelector("#down-btn-bus"),r=document.querySelector("#down-btn-mrt"),s=document.getElementById("card-text");t.addEventListener("click",function(){s.textContent="Learn more about our bicycle rental services and how you can contribute to a greener future."}),e.addEventListener("click",function(){s.textContent="Electric vehicle (EV) rentals for an emission-free ride."}),n.addEventListener("click",function(){s.textContent="Public buses designed for maximum comfort and minimal environmental impact."}),r.addEventListener("click",function(){s.textContent="Efficient MRT system to save time and reduce carbon emissions."})}},mounted(){this.onMounted()}},zA={id:"slide"},qA={class:"flex-container"},WA=sr('<div class="slide-content" data-v-aede7aa6><div class="flex-title flex-title-bicycle" data-aos="fade-up" data-aos-duration="1000" data-v-aede7aa6> BICYCLE </div><div class="flex-about flex-about-bicycle text-center" data-v-aede7aa6><p data-v-aede7aa6> Pedal your way to a greener future with bicycle rental services across the country. <br data-v-aede7aa6> Enjoy the freedom of two-wheel transportation while contributing to reduced air pollution and traffic congestion. </p></div><a class="btn-get-started scrollto" id="scroll-icon" href="#transport-info" data-v-aede7aa6><div class="down-btn" id="down-btn-bicycle" data-v-aede7aa6><i class="fa fa-angle-down" data-v-aede7aa6></i></div></a></div>',1),KA=[WA],GA=sr('<div class="slide-content" data-v-aede7aa6><div class="flex-title" data-aos="fade-up" data-aos-duration="1500" data-v-aede7aa6> ELECTRIC VEHICLE </div><div class="flex-about text-center" data-v-aede7aa6><p data-v-aede7aa6> Switch to electric vehicles (EVs) for an emission-free ride. Electric vehicle rental option is provided for a sustainable way to travel, whether it&#39;s for a short trip or an extended journey. </p></div><a class="btn-get-started scrollto" id="scroll-icon" href="#transport-info" data-v-aede7aa6><div class="down-btn" id="down-btn-ev" data-v-aede7aa6><i class="fa fa-angle-down" data-v-aede7aa6></i></div></a></div>',1),QA=[GA],XA=sr('<div class="slide-content" data-v-aede7aa6><div class="flex-title" data-aos="fade-up" data-aos-duration="2000" data-v-aede7aa6> BUS </div><div class="flex-about text-center" data-v-aede7aa6><p data-v-aede7aa6> Hop on board our eco-friendly public buses, designed for maximum passenger comfort and minimal environmental impact. Convenient routes and reliable schedules make it a breeze to get around. </p></div><a class="btn-get-started scrollto" id="scroll-icon" href="#transport-info" data-v-aede7aa6><div class="down-btn" id="down-btn-bus" data-v-aede7aa6><i class="fa fa-angle-down" data-v-aede7aa6></i></div></a></div>',1),YA=[XA],JA=sr('<div class="slide-content" data-v-aede7aa6><div class="flex-title" data-aos="fade-up" data-aos-duration="2500" data-v-aede7aa6> MRT </div><div class="flex-about text-center" data-v-aede7aa6><p data-v-aede7aa6> Experience the speed and efficiency of our MRT system, the backbone of urban public transportation. Save time and energy while minimizing your carbon emissions. </p></div><a class="btn-get-started scrollto" id="scroll-icon" href="#transport-info" data-v-aede7aa6><div class="down-btn" id="down-btn-mrt" data-v-aede7aa6><i class="fa fa-angle-down" data-v-aede7aa6></i></div></a></div>',1),ZA=[JA],eS=sr('<section id="transport-info" data-v-aede7aa6><div class="d-flex justify-content-center align-items-center" data-v-aede7aa6><div class="card rounded-2 border mx-5 text-center w-75" data-v-aede7aa6><div class="card-title mt-4 pt-3" data-v-aede7aa6> Discover Sustainable Mobility with Us </div><div class="card-subtitle px-5 pt-4 mx-4" data-v-aede7aa6> Are you ready to embrace eco-friendly transportation and reduce your carbon footprint? EcoScape offers a range of sustainable options that not only help protect the environment but also make your daily commute or travel more convenient. Explore our Green Transport Planner. </div><div class="card-text mt-5 pb-3 mb-3" id="card-text" data-v-aede7aa6> Join us in reducing your carbon footprint and protecting the environment. Start your journey with EcoScape today! </div></div></div></section>',1);function tS(t,e,n,r,s,i){return le(),ve(Ke,null,[v("section",zA,[v("div",qA,[v("div",{class:"flex-slide bicycle",onMouseenter:e[0]||(e[0]=(...o)=>i.onSlideHover&&i.onSlideHover(...o)),onMouseleave:e[1]||(e[1]=(...o)=>i.onSlideLeave&&i.onSlideLeave(...o))},KA,32),v("div",{class:"flex-slide ev",onMouseenter:e[2]||(e[2]=(...o)=>i.onSlideHover&&i.onSlideHover(...o)),onMouseleave:e[3]||(e[3]=(...o)=>i.onSlideLeave&&i.onSlideLeave(...o))},QA,32),v("div",{class:"flex-slide bus",onMouseenter:e[4]||(e[4]=(...o)=>i.onSlideHover&&i.onSlideHover(...o)),onMouseleave:e[5]||(e[5]=(...o)=>i.onSlideLeave&&i.onSlideLeave(...o))},YA,32),v("div",{class:"flex-slide mrt",onMouseenter:e[6]||(e[6]=(...o)=>i.onSlideHover&&i.onSlideHover(...o)),onMouseleave:e[7]||(e[7]=(...o)=>i.onSlideLeave&&i.onSlideLeave(...o))},ZA,32)])]),eS],64)}const rg=Xe(HA,[["render",tS],["__scopeId","data-v-aede7aa6"]]);const nS={name:"App",components:{NavBar:Ma,Footer:La,HomepageParallax:Ym,AboutCarousel:Zm,SearchMap:ng,TransportSlides:rg},mounted(){MA.init()}},rS={id:"app"};function sS(t,e,n,r,s,i){const o=Fe("router-view");return le(),ve("div",rS,[ee(o)])}const iS=Xe(nS,[["render",sS]]);function oS(){return sg().__VUE_DEVTOOLS_GLOBAL_HOOK__}function sg(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const aS=typeof Proxy=="function",cS="devtools-plugin:setup",lS="plugin:settings:set";let Wr,El;function uS(){var t;return Wr!==void 0||(typeof window<"u"&&window.performance?(Wr=!0,El=window.performance):typeof global<"u"&&(!((t=global.perf_hooks)===null||t===void 0)&&t.performance)?(Wr=!0,El=global.perf_hooks.performance):Wr=!1),Wr}function hS(){return uS()?El.now():Date.now()}class dS{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const o in e.settings){const a=e.settings[o];r[o]=a.defaultValue}const s=`__vue-devtools-plugin-settings__${e.id}`;let i=Object.assign({},r);try{const o=localStorage.getItem(s),a=JSON.parse(o);Object.assign(i,a)}catch{}this.fallbacks={getSettings(){return i},setSettings(o){try{localStorage.setItem(s,JSON.stringify(o))}catch{}i=o},now(){return hS()}},n&&n.on(lS,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...c)=>{this.onQueue.push({method:a,args:c})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...c)=>(this.targetQueue.push({method:a,args:c,resolve:()=>{}}),this.fallbacks[a](...c)):(...c)=>new Promise(l=>{this.targetQueue.push({method:a,args:c,resolve:l})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function fS(t,e){const n=t,r=sg(),s=oS(),i=aS&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))s.emit(cS,t,e);else{const o=i?new dS(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:o}),o&&e(o.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var pS="store";function Ps(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function mS(t){return t!==null&&typeof t=="object"}function gS(t){return t&&typeof t.then=="function"}function _S(t,e){return function(){return t(e)}}function ig(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function og(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Va(t,n,[],t._modules.root,!0),ku(t,n,e)}function ku(t,e,n){var r=t._state,s=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,o={},a={},c=fv(!0);c.run(function(){Ps(i,function(l,u){o[u]=_S(l,t),a[u]=Ge(function(){return o[u]()}),Object.defineProperty(t.getters,u,{get:function(){return a[u].value},enumerable:!0})})}),t._state=rn({data:e}),t._scope=c,t.strict&&bS(t),r&&n&&t._withCommit(function(){r.data=null}),s&&s.stop()}function Va(t,e,n,r,s){var i=!n.length,o=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=r),!i&&!s){var a=xu(e,n.slice(0,-1)),c=n[n.length-1];t._withCommit(function(){a[c]=r.state})}var l=r.context=yS(t,o,n);r.forEachMutation(function(u,h){var d=o+h;vS(t,d,u,l)}),r.forEachAction(function(u,h){var d=u.root?h:o+h,f=u.handler||u;wS(t,d,f,l)}),r.forEachGetter(function(u,h){var d=o+h;ES(t,d,u,l)}),r.forEachChild(function(u,h){Va(t,e,n.concat(h),u,s)})}function yS(t,e,n){var r=e==="",s={dispatch:r?t.dispatch:function(i,o,a){var c=Zo(i,o,a),l=c.payload,u=c.options,h=c.type;return(!u||!u.root)&&(h=e+h),t.dispatch(h,l)},commit:r?t.commit:function(i,o,a){var c=Zo(i,o,a),l=c.payload,u=c.options,h=c.type;(!u||!u.root)&&(h=e+h),t.commit(h,l,u)}};return Object.defineProperties(s,{getters:{get:r?function(){return t.getters}:function(){return ag(t,e)}},state:{get:function(){return xu(t.state,n)}}}),s}function ag(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(s){if(s.slice(0,r)===e){var i=s.slice(r);Object.defineProperty(n,i,{get:function(){return t.getters[s]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function vS(t,e,n,r){var s=t._mutations[e]||(t._mutations[e]=[]);s.push(function(o){n.call(t,r.state,o)})}function wS(t,e,n,r){var s=t._actions[e]||(t._actions[e]=[]);s.push(function(o){var a=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},o);return gS(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(c){throw t._devtoolHook.emit("vuex:error",c),c}):a})}function ES(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(i){return n(r.state,r.getters,i.state,i.getters)})}function bS(t){En(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function xu(t,e){return e.reduce(function(n,r){return n[r]},t)}function Zo(t,e,n){return mS(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var TS="vuex bindings",Fd="vuex:mutations",Ac="vuex:actions",Kr="vuex",IS=0;function AS(t,e){fS({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[TS]},function(n){n.addTimelineLayer({id:Fd,label:"Vuex Mutations",color:jd}),n.addTimelineLayer({id:Ac,label:"Vuex Actions",color:jd}),n.addInspector({id:Kr,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===Kr)if(r.filter){var s=[];hg(s,e._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[ug(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===Kr){var s=r.nodeId;ag(e,s),r.state=PS(OS(e._modules,s),s==="root"?e.getters:e._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===Kr){var s=r.nodeId,i=r.path;s!=="root"&&(i=s.split("/").filter(Boolean).concat(i)),e._withCommit(function(){r.set(e._state.data,i,r.state.value)})}}),e.subscribe(function(r,s){var i={};r.payload&&(i.payload=r.payload),i.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(Kr),n.sendInspectorState(Kr),n.addTimelineEvent({layerId:Fd,event:{time:Date.now(),title:r.type,data:i}})}),e.subscribeAction({before:function(r,s){var i={};r.payload&&(i.payload=r.payload),r._id=IS++,r._time=Date.now(),i.state=s,n.addTimelineEvent({layerId:Ac,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:i}})},after:function(r,s){var i={},o=Date.now()-r._time;i.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(i.payload=r.payload),i.state=s,n.addTimelineEvent({layerId:Ac,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:i}})}})})}var jd=8702998,SS=6710886,RS=16777215,cg={label:"namespaced",textColor:RS,backgroundColor:SS};function lg(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function ug(t,e){return{id:e||"root",label:lg(e),tags:t.namespaced?[cg]:[],children:Object.keys(t._children).map(function(n){return ug(t._children[n],e+n+"/")})}}function hg(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[cg]:[]}),Object.keys(e._children).forEach(function(s){hg(t,e._children[s],n,r+s+"/")})}function PS(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),s={state:Object.keys(t.state).map(function(o){return{key:o,editable:!0,value:t.state[o]}})};if(r.length){var i=CS(e);s.getters=Object.keys(i).map(function(o){return{key:o.endsWith("/")?lg(o):o,editable:!1,value:bl(function(){return i[o]})}})}return s}function CS(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var s=e,i=r.pop();r.forEach(function(o){s[o]||(s[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),s=s[o]._custom.value}),s[i]=bl(function(){return t[n]})}else e[n]=bl(function(){return t[n]})}),e}function OS(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,s,i){var o=r[s];if(!o)throw new Error('Missing module "'+s+'" for path "'+e+'".');return i===n.length-1?o:o._children},e==="root"?t:t.root._children)}function bl(t){try{return t()}catch(e){return e}}var Gt=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},dg={namespaced:{configurable:!0}};dg.namespaced.get=function(){return!!this._rawModule.namespaced};Gt.prototype.addChild=function(e,n){this._children[e]=n};Gt.prototype.removeChild=function(e){delete this._children[e]};Gt.prototype.getChild=function(e){return this._children[e]};Gt.prototype.hasChild=function(e){return e in this._children};Gt.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};Gt.prototype.forEachChild=function(e){Ps(this._children,e)};Gt.prototype.forEachGetter=function(e){this._rawModule.getters&&Ps(this._rawModule.getters,e)};Gt.prototype.forEachAction=function(e){this._rawModule.actions&&Ps(this._rawModule.actions,e)};Gt.prototype.forEachMutation=function(e){this._rawModule.mutations&&Ps(this._rawModule.mutations,e)};Object.defineProperties(Gt.prototype,dg);var jr=function(e){this.register([],e,!1)};jr.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};jr.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};jr.prototype.update=function(e){fg([],this.root,e)};jr.prototype.register=function(e,n,r){var s=this;r===void 0&&(r=!0);var i=new Gt(n,r);if(e.length===0)this.root=i;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],i)}n.modules&&Ps(n.modules,function(a,c){s.register(e.concat(c),a,r)})};jr.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};jr.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function fg(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;fg(t.concat(r),e.getChild(r),n.modules[r])}}function kS(t){return new Ot(t)}var Ot=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var s=e.strict;s===void 0&&(s=!1);var i=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new jr(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var o=this,a=this,c=a.dispatch,l=a.commit;this.dispatch=function(d,f){return c.call(o,d,f)},this.commit=function(d,f,_){return l.call(o,d,f,_)},this.strict=s;var u=this._modules.root.state;Va(this,u,[],this._modules.root),ku(this,u),r.forEach(function(h){return h(n)})},Nu={state:{configurable:!0}};Ot.prototype.install=function(e,n){e.provide(n||pS,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&AS(e,this)};Nu.state.get=function(){return this._state.data};Nu.state.set=function(t){};Ot.prototype.commit=function(e,n,r){var s=this,i=Zo(e,n,r),o=i.type,a=i.payload,c={type:o,payload:a},l=this._mutations[o];l&&(this._withCommit(function(){l.forEach(function(h){h(a)})}),this._subscribers.slice().forEach(function(u){return u(c,s.state)}))};Ot.prototype.dispatch=function(e,n){var r=this,s=Zo(e,n),i=s.type,o=s.payload,a={type:i,payload:o},c=this._actions[i];if(c){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(a,r.state)})}catch{}var l=c.length>1?Promise.all(c.map(function(u){return u(o)})):c[0](o);return new Promise(function(u,h){l.then(function(d){try{r._actionSubscribers.filter(function(f){return f.after}).forEach(function(f){return f.after(a,r.state)})}catch{}u(d)},function(d){try{r._actionSubscribers.filter(function(f){return f.error}).forEach(function(f){return f.error(a,r.state,d)})}catch{}h(d)})})}};Ot.prototype.subscribe=function(e,n){return ig(e,this._subscribers,n)};Ot.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return ig(r,this._actionSubscribers,n)};Ot.prototype.watch=function(e,n,r){var s=this;return En(function(){return e(s.state,s.getters)},n,Object.assign({},r))};Ot.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};Ot.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Va(this,this.state,e,this._modules.get(e),r.preserveState),ku(this,this.state)};Ot.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=xu(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),og(this)};Ot.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};Ot.prototype.hotUpdate=function(e){this._modules.update(e),og(this,!0)};Ot.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(Ot.prototype,Nu);const xS=kS({state:{isLoggedIn:!1},mutations:{setLoggedIn(t){t.isLoggedIn=!0},setLoggedOut(t){t.isLoggedIn=!1}},actions:{login(t){setTimeout(()=>{t.commit("setLoggedIn")},1e3)},logout(t){t.commit("setLoggedOut")}},getters:{isUserLoggedIn(t){return t.isLoggedIn}}}),NS="modulepreload",DS=function(t){return"/"+t},Bd={},MS=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=DS(i),i in Bd)return;Bd[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=s.length-1;u>=0;u--){const h=s[u];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":NS,o||(l.as="script",l.crossOrigin=""),l.href=i,document.head.appendChild(l),o)return new Promise((u,h)=>{l.addEventListener("load",u),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Qr=typeof window<"u";function LS(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Te=Object.assign;function Sc(t,e){const n={};for(const r in e){const s=e[r];n[r]=Kt(s)?s.map(t):t(s)}return n}const ei=()=>{},Kt=Array.isArray,VS=/\/$/,$S=t=>t.replace(VS,"");function Rc(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=BS(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function US(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Hd(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function FS(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&ps(e.matched[r],n.matched[s])&&pg(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function ps(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function pg(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!jS(t[n],e[n]))return!1;return!0}function jS(t,e){return Kt(t)?zd(t,e):Kt(e)?zd(e,t):t===e}function zd(t,e){return Kt(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function BS(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var yi;(function(t){t.pop="pop",t.push="push"})(yi||(yi={}));var ti;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ti||(ti={}));function HS(t){if(!t)if(Qr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),$S(t)}const zS=/^[^#]+#/;function qS(t,e){return t.replace(zS,"#")+e}function WS(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const $a=()=>({left:window.pageXOffset,top:window.pageYOffset});function KS(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=WS(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function qd(t,e){return(history.state?history.state.position-e:-1)+t}const Tl=new Map;function GS(t,e){Tl.set(t,e)}function QS(t){const e=Tl.get(t);return Tl.delete(t),e}let XS=()=>location.protocol+"//"+location.host;function mg(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),Hd(c,"")}return Hd(n,t)+r+s}function YS(t,e,n,r){let s=[],i=[],o=null;const a=({state:d})=>{const f=mg(t,location),_=n.value,y=e.value;let b=0;if(d){if(n.value=f,e.value=d,o&&o===_){o=null;return}b=y?d.position-y.position:0}else r(f);s.forEach(A=>{A(n.value,_,{delta:b,type:yi.pop,direction:b?b>0?ti.forward:ti.back:ti.unknown})})};function c(){o=n.value}function l(d){s.push(d);const f=()=>{const _=s.indexOf(d);_>-1&&s.splice(_,1)};return i.push(f),f}function u(){const{history:d}=window;d.state&&d.replaceState(Te({},d.state,{scroll:$a()}),"")}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:l,destroy:h}}function Wd(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?$a():null}}function JS(t){const{history:e,location:n}=window,r={value:mg(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const h=t.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+c:XS()+t+c;try{e[u?"replaceState":"pushState"](l,"",d),s.value=l}catch(f){console.error(f),n[u?"replace":"assign"](d)}}function o(c,l){const u=Te({},e.state,Wd(s.value.back,c,s.value.forward,!0),l,{position:s.value.position});i(c,u,!0),r.value=c}function a(c,l){const u=Te({},s.value,e.state,{forward:c,scroll:$a()});i(u.current,u,!0);const h=Te({},Wd(r.value,c,null),{position:u.position+1},l);i(c,h,!1),r.value=c}return{location:r,state:s,push:a,replace:o}}function ZS(t){t=HS(t);const e=JS(t),n=YS(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Te({location:"",base:t,go:r,createHref:qS.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function eR(t){return typeof t=="string"||t&&typeof t=="object"}function gg(t){return typeof t=="string"||typeof t=="symbol"}const Dn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},_g=Symbol("");var Kd;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Kd||(Kd={}));function ms(t,e){return Te(new Error,{type:t,[_g]:!0},e)}function dn(t,e){return t instanceof Error&&_g in t&&(e==null||!!(t.type&e))}const Gd="[^/]+?",tR={sensitive:!1,strict:!1,start:!0,end:!0},nR=/[.+*?^${}()[\]/\\]/g;function rR(t,e){const n=Te({},tR,e),r=[];let s=n.start?"^":"";const i=[];for(const l of t){const u=l.length?[]:[90];n.strict&&!l.length&&(s+="/");for(let h=0;h<l.length;h++){const d=l[h];let f=40+(n.sensitive?.25:0);if(d.type===0)h||(s+="/"),s+=d.value.replace(nR,"\\$&"),f+=40;else if(d.type===1){const{value:_,repeatable:y,optional:b,regexp:A}=d;i.push({name:_,repeatable:y,optional:b});const R=A||Gd;if(R!==Gd){f+=10;try{new RegExp(`(${R})`)}catch(N){throw new Error(`Invalid custom RegExp for param "${_}" (${R}): `+N.message)}}let U=y?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;h||(U=b&&l.length<2?`(?:/${U})`:"/"+U),b&&(U+="?"),s+=U,f+=20,b&&(f+=-8),y&&(f+=-20),R===".*"&&(f+=-50)}u.push(f)}r.push(u)}if(n.strict&&n.end){const l=r.length-1;r[l][r[l].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(l){const u=l.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",_=i[d-1];h[_.name]=f&&_.repeatable?f.split("/"):f}return h}function c(l){let u="",h=!1;for(const d of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===0)u+=f.value;else if(f.type===1){const{value:_,repeatable:y,optional:b}=f,A=_ in l?l[_]:"";if(Kt(A)&&!y)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const R=Kt(A)?A.join("/"):A;if(!R)if(b)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);u+=R}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:c}}function sR(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function iR(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=sR(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Qd(r))return 1;if(Qd(s))return-1}return s.length-r.length}function Qd(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const oR={type:0,value:""},aR=/[a-zA-Z0-9_]/;function cR(t){if(!t)return[[]];if(t==="/")return[[oR]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${l}": ${f}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,l="",u="";function h(){l&&(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function d(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(l&&h(),o()):c===":"?(h(),n=1):d();break;case 4:d(),n=r;break;case 1:c==="("?n=2:aR.test(c)?d():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),h(),o(),s}function lR(t,e,n){const r=rR(cR(t.path),n),s=Te(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function uR(t,e){const n=[],r=new Map;e=Jd({strict:!1,end:!0,sensitive:!1},e);function s(u){return r.get(u)}function i(u,h,d){const f=!d,_=hR(u);_.aliasOf=d&&d.record;const y=Jd(e,u),b=[_];if("alias"in u){const U=typeof u.alias=="string"?[u.alias]:u.alias;for(const N of U)b.push(Te({},_,{components:d?d.record.components:_.components,path:N,aliasOf:d?d.record:_}))}let A,R;for(const U of b){const{path:N}=U;if(h&&N[0]!=="/"){const ie=h.record.path,Y=ie[ie.length-1]==="/"?"":"/";U.path=h.record.path+(N&&Y+N)}if(A=lR(U,h,y),d?d.alias.push(A):(R=R||A,R!==A&&R.alias.push(A),f&&u.name&&!Yd(A)&&o(u.name)),_.children){const ie=_.children;for(let Y=0;Y<ie.length;Y++)i(ie[Y],A,d&&d.children[Y])}d=d||A,(A.record.components&&Object.keys(A.record.components).length||A.record.name||A.record.redirect)&&c(A)}return R?()=>{o(R)}:ei}function o(u){if(gg(u)){const h=r.get(u);h&&(r.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function c(u){let h=0;for(;h<n.length&&iR(u,n[h])>=0&&(u.record.path!==n[h].record.path||!yg(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!Yd(u)&&r.set(u.record.name,u)}function l(u,h){let d,f={},_,y;if("name"in u&&u.name){if(d=r.get(u.name),!d)throw ms(1,{location:u});y=d.record.name,f=Te(Xd(h.params,d.keys.filter(R=>!R.optional).map(R=>R.name)),u.params&&Xd(u.params,d.keys.map(R=>R.name))),_=d.stringify(f)}else if("path"in u)_=u.path,d=n.find(R=>R.re.test(_)),d&&(f=d.parse(_),y=d.record.name);else{if(d=h.name?r.get(h.name):n.find(R=>R.re.test(h.path)),!d)throw ms(1,{location:u,currentLocation:h});y=d.record.name,f=Te({},h.params,u.params),_=d.stringify(f)}const b=[];let A=d;for(;A;)b.unshift(A.record),A=A.parent;return{name:y,path:_,params:f,matched:b,meta:fR(b)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function Xd(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function hR(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:dR(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function dR(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Yd(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function fR(t){return t.reduce((e,n)=>Te(e,n.meta),{})}function Jd(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function yg(t,e){return e.children.some(n=>n===t||yg(t,n))}const vg=/#/g,pR=/&/g,mR=/\//g,gR=/=/g,_R=/\?/g,wg=/\+/g,yR=/%5B/g,vR=/%5D/g,Eg=/%5E/g,wR=/%60/g,bg=/%7B/g,ER=/%7C/g,Tg=/%7D/g,bR=/%20/g;function Du(t){return encodeURI(""+t).replace(ER,"|").replace(yR,"[").replace(vR,"]")}function TR(t){return Du(t).replace(bg,"{").replace(Tg,"}").replace(Eg,"^")}function Il(t){return Du(t).replace(wg,"%2B").replace(bR,"+").replace(vg,"%23").replace(pR,"%26").replace(wR,"`").replace(bg,"{").replace(Tg,"}").replace(Eg,"^")}function IR(t){return Il(t).replace(gR,"%3D")}function AR(t){return Du(t).replace(vg,"%23").replace(_R,"%3F")}function SR(t){return t==null?"":AR(t).replace(mR,"%2F")}function ea(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function RR(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(wg," "),o=i.indexOf("="),a=ea(o<0?i:i.slice(0,o)),c=o<0?null:ea(i.slice(o+1));if(a in e){let l=e[a];Kt(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function Zd(t){let e="";for(let n in t){const r=t[n];if(n=IR(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Kt(r)?r.map(i=>i&&Il(i)):[r&&Il(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function PR(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Kt(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const CR=Symbol(""),ef=Symbol(""),Mu=Symbol(""),Ig=Symbol(""),Al=Symbol("");function Ls(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function $n(t,e,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const c=h=>{h===!1?a(ms(4,{from:n,to:e})):h instanceof Error?a(h):eR(h)?a(ms(2,{from:e,to:h})):(i&&r.enterCallbacks[s]===i&&typeof h=="function"&&i.push(h),o())},l=t.call(r&&r.instances[s],e,n,c);let u=Promise.resolve(l);t.length<3&&(u=u.then(c)),u.catch(h=>a(h))})}function Pc(t,e,n,r){const s=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(OR(a)){const l=(a.__vccOpts||a)[e];l&&s.push($n(l,n,r,i,o))}else{let c=a();s.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=LS(l)?l.default:l;i.components[o]=u;const d=(u.__vccOpts||u)[e];return d&&$n(d,n,r,i,o)()}))}}return s}function OR(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function tf(t){const e=vt(Mu),n=vt(Ig),r=Ge(()=>e.resolve(ns(t.to))),s=Ge(()=>{const{matched:c}=r.value,{length:l}=c,u=c[l-1],h=n.matched;if(!u||!h.length)return-1;const d=h.findIndex(ps.bind(null,u));if(d>-1)return d;const f=nf(c[l-2]);return l>1&&nf(u)===f&&h[h.length-1].path!==f?h.findIndex(ps.bind(null,c[l-2])):d}),i=Ge(()=>s.value>-1&&DR(n.params,r.value.params)),o=Ge(()=>s.value>-1&&s.value===n.matched.length-1&&pg(n.params,r.value.params));function a(c={}){return NR(c)?e[ns(t.replace)?"replace":"push"](ns(t.to)).catch(ei):Promise.resolve()}return{route:r,href:Ge(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const kR=Lr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:tf,setup(t,{slots:e}){const n=rn(tf(t)),{options:r}=vt(Mu),s=Ge(()=>({[rf(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[rf(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:qn("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),xR=kR;function NR(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function DR(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Kt(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function nf(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const rf=(t,e,n)=>t??e??n,MR=Lr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=vt(Al),s=Ge(()=>t.route||r.value),i=vt(ef,0),o=Ge(()=>{let l=ns(i);const{matched:u}=s.value;let h;for(;(h=u[l])&&!h.components;)l++;return l}),a=Ge(()=>s.value.matched[o.value]);xt(ef,Ge(()=>o.value+1)),xt(CR,a),xt(Al,s);const c=ye();return En(()=>[c.value,a.value,t.name],([l,u,h],[d,f,_])=>{u&&(u.instances[h]=l,f&&f!==u&&l&&l===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),l&&u&&(!f||!ps(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(y=>y(l))},{flush:"post"}),()=>{const l=s.value,u=t.name,h=a.value,d=h&&h.components[u];if(!d)return sf(n.default,{Component:d,route:l});const f=h.props[u],_=f?f===!0?l.params:typeof f=="function"?f(l):f:null,b=qn(d,Te({},_,e,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(h.instances[u]=null)},ref:c}));return sf(n.default,{Component:b,route:l})||b}}});function sf(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const LR=MR;function VR(t){const e=uR(t.routes,t),n=t.parseQuery||RR,r=t.stringifyQuery||Zd,s=t.history,i=Ls(),o=Ls(),a=Ls(),c=Lv(Dn);let l=Dn;Qr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Sc.bind(null,T=>""+T),h=Sc.bind(null,SR),d=Sc.bind(null,ea);function f(T,D){let O,F;return gg(T)?(O=e.getRecordMatcher(T),F=D):F=T,e.addRoute(F,O)}function _(T){const D=e.getRecordMatcher(T);D&&e.removeRoute(D)}function y(){return e.getRoutes().map(T=>T.record)}function b(T){return!!e.getRecordMatcher(T)}function A(T,D){if(D=Te({},D||c.value),typeof T=="string"){const g=Rc(n,T,D.path),w=e.resolve({path:g.path},D),E=s.createHref(g.fullPath);return Te(g,w,{params:d(w.params),hash:ea(g.hash),redirectedFrom:void 0,href:E})}let O;if("path"in T)O=Te({},T,{path:Rc(n,T.path,D.path).path});else{const g=Te({},T.params);for(const w in g)g[w]==null&&delete g[w];O=Te({},T,{params:h(g)}),D.params=h(D.params)}const F=e.resolve(O,D),te=T.hash||"";F.params=u(d(F.params));const p=US(r,Te({},T,{hash:TR(te),path:F.path})),m=s.createHref(p);return Te({fullPath:p,hash:te,query:r===Zd?PR(T.query):T.query||{}},F,{redirectedFrom:void 0,href:m})}function R(T){return typeof T=="string"?Rc(n,T,c.value.path):Te({},T)}function U(T,D){if(l!==T)return ms(8,{from:D,to:T})}function N(T){return ae(T)}function ie(T){return N(Te(R(T),{replace:!0}))}function Y(T){const D=T.matched[T.matched.length-1];if(D&&D.redirect){const{redirect:O}=D;let F=typeof O=="function"?O(T):O;return typeof F=="string"&&(F=F.includes("?")||F.includes("#")?F=R(F):{path:F},F.params={}),Te({query:T.query,hash:T.hash,params:"path"in F?{}:T.params},F)}}function ae(T,D){const O=l=A(T),F=c.value,te=T.state,p=T.force,m=T.replace===!0,g=Y(O);if(g)return ae(Te(R(g),{state:typeof g=="object"?Te({},te,g.state):te,force:p,replace:m}),D||O);const w=O;w.redirectedFrom=D;let E;return!p&&FS(r,F,O)&&(E=ms(16,{to:w,from:F}),rt(F,F,!0,!1)),(E?Promise.resolve(E):be(w,F)).catch(S=>dn(S)?dn(S,2)?S:dt(S):se(S,w,F)).then(S=>{if(S){if(dn(S,2))return ae(Te({replace:m},R(S.to),{state:typeof S.to=="object"?Te({},te,S.to.state):te,force:p}),D||w)}else S=L(w,F,!0,m,te);return j(w,F,S),S})}function Z(T,D){const O=U(T,D);return O?Promise.reject(O):Promise.resolve()}function ue(T){const D=Le.values().next().value;return D&&typeof D.runWithContext=="function"?D.runWithContext(T):T()}function be(T,D){let O;const[F,te,p]=$R(T,D);O=Pc(F.reverse(),"beforeRouteLeave",T,D);for(const g of F)g.leaveGuards.forEach(w=>{O.push($n(w,T,D))});const m=Z.bind(null,T,D);return O.push(m),Ee(O).then(()=>{O=[];for(const g of i.list())O.push($n(g,T,D));return O.push(m),Ee(O)}).then(()=>{O=Pc(te,"beforeRouteUpdate",T,D);for(const g of te)g.updateGuards.forEach(w=>{O.push($n(w,T,D))});return O.push(m),Ee(O)}).then(()=>{O=[];for(const g of p)if(g.beforeEnter)if(Kt(g.beforeEnter))for(const w of g.beforeEnter)O.push($n(w,T,D));else O.push($n(g.beforeEnter,T,D));return O.push(m),Ee(O)}).then(()=>(T.matched.forEach(g=>g.enterCallbacks={}),O=Pc(p,"beforeRouteEnter",T,D),O.push(m),Ee(O))).then(()=>{O=[];for(const g of o.list())O.push($n(g,T,D));return O.push(m),Ee(O)}).catch(g=>dn(g,8)?g:Promise.reject(g))}function j(T,D,O){a.list().forEach(F=>ue(()=>F(T,D,O)))}function L(T,D,O,F,te){const p=U(T,D);if(p)return p;const m=D===Dn,g=Qr?history.state:{};O&&(F||m?s.replace(T.fullPath,Te({scroll:m&&g&&g.scroll},te)):s.push(T.fullPath,te)),c.value=T,rt(T,D,O,m),dt()}let Q;function q(){Q||(Q=s.listen((T,D,O)=>{if(!We.listening)return;const F=A(T),te=Y(F);if(te){ae(Te(te,{replace:!0}),F).catch(ei);return}l=F;const p=c.value;Qr&&GS(qd(p.fullPath,O.delta),$a()),be(F,p).catch(m=>dn(m,12)?m:dn(m,2)?(ae(m.to,F).then(g=>{dn(g,20)&&!O.delta&&O.type===yi.pop&&s.go(-1,!1)}).catch(ei),Promise.reject()):(O.delta&&s.go(-O.delta,!1),se(m,F,p))).then(m=>{m=m||L(F,p,!1),m&&(O.delta&&!dn(m,8)?s.go(-O.delta,!1):O.type===yi.pop&&dn(m,20)&&s.go(-1,!1)),j(F,p,m)}).catch(ei)}))}let ke=Ls(),_e=Ls(),ce;function se(T,D,O){dt(T);const F=_e.list();return F.length?F.forEach(te=>te(T,D,O)):console.error(T),Promise.reject(T)}function je(){return ce&&c.value!==Dn?Promise.resolve():new Promise((T,D)=>{ke.add([T,D])})}function dt(T){return ce||(ce=!T,q(),ke.list().forEach(([D,O])=>T?O(T):D()),ke.reset()),T}function rt(T,D,O,F){const{scrollBehavior:te}=t;if(!Qr||!te)return Promise.resolve();const p=!O&&QS(qd(T.fullPath,0))||(F||!O)&&history.state&&history.state.scroll||null;return lu().then(()=>te(T,D,p)).then(m=>m&&KS(m)).catch(m=>se(m,T,D))}const Ae=T=>s.go(T);let xe;const Le=new Set,We={currentRoute:c,listening:!0,addRoute:f,removeRoute:_,hasRoute:b,getRoutes:y,resolve:A,options:t,push:N,replace:ie,go:Ae,back:()=>Ae(-1),forward:()=>Ae(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:_e.add,isReady:je,install(T){const D=this;T.component("RouterLink",xR),T.component("RouterView",LR),T.config.globalProperties.$router=D,Object.defineProperty(T.config.globalProperties,"$route",{enumerable:!0,get:()=>ns(c)}),Qr&&!xe&&c.value===Dn&&(xe=!0,N(s.location).catch(te=>{}));const O={};for(const te in Dn)Object.defineProperty(O,te,{get:()=>c.value[te],enumerable:!0});T.provide(Mu,D),T.provide(Ig,Rp(O)),T.provide(Al,c);const F=T.unmount;Le.add(T),T.unmount=function(){Le.delete(T),Le.size<1&&(l=Dn,Q&&Q(),Q=null,c.value=Dn,xe=!1,ce=!1),F()}}};function Ee(T){return T.reduce((D,O)=>D.then(()=>ue(O)),Promise.resolve())}return We}function $R(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(l=>ps(l,a))?r.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(l=>ps(l,c))||s.push(c))}return[n,r,s]}const UR={components:{NavBar:Ma,HomepageParallax:Ym,Footer:La,AboutCarousel:Zm}},FR=t=>(Pn("data-v-83f33009"),t=t(),Cn(),t),jR=sr('<head data-v-83f33009><meta charset="UTF-8" data-v-83f33009><meta http-equiv="X-UA-Compatible" content="IE=edge" data-v-83f33009><meta name="viewport" content="width=device-width, initial-scale=1.0" data-v-83f33009><title data-v-83f33009>EcoScape</title><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous" data-v-83f33009><link rel="icon" href="./public/favicon.ico" data-v-83f33009><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" data-v-83f33009><link rel="stylesheet" href="../index.css" data-v-83f33009></head>',1),BR=FR(()=>v("hr",{id:"footer-separation"},null,-1));function HR(t,e,n,r,s,i){const o=Fe("NavBar"),a=Fe("HomepageParallax"),c=Fe("AboutCarousel"),l=Fe("Footer");return le(),ve(Ke,null,[jR,v("body",null,[ee(o),ee(a),v("section",null,[ee(c)]),BR,ee(l)])],64)}const zR=Xe(UR,[["render",HR],["__scopeId","data-v-83f33009"]]);var qR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V,Lu=Lu||{},J=qR||self;function Ua(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ji(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function WR(t){return Object.prototype.hasOwnProperty.call(t,Cc)&&t[Cc]||(t[Cc]=++KR)}var Cc="closure_uid_"+(1e9*Math.random()>>>0),KR=0;function GR(t,e,n){return t.call.apply(t.bind,arguments)}function QR(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function wt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?wt=GR:wt=QR,wt.apply(null,arguments)}function ho(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function nt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function or(){this.s=this.s,this.o=this.o}var XR=0;or.prototype.s=!1;or.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),XR!=0)&&WR(this)};or.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ag=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Vu(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function of(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ua(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Et(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Et.prototype.h=function(){this.defaultPrevented=!0};var YR=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{J.addEventListener("test",()=>{},e),J.removeEventListener("test",()=>{},e)}catch{}return t}();function vi(t){return/^[\s\xa0]*$/.test(t)}function Fa(){var t=J.navigator;return t&&(t=t.userAgent)?t:""}function Zt(t){return Fa().indexOf(t)!=-1}function $u(t){return $u[" "](t),t}$u[" "]=function(){};function JR(t,e){var n=zP;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var ZR=Zt("Opera"),gs=Zt("Trident")||Zt("MSIE"),Sg=Zt("Edge"),Sl=Sg||gs,Rg=Zt("Gecko")&&!(Fa().toLowerCase().indexOf("webkit")!=-1&&!Zt("Edge"))&&!(Zt("Trident")||Zt("MSIE"))&&!Zt("Edge"),eP=Fa().toLowerCase().indexOf("webkit")!=-1&&!Zt("Edge");function Pg(){var t=J.document;return t?t.documentMode:void 0}var Rl;e:{var Oc="",kc=function(){var t=Fa();if(Rg)return/rv:([^\);]+)(\)|;)/.exec(t);if(Sg)return/Edge\/([\d\.]+)/.exec(t);if(gs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(eP)return/WebKit\/(\S+)/.exec(t);if(ZR)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(kc&&(Oc=kc?kc[1]:""),gs){var xc=Pg();if(xc!=null&&xc>parseFloat(Oc)){Rl=String(xc);break e}}Rl=Oc}var Pl;if(J.document&&gs){var af=Pg();Pl=af||parseInt(Rl,10)||void 0}else Pl=void 0;var tP=Pl;function wi(t,e){if(Et.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Rg){e:{try{$u(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:nP[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&wi.$.h.call(this)}}nt(wi,Et);var nP={2:"touch",3:"pen",4:"mouse"};wi.prototype.h=function(){wi.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Bi="closure_listenable_"+(1e6*Math.random()|0),rP=0;function sP(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++rP,this.fa=this.ia=!1}function ja(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Uu(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function iP(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Cg(t){const e={};for(const n in t)e[n]=t[n];return e}const cf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Og(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<cf.length;i++)n=cf[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ba(t){this.src=t,this.g={},this.h=0}Ba.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Ol(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new sP(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function Cl(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=Ag(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(ja(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ol(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Fu="closure_lm_"+(1e6*Math.random()|0),Nc={};function kg(t,e,n,r,s){if(r&&r.once)return Ng(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)kg(t,e[i],n,r,s);return null}return n=Hu(n),t&&t[Bi]?t.O(e,n,ji(r)?!!r.capture:!!r,s):xg(t,e,n,!1,r,s)}function xg(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=ji(s)?!!s.capture:!!s,a=Bu(t);if(a||(t[Fu]=a=new Ba(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=oP(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)YR||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(Mg(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function oP(){function t(n){return e.call(t.src,t.listener,n)}const e=aP;return t}function Ng(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)Ng(t,e[i],n,r,s);return null}return n=Hu(n),t&&t[Bi]?t.P(e,n,ji(r)?!!r.capture:!!r,s):xg(t,e,n,!0,r,s)}function Dg(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)Dg(t,e[i],n,r,s);else r=ji(r)?!!r.capture:!!r,n=Hu(n),t&&t[Bi]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Ol(i,n,r,s),-1<n&&(ja(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Bu(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ol(e,n,r,s)),(n=-1<t?e[t]:null)&&ju(n))}function ju(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Bi])Cl(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Mg(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Bu(e))?(Cl(n,t),n.h==0&&(n.src=null,e[Fu]=null)):ja(t)}}}function Mg(t){return t in Nc?Nc[t]:Nc[t]="on"+t}function aP(t,e){if(t.fa)t=!0;else{e=new wi(e,this);var n=t.listener,r=t.la||t.src;t.ia&&ju(t),t=n.call(r,e)}return t}function Bu(t){return t=t[Fu],t instanceof Ba?t:null}var Dc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hu(t){return typeof t=="function"?t:(t[Dc]||(t[Dc]=function(e){return t.handleEvent(e)}),t[Dc])}function et(){or.call(this),this.i=new Ba(this),this.S=this,this.J=null}nt(et,or);et.prototype[Bi]=!0;et.prototype.removeEventListener=function(t,e,n,r){Dg(this,t,e,n,r)};function ut(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Et(e,t);else if(e instanceof Et)e.target=e.target||t;else{var s=e;e=new Et(r,t),Og(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=fo(o,r,!0,e)&&s}if(o=e.g=t,s=fo(o,r,!0,e)&&s,s=fo(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=fo(o,r,!1,e)&&s}et.prototype.N=function(){if(et.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ja(n[r]);delete t.g[e],t.h--}}this.J=null};et.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};et.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function fo(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Cl(t.i,o),s=a.call(c,r)!==!1&&s}}return s&&!r.defaultPrevented}var zu=J.JSON.stringify;class cP{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function lP(){var t=qu;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class uP{constructor(){this.h=this.g=null}add(e,n){const r=Lg.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Lg=new cP(()=>new hP,t=>t.reset());class hP{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function dP(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function fP(t){J.setTimeout(()=>{throw t},0)}let Ei,bi=!1,qu=new uP,Vg=()=>{const t=J.Promise.resolve(void 0);Ei=()=>{t.then(pP)}};var pP=()=>{for(var t;t=lP();){try{t.h.call(t.g)}catch(n){fP(n)}var e=Lg;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}bi=!1};function Ha(t,e){et.call(this),this.h=t||1,this.g=e||J,this.j=wt(this.qb,this),this.l=Date.now()}nt(Ha,et);V=Ha.prototype;V.ga=!1;V.T=null;V.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ut(this,"tick"),this.ga&&(Wu(this),this.start()))}};V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Wu(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}V.N=function(){Ha.$.N.call(this),Wu(this),delete this.g};function Ku(t,e,n){if(typeof t=="function")n&&(t=wt(t,n));else if(t&&typeof t.handleEvent=="function")t=wt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:J.setTimeout(t,e||0)}function $g(t){t.g=Ku(()=>{t.g=null,t.i&&(t.i=!1,$g(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class mP extends or{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:$g(this)}N(){super.N(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ti(t){or.call(this),this.h=t,this.g={}}nt(Ti,or);var lf=[];function Ug(t,e,n,r){Array.isArray(n)||(n&&(lf[0]=n.toString()),n=lf);for(var s=0;s<n.length;s++){var i=kg(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function Fg(t){Uu(t.g,function(e,n){this.g.hasOwnProperty(n)&&ju(e)},t),t.g={}}Ti.prototype.N=function(){Ti.$.N.call(this),Fg(this)};Ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function za(){this.g=!0}za.prototype.Ea=function(){this.g=!1};function gP(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function _P(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Jr(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+vP(t,n)+(r?" "+r:"")})}function yP(t,e){t.info(function(){return"TIMEOUT: "+e})}za.prototype.info=function(){};function vP(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return zu(n)}catch{return e}}var Br={},uf=null;function qa(){return uf=uf||new et}Br.Ta="serverreachability";function jg(t){Et.call(this,Br.Ta,t)}nt(jg,Et);function Ii(t){const e=qa();ut(e,new jg(e))}Br.STAT_EVENT="statevent";function Bg(t,e){Et.call(this,Br.STAT_EVENT,t),this.stat=e}nt(Bg,Et);function At(t){const e=qa();ut(e,new Bg(e,t))}Br.Ua="timingevent";function Hg(t,e){Et.call(this,Br.Ua,t),this.size=e}nt(Hg,Et);function Hi(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){t()},e)}var Wa={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},zg={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Gu(){}Gu.prototype.h=null;function hf(t){return t.h||(t.h=t.i())}function qg(){}var zi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Qu(){Et.call(this,"d")}nt(Qu,Et);function Xu(){Et.call(this,"c")}nt(Xu,Et);var kl;function Ka(){}nt(Ka,Gu);Ka.prototype.g=function(){return new XMLHttpRequest};Ka.prototype.i=function(){return{}};kl=new Ka;function qi(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ti(this),this.P=wP,t=Sl?125:void 0,this.V=new Ha(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Wg}function Wg(){this.i=null,this.g="",this.h=!1}var wP=45e3,xl={},ta={};V=qi.prototype;V.setTimeout=function(t){this.P=t};function Nl(t,e,n){t.L=1,t.v=Qa(Sn(e)),t.s=n,t.S=!0,Kg(t,null)}function Kg(t,e){t.G=Date.now(),Wi(t),t.A=Sn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),t_(n.i,"t",r),t.C=0,n=t.l.J,t.h=new Wg,t.g=b_(t.l,n?e:null,!t.s),0<t.O&&(t.M=new mP(wt(t.Pa,t,t.g),t.O)),Ug(t.U,t.g,"readystatechange",t.nb),e=t.I?Cg(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ii(),gP(t.j,t.u,t.A,t.m,t.W,t.s)}V.nb=function(t){t=t.target;const e=this.M;e&&en(t)==3?e.l():this.Pa(t)};V.Pa=function(t){try{if(t==this.g)e:{const u=en(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||Sl||this.g&&(this.h.h||this.g.ja()||mf(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?Ii(3):Ii(2)),Ga(this);var n=this.g.da();this.ca=n;t:if(Gg(this)){var r=mf(this.g);t="";var s=r.length,i=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yr(this),ni(this);var o="";break t}this.h.i=new J.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,_P(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vi(a)){var l=a;break t}}l=null}if(n=l)Jr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dl(this,n);else{this.i=!1,this.o=3,At(12),yr(this),ni(this);break e}}this.S?(Qg(this,u,o),Sl&&this.i&&u==3&&(Ug(this.U,this.V,"tick",this.mb),this.V.start())):(Jr(this.j,this.m,o,null),Dl(this,o)),u==4&&yr(this),this.i&&!this.J&&(u==4?y_(this.l,this):(this.i=!1,Wi(this)))}else jP(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,At(12)):(this.o=0,At(13)),yr(this),ni(this)}}}catch{}finally{}};function Gg(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Qg(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=EP(t,n),s==ta){e==4&&(t.o=4,At(14),r=!1),Jr(t.j,t.m,null,"[Incomplete Response]");break}else if(s==xl){t.o=4,At(15),Jr(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Jr(t.j,t.m,s,null),Dl(t,s);Gg(t)&&s!=ta&&s!=xl&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,At(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),nh(e),e.M=!0,At(11))):(Jr(t.j,t.m,n,"[Invalid Chunked Response]"),yr(t),ni(t))}V.mb=function(){if(this.g){var t=en(this.g),e=this.g.ja();this.C<e.length&&(Ga(this),Qg(this,t,e),this.i&&t!=4&&Wi(this))}};function EP(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?ta:(n=Number(e.substring(n,r)),isNaN(n)?xl:(r+=1,r+n>e.length?ta:(e=e.slice(r,r+n),t.C=r+n,e)))}V.cancel=function(){this.J=!0,yr(this)};function Wi(t){t.Y=Date.now()+t.P,Xg(t,t.P)}function Xg(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Hi(wt(t.lb,t),e)}function Ga(t){t.B&&(J.clearTimeout(t.B),t.B=null)}V.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(yP(this.j,this.A),this.L!=2&&(Ii(),At(17)),yr(this),this.o=2,ni(this)):Xg(this,this.Y-t)};function ni(t){t.l.H==0||t.J||y_(t.l,t)}function yr(t){Ga(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Wu(t.V),Fg(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Dl(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ml(n.i,t))){if(!t.K&&Ml(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)sa(n),Ja(n);else break e;th(n),At(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Hi(wt(n.ib,n),6e3));if(1>=s_(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else vr(n,11)}else if((t.K||n.g==t)&&sa(n),!vi(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let l=s[e];if(n.V=l[0],l=l[1],n.H==2)if(l[0]=="c"){n.K=l[1],n.pa=l[2];const u=l[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=l[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=l[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const _=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var i=r.i;i.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Yu(i,i.h),i.h=null))}if(r.F){const y=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,De(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=E_(r,r.J?r.pa:null,r.Y),o.K){i_(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(Ga(a),Wi(a)),r.g=o}else g_(r);0<n.j.length&&Za(n)}else l[0]!="stop"&&l[0]!="close"||vr(n,7);else n.H==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?vr(n,7):eh(n):l[0]!="noop"&&n.h&&n.h.Aa(l),n.A=0)}}Ii(4)}catch{}}function bP(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ua(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function TP(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ua(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Yg(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ua(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=TP(t),r=bP(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var Jg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function IP(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Ir(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ir){this.h=t.h,na(this,t.j),this.s=t.s,this.g=t.g,ra(this,t.m),this.l=t.l;var e=t.i,n=new Ai;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),df(this,n),this.o=t.o}else t&&(e=String(t).match(Jg))?(this.h=!1,na(this,e[1]||"",!0),this.s=Gs(e[2]||""),this.g=Gs(e[3]||"",!0),ra(this,e[4]),this.l=Gs(e[5]||"",!0),df(this,e[6]||"",!0),this.o=Gs(e[7]||"")):(this.h=!1,this.i=new Ai(null,this.h))}Ir.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Qs(e,ff,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Qs(e,ff,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Qs(n,n.charAt(0)=="/"?RP:SP,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Qs(n,CP)),t.join("")};function Sn(t){return new Ir(t)}function na(t,e,n){t.j=n?Gs(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ra(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function df(t,e,n){e instanceof Ai?(t.i=e,OP(t.i,t.h)):(n||(e=Qs(e,PP)),t.i=new Ai(e,t.h))}function De(t,e,n){t.i.set(e,n)}function Qa(t){return De(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Gs(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Qs(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,AP),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function AP(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ff=/[#\/\?@]/g,SP=/[#\?:]/g,RP=/[#\?]/g,PP=/[#\?@]/g,CP=/#/g;function Ai(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ar(t){t.g||(t.g=new Map,t.h=0,t.i&&IP(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}V=Ai.prototype;V.add=function(t,e){ar(this),this.i=null,t=Cs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Zg(t,e){ar(t),e=Cs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function e_(t,e){return ar(t),e=Cs(t,e),t.g.has(e)}V.forEach=function(t,e){ar(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};V.ta=function(){ar(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};V.Z=function(t){ar(this);let e=[];if(typeof t=="string")e_(this,t)&&(e=e.concat(this.g.get(Cs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};V.set=function(t,e){return ar(this),this.i=null,t=Cs(this,t),e_(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};V.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function t_(t,e,n){Zg(t,e),0<n.length&&(t.i=null,t.g.set(Cs(t,e),Vu(n)),t.h+=n.length)}V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function Cs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function OP(t,e){e&&!t.j&&(ar(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(Zg(this,r),t_(this,s,n))},t)),t.j=e}var kP=class{constructor(t,e){this.g=t,this.map=e}};function n_(t){this.l=t||xP,J.PerformanceNavigationTiming?(t=J.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(J.g&&J.g.Ka&&J.g.Ka()&&J.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xP=10;function r_(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function s_(t){return t.h?1:t.g?t.g.size:0}function Ml(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Yu(t,e){t.g?t.g.add(e):t.h=e}function i_(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}n_.prototype.cancel=function(){if(this.i=o_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function o_(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Vu(t.i)}var NP=class{stringify(t){return J.JSON.stringify(t,void 0)}parse(t){return J.JSON.parse(t,void 0)}};function DP(){this.g=new NP}function MP(t,e,n){const r=n||"";try{Yg(t,function(s,i){let o=s;ji(s)&&(o=zu(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function LP(t,e){const n=new za;if(J.Image){const r=new Image;r.onload=ho(po,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ho(po,n,r,"TestLoadImage: error",!1,e),r.onabort=ho(po,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ho(po,n,r,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function po(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Ki(t){this.l=t.ec||null,this.j=t.ob||!1}nt(Ki,Gu);Ki.prototype.g=function(){return new Xa(this.l,this.j)};Ki.prototype.i=function(t){return function(){return t}}({});function Xa(t,e){et.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Ju,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nt(Xa,et);var Ju=0;V=Xa.prototype;V.open=function(t,e){if(this.readyState!=Ju)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Si(this)};V.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||J).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gi(this)),this.readyState=Ju};V.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;a_(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function a_(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}V.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Gi(this):Si(this),this.readyState==3&&a_(this)}};V.Za=function(t){this.g&&(this.response=this.responseText=t,Gi(this))};V.Ya=function(t){this.g&&(this.response=t,Gi(this))};V.ka=function(){this.g&&Gi(this)};function Gi(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Si(t)}V.setRequestHeader=function(t,e){this.v.append(t,e)};V.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};V.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Si(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var VP=J.JSON.parse;function Ue(t){et.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=c_,this.L=this.M=!1}nt(Ue,et);var c_="",$P=/^https?$/i,UP=["POST","PUT"];V=Ue.prototype;V.Oa=function(t){this.M=t};V.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():kl.g(),this.C=this.u?hf(this.u):hf(kl),this.g.onreadystatechange=wt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){pf(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=J.FormData&&t instanceof J.FormData,!(0<=Ag(UP,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{h_(this),0<this.B&&((this.L=FP(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wt(this.ua,this)):this.A=Ku(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){pf(this,i)}};function FP(t){return gs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}V.ua=function(){typeof Lu<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ut(this,"timeout"),this.abort(8))};function pf(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,l_(t),Ya(t)}function l_(t){t.F||(t.F=!0,ut(t,"complete"),ut(t,"error"))}V.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ut(this,"complete"),ut(this,"abort"),Ya(this))};V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ya(this,!0)),Ue.$.N.call(this)};V.La=function(){this.s||(this.G||this.v||this.l?u_(this):this.kb())};V.kb=function(){u_(this)};function u_(t){if(t.h&&typeof Lu<"u"&&(!t.C[1]||en(t)!=4||t.da()!=2)){if(t.v&&en(t)==4)Ku(t.La,0,t);else if(ut(t,"readystatechange"),en(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(Jg)[1]||null;!s&&J.self&&J.self.location&&(s=J.self.location.protocol.slice(0,-1)),r=!$P.test(s?s.toLowerCase():"")}n=r}if(n)ut(t,"complete"),ut(t,"success");else{t.m=6;try{var i=2<en(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",l_(t)}}finally{Ya(t)}}}}function Ya(t,e){if(t.g){h_(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ut(t,"ready");try{n.onreadystatechange=r}catch{}}}function h_(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(J.clearTimeout(t.A),t.A=null)}V.isActive=function(){return!!this.g};function en(t){return t.g?t.g.readyState:0}V.da=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}};V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};V.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),VP(e)}};function mf(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case c_:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function jP(t){const e={};t=(t.g&&2<=en(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(vi(t[r]))continue;var n=dP(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}iP(e,function(r){return r.join(", ")})}V.Ia=function(){return this.m};V.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function d_(t){let e="";return Uu(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Zu(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=d_(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):De(t,e,n))}function Vs(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function f_(t){this.Ga=0,this.j=[],this.l=new za,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vs("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vs("baseRetryDelayMs",5e3,t),this.hb=Vs("retryDelaySeedMs",1e4,t),this.eb=Vs("forwardChannelMaxRetries",2,t),this.xa=Vs("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new n_(t&&t.concurrentRequestLimit),this.Ja=new DP,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}V=f_.prototype;V.ra=8;V.H=1;function eh(t){if(p_(t),t.H==3){var e=t.W++,n=Sn(t.I);if(De(n,"SID",t.K),De(n,"RID",e),De(n,"TYPE","terminate"),Qi(t,n),e=new qi(t,t.l,e),e.L=2,e.v=Qa(Sn(n)),n=!1,J.navigator&&J.navigator.sendBeacon)try{n=J.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&J.Image&&(new Image().src=e.v,n=!0),n||(e.g=b_(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Wi(e)}w_(t)}function Ja(t){t.g&&(nh(t),t.g.cancel(),t.g=null)}function p_(t){Ja(t),t.u&&(J.clearTimeout(t.u),t.u=null),sa(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&J.clearTimeout(t.m),t.m=null)}function Za(t){if(!r_(t.i)&&!t.m){t.m=!0;var e=t.Na;Ei||Vg(),bi||(Ei(),bi=!0),qu.add(e,t),t.C=0}}function BP(t,e){return s_(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Hi(wt(t.Na,t,e),v_(t,t.C)),t.C++,!0)}V.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new qi(this,this.l,t);let i=this.s;if(this.U&&(i?(i=Cg(i),Og(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=m_(this,s,e),n=Sn(this.I),De(n,"RID",t),De(n,"CVER",22),this.F&&De(n,"X-HTTP-Session-Id",this.F),Qi(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(d_(i)))+"&"+e:this.o&&Zu(n,this.o,i)),Yu(this.i,s),this.bb&&De(n,"TYPE","init"),this.P?(De(n,"$req",e),De(n,"SID","null"),s.aa=!0,Nl(s,n,null)):Nl(s,n,e),this.H=2}}else this.H==3&&(t?gf(this,t):this.j.length==0||r_(this.i)||gf(this))};function gf(t,e){var n;e?n=e.m:n=t.W++;const r=Sn(t.I);De(r,"SID",t.K),De(r,"RID",n),De(r,"AID",t.V),Qi(t,r),t.o&&t.s&&Zu(r,t.o,t.s),n=new qi(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=m_(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Yu(t.i,n),Nl(n,r,e)}function Qi(t,e){t.na&&Uu(t.na,function(n,r){De(e,r,n)}),t.h&&Yg({},function(n,r){De(e,r,n)})}function m_(t,e,n){n=Math.min(t.j.length,n);var r=t.h?wt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let c=0;c<n;c++){let l=s[c].g;const u=s[c].map;if(l-=i,0>l)i=Math.max(0,s[c].g-100),a=!1;else try{MP(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function g_(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Ei||Vg(),bi||(Ei(),bi=!0),qu.add(e,t),t.A=0}}function th(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Hi(wt(t.Ma,t),v_(t,t.A)),t.A++,!0)}V.Ma=function(){if(this.u=null,__(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Hi(wt(this.jb,this),t)}};V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,At(10),Ja(this),__(this))};function nh(t){t.B!=null&&(J.clearTimeout(t.B),t.B=null)}function __(t){t.g=new qi(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Sn(t.wa);De(e,"RID","rpc"),De(e,"SID",t.K),De(e,"AID",t.V),De(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&De(e,"TO",t.qa),De(e,"TYPE","xmlhttp"),Qi(t,e),t.o&&t.s&&Zu(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Qa(Sn(e)),n.s=null,n.S=!0,Kg(n,t)}V.ib=function(){this.v!=null&&(this.v=null,Ja(this),th(this),At(19))};function sa(t){t.v!=null&&(J.clearTimeout(t.v),t.v=null)}function y_(t,e){var n=null;if(t.g==e){sa(t),nh(t),t.g=null;var r=2}else if(Ml(t.i,e))n=e.F,i_(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=qa(),ut(r,new Hg(r,n)),Za(t)}else g_(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&BP(t,e)||r==2&&th(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:vr(t,5);break;case 4:vr(t,10);break;case 3:vr(t,6);break;default:vr(t,2)}}}function v_(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function vr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=wt(t.pb,t);n||(n=new Ir("//www.google.com/images/cleardot.gif"),J.location&&J.location.protocol=="http"||na(n,"https"),Qa(n)),LP(n.toString(),r)}else At(2);t.H=0,t.h&&t.h.za(e),w_(t),p_(t)}V.pb=function(t){t?(this.l.info("Successfully pinged google.com"),At(2)):(this.l.info("Failed to ping google.com"),At(1))};function w_(t){if(t.H=0,t.ma=[],t.h){const e=o_(t.i);(e.length!=0||t.j.length!=0)&&(of(t.ma,e),of(t.ma,t.j),t.i.i.length=0,Vu(t.j),t.j.length=0),t.h.ya()}}function E_(t,e,n){var r=n instanceof Ir?Sn(n):new Ir(n);if(r.g!="")e&&(r.g=e+"."+r.g),ra(r,r.m);else{var s=J.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Ir(null);r&&na(i,r),e&&(i.g=e),s&&ra(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&De(r,n,e),De(r,"VER",t.ra),Qi(t,r),r}function b_(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ue(new Ki({ob:!0})):new Ue(t.va),e.Oa(t.J),e}V.isActive=function(){return!!this.h&&this.h.isActive(this)};function T_(){}V=T_.prototype;V.Ba=function(){};V.Aa=function(){};V.za=function(){};V.ya=function(){};V.isActive=function(){return!0};V.Va=function(){};function ia(){if(gs&&!(10<=Number(tP)))throw Error("Environmental error: no available transport.")}ia.prototype.g=function(t,e){return new Dt(t,e)};function Dt(t,e){et.call(this),this.g=new f_(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!vi(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!vi(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Os(this)}nt(Dt,et);Dt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;At(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=E_(t,null,t.Y),Za(t)};Dt.prototype.close=function(){eh(this.g)};Dt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=zu(t),t=n);e.j.push(new kP(e.fb++,t)),e.H==3&&Za(e)};Dt.prototype.N=function(){this.g.h=null,delete this.j,eh(this.g),delete this.g,Dt.$.N.call(this)};function I_(t){Qu.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}nt(I_,Qu);function A_(){Xu.call(this),this.status=1}nt(A_,Xu);function Os(t){this.g=t}nt(Os,T_);Os.prototype.Ba=function(){ut(this.g,"a")};Os.prototype.Aa=function(t){ut(this.g,new I_(t))};Os.prototype.za=function(t){ut(this.g,new A_)};Os.prototype.ya=function(){ut(this.g,"b")};function HP(){this.blockSize=-1}function cn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}nt(cn,HP);cn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Mc(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}cn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Mc(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Mc(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Mc(this,r),s=0;break}}this.h=s,this.i+=e};cn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ie(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var zP={};function rh(t){return-128<=t&&128>t?JR(t,function(e){return new Ie([e|0],0>e?-1:0)}):new Ie([t|0],0>t?-1:0)}function tn(t){if(isNaN(t)||!isFinite(t))return as;if(0>t)return at(tn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Ll;return new Ie(e,0)}function S_(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return at(S_(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=tn(Math.pow(e,8)),r=as,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=tn(Math.pow(e,i)),r=r.R(i).add(tn(o))):(r=r.R(n),r=r.add(tn(o)))}return r}var Ll=4294967296,as=rh(0),Vl=rh(1),_f=rh(16777216);V=Ie.prototype;V.ea=function(){if(Mt(this))return-at(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Ll+r)*e,e*=Ll}return t};V.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(_n(this))return"0";if(Mt(this))return"-"+at(this).toString(t);for(var e=tn(Math.pow(t,6)),n=this,r="";;){var s=aa(n,e).g;n=oa(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,_n(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};V.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function _n(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Mt(t){return t.h==-1}V.X=function(t){return t=oa(this,t),Mt(t)?-1:_n(t)?0:1};function at(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ie(n,~t.h).add(Vl)}V.abs=function(){return Mt(this)?at(this):this};V.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Ie(n,n[n.length-1]&-2147483648?-1:0)};function oa(t,e){return t.add(at(e))}V.R=function(t){if(_n(this)||_n(t))return as;if(Mt(this))return Mt(t)?at(this).R(at(t)):at(at(this).R(t));if(Mt(t))return at(this.R(at(t)));if(0>this.X(_f)&&0>t.X(_f))return tn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,c=t.D(s)&65535;n[2*r+2*s]+=o*c,mo(n,2*r+2*s),n[2*r+2*s+1]+=i*c,mo(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,mo(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,mo(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ie(n,0)};function mo(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function $s(t,e){this.g=t,this.h=e}function aa(t,e){if(_n(e))throw Error("division by zero");if(_n(t))return new $s(as,as);if(Mt(t))return e=aa(at(t),e),new $s(at(e.g),at(e.h));if(Mt(e))return e=aa(t,at(e)),new $s(at(e.g),e.h);if(30<t.g.length){if(Mt(t)||Mt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Vl,r=e;0>=r.X(t);)n=yf(n),r=yf(r);var s=Gr(n,1),i=Gr(r,1);for(r=Gr(r,2),n=Gr(n,2);!_n(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=Gr(r,1),n=Gr(n,1)}return e=oa(t,s.R(e)),new $s(s,e)}for(s=as;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=tn(n),o=i.R(e);Mt(o)||0<o.X(t);)n-=r,i=tn(n),o=i.R(e);_n(i)&&(i=Vl),s=s.add(i),t=oa(t,o)}return new $s(s,t)}V.gb=function(t){return aa(this,t).h};V.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ie(n,this.h&t.h)};V.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ie(n,this.h|t.h)};V.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ie(n,this.h^t.h)};function yf(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ie(n,t.h)}function Gr(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Ie(s,t.h)}ia.prototype.createWebChannel=ia.prototype.g;Dt.prototype.send=Dt.prototype.u;Dt.prototype.open=Dt.prototype.m;Dt.prototype.close=Dt.prototype.close;Wa.NO_ERROR=0;Wa.TIMEOUT=8;Wa.HTTP_ERROR=6;zg.COMPLETE="complete";qg.EventType=zi;zi.OPEN="a";zi.CLOSE="b";zi.ERROR="c";zi.MESSAGE="d";et.prototype.listen=et.prototype.O;Ue.prototype.listenOnce=Ue.prototype.P;Ue.prototype.getLastError=Ue.prototype.Sa;Ue.prototype.getLastErrorCode=Ue.prototype.Ia;Ue.prototype.getStatus=Ue.prototype.da;Ue.prototype.getResponseJson=Ue.prototype.Wa;Ue.prototype.getResponseText=Ue.prototype.ja;Ue.prototype.send=Ue.prototype.ha;Ue.prototype.setWithCredentials=Ue.prototype.Oa;cn.prototype.digest=cn.prototype.l;cn.prototype.reset=cn.prototype.reset;cn.prototype.update=cn.prototype.j;Ie.prototype.add=Ie.prototype.add;Ie.prototype.multiply=Ie.prototype.R;Ie.prototype.modulo=Ie.prototype.gb;Ie.prototype.compare=Ie.prototype.X;Ie.prototype.toNumber=Ie.prototype.ea;Ie.prototype.toString=Ie.prototype.toString;Ie.prototype.getBits=Ie.prototype.D;Ie.fromNumber=tn;Ie.fromString=S_;var qP=function(){return new ia},WP=function(){return qa()},Lc=Wa,KP=zg,GP=Br,vf={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},QP=Ki,go=qg,XP=Ue,YP=Ie;const wf="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ks="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new vu("@firebase/firestore");function Us(){return Nr.logLevel}function z(t,...e){if(Nr.logLevel<=de.DEBUG){const n=e.map(sh);Nr.debug(`Firestore (${ks}): ${t}`,...n)}}function Dr(t,...e){if(Nr.logLevel<=de.ERROR){const n=e.map(sh);Nr.error(`Firestore (${ks}): ${t}`,...n)}}function ca(t,...e){if(Nr.logLevel<=de.WARN){const n=e.map(sh);Nr.warn(`Firestore (${ks}): ${t}`,...n)}}function sh(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t="Unexpected state"){const e=`FIRESTORE (${ks}) INTERNAL ASSERTION FAILED: `+t;throw Dr(e),new Error(e)}function tt(t,e){t||fe()}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}}class ZP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class e1{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ar,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ar)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt(typeof r.accessToken=="string"),new R_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return tt(e===null||typeof e=="string"),new pt(e)}}class t1{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class n1{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new t1(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s1{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tt(typeof n.token=="string"),this.R=n.token,new r1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=i1(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Pe(t,e){return t<e?-1:t>e?1:0}function _s(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Ze(0,0))}static max(){return new Ve(new Ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(),r===void 0?r=e.length-n:r>e.length-n&&fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class $e extends Ri{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const o1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends Ri{construct(e,n,r){return new lt(e,n,r)}static isValidIdentifier(e){return o1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new lt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new G(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new G(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new G(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new G(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lt(n)}static emptyPath(){return new lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe($e.fromString(e))}static fromName(e){return new oe($e.fromString(e).popFirst(5))}static empty(){return new oe($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new $e(e.slice()))}}function a1(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ve.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new tr(s,oe.empty(),e)}function c1(t){return new tr(t.readTime,t.key,-1)}class tr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new tr(Ve.min(),oe.empty(),-1)}static max(){return new tr(Ve.max(),oe.empty(),-1)}}function l1(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C_(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==u1)throw t;z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new C((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof C?n:C.resolve(n)}catch(n){return C.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):C.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):C.reject(n)}static resolve(e){return new C((n,r)=>{n(e)})}static reject(e){return new C((n,r)=>{r(e)})}static waitFor(e){return new C((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=C.resolve(!1);for(const r of e)n=n.next(s=>s?C.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new C((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new C((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function ec(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}O_._e=-1;function ih(t){return t==null}function la(t){return t===0&&1/t==-1/0}function d1(t){return typeof t=="number"&&Number.isInteger(t)&&!la(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function k_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||it.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,it.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,it.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _o(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _o(this.root,e,this.comparator,!1)}getReverseIterator(){return new _o(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _o(this.root,e,this.comparator,!0)}}class _o{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class it{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??it.RED,this.left=s??it.EMPTY,this.right=i??it.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new it(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return it.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return it.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}}it.EMPTY=null,it.RED=!0,it.BLACK=!1;it.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(e,n,r,s,i){return this}insert(e,n,r){return new it(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bf(this.data.getIterator())}getIteratorFrom(e){return new bf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bt(this.comparator);return n.data=e,n}}class bf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.fields=e,e.sort(lt.comparator)}static empty(){return new Ht([])}unionWith(e){let n=new bt(lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ht(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _s(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new f1("Invalid base64 string: "+i):i}}(e);return new Rn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Rn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const p1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mr(t){if(tt(!!t),typeof t=="string"){let e=0;const n=p1.exec(t);if(tt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Pi(t){return typeof t=="string"?Rn.fromBase64String(t):Rn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function x_(t){const e=t.mapValue.fields.__previous_value__;return oh(e)?x_(e):e}function ua(t){const e=Mr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n,r,s,i,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class ha{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ha("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ha&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ys(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?oh(t)?4:g1(t)?9007199254740991:10:fe()}function ln(t,e){if(t===e)return!0;const n=ys(t);if(n!==ys(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ua(t).isEqual(ua(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Mr(s.timestampValue),a=Mr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Pi(s.bytesValue).isEqual(Pi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ot(s.geoPointValue.latitude)===ot(i.geoPointValue.latitude)&&ot(s.geoPointValue.longitude)===ot(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ot(s.integerValue)===ot(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ot(s.doubleValue),a=ot(i.doubleValue);return o===a?la(o)===la(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return _s(t.arrayValue.values||[],e.arrayValue.values||[],ln);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Ef(o)!==Ef(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!ln(o[c],a[c])))return!1;return!0}(t,e);default:return fe()}}function Ci(t,e){return(t.values||[]).find(n=>ln(n,e))!==void 0}function vs(t,e){if(t===e)return 0;const n=ys(t),r=ys(e);if(n!==r)return Pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ot(i.integerValue||i.doubleValue),c=ot(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Tf(t.timestampValue,e.timestampValue);case 4:return Tf(ua(t),ua(e));case 5:return Pe(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Pi(i),c=Pi(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let l=0;l<a.length&&l<c.length;l++){const u=Pe(a[l],c[l]);if(u!==0)return u}return Pe(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Pe(ot(i.latitude),ot(o.latitude));return a!==0?a:Pe(ot(i.longitude),ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],c=o.values||[];for(let l=0;l<a.length&&l<c.length;++l){const u=vs(a[l],c[l]);if(u)return u}return Pe(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===yo.mapValue&&o===yo.mapValue)return 0;if(i===yo.mapValue)return 1;if(o===yo.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),l=o.fields||{},u=Object.keys(l);c.sort(),u.sort();for(let h=0;h<c.length&&h<u.length;++h){const d=Pe(c[h],u[h]);if(d!==0)return d;const f=vs(a[c[h]],l[u[h]]);if(f!==0)return f}return Pe(c.length,u.length)}(t.mapValue,e.mapValue);default:throw fe()}}function Tf(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=Mr(t),r=Mr(e),s=Pe(n.seconds,r.seconds);return s!==0?s:Pe(n.nanos,r.nanos)}function ws(t){return $l(t)}function $l(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Mr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Pi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=$l(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${$l(n.fields[o])}`;return s+"}"}(t.mapValue):fe()}function Ul(t){return!!t&&"integerValue"in t}function ah(t){return!!t&&"arrayValue"in t}function xo(t){return!!t&&"mapValue"in t}function ri(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ri(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ri(t.arrayValue.values[n]);return e}return Object.assign({},t)}function g1(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.value=e}static empty(){return new jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ri(n)}setAll(e){let n=lt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ri(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());xo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];xo(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Xi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new jt(ri(this.value))}}function N_(t){const e=[];return Xi(t.fields,(n,r)=>{const s=new lt([n]);if(xo(r)){const i=N_(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Ht(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ut(e,0,Ve.min(),Ve.min(),Ve.min(),jt.empty(),0)}static newFoundDocument(e,n,r,s){return new Ut(e,1,n,Ve.min(),r,s,0)}static newNoDocument(e,n){return new Ut(e,2,n,Ve.min(),Ve.min(),jt.empty(),0)}static newUnknownDocument(e,n){return new Ut(e,3,n,Ve.min(),Ve.min(),jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n){this.position=e,this.inclusive=n}}function If(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=vs(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Af(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ln(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n="asc"){this.field=e,this.dir=n}}function _1(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{}class Je extends D_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new v1(e,n,r):n==="array-contains"?new b1(e,r):n==="in"?new T1(e,r):n==="not-in"?new I1(e,r):n==="array-contains-any"?new A1(e,r):new Je(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new w1(e,r):new E1(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(vs(n,this.value)):n!==null&&ys(this.value)===ys(n)&&this.matchesComparison(vs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends D_{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new nr(e,n)}matches(e){return M_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function M_(t){return t.op==="and"}function L_(t){return y1(t)&&M_(t)}function y1(t){for(const e of t.filters)if(e instanceof nr)return!1;return!0}function Fl(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+ws(t.value);if(L_(t))return t.filters.map(e=>Fl(e)).join(",");{const e=t.filters.map(n=>Fl(n)).join(",");return`${t.op}(${e})`}}function V_(t,e){return t instanceof Je?function(r,s){return s instanceof Je&&r.op===s.op&&r.field.isEqual(s.field)&&ln(r.value,s.value)}(t,e):t instanceof nr?function(r,s){return s instanceof nr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&V_(o,s.filters[a]),!0):!1}(t,e):void fe()}function $_(t){return t instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${ws(n.value)}`}(t):t instanceof nr?function(n){return n.op.toString()+" {"+n.getFilters().map($_).join(" ,")+"}"}(t):"Filter"}class v1 extends Je{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class w1 extends Je{constructor(e,n){super(e,"in",n),this.keys=U_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class E1 extends Je{constructor(e,n){super(e,"not-in",n),this.keys=U_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function U_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class b1 extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ah(n)&&Ci(n.arrayValue,this.value)}}class T1 extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ci(this.value.arrayValue,n)}}class I1 extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ci(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ci(this.value.arrayValue,n)}}class A1 extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ah(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ci(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function Sf(t,e=null,n=[],r=[],s=null,i=null,o=null){return new S1(t,e,n,r,s,i,o)}function ch(t){const e=Me(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Fl(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ih(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ws(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ws(r)).join(",")),e.ce=n}return e.ce}function lh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_1(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!V_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Af(t.startAt,e.startAt)&&Af(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function R1(t,e,n,r,s,i,o,a){return new tc(t,e,n,r,s,i,o,a)}function P1(t){return new tc(t)}function Rf(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function C1(t){return t.collectionGroup!==null}function si(t){const e=Me(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new bt(lt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new fa(i,r))}),n.has(lt.keyField().canonicalString())||e.le.push(new fa(lt.keyField(),r))}return e.le}function Sr(t){const e=Me(t);return e.he||(e.he=O1(e,si(t))),e.he}function O1(t,e){if(t.limitType==="F")return Sf(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new fa(s.field,i)});const n=t.endAt?new da(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new da(t.startAt.position,t.startAt.inclusive):null;return Sf(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function jl(t,e,n){return new tc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function F_(t,e){return lh(Sr(t),Sr(e))&&t.limitType===e.limitType}function j_(t){return`${ch(Sr(t))}|lt:${t.limitType}`}function Fs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>$_(s)).join(", ")}]`),ih(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ws(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ws(s)).join(",")),`Target(${r})`}(Sr(t))}; limitType=${t.limitType})`}function uh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):oe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of si(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const l=If(o,a,c);return o.inclusive?l<=0:l<0}(r.startAt,si(r),s)||r.endAt&&!function(o,a,c){const l=If(o,a,c);return o.inclusive?l>=0:l>0}(r.endAt,si(r),s))}(t,e)}function k1(t){return(e,n)=>{let r=!1;for(const s of si(t)){const i=x1(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function x1(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),l=a.data.field(i);return c!==null&&l!==null?vs(c,l):fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return k_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=new Ct(oe.comparator);function pa(){return N1}const B_=new Ct(oe.comparator);function vo(...t){let e=B_;for(const n of t)e=e.insert(n.key,n);return e}function H_(t){let e=B_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wr(){return ii()}function z_(){return ii()}function ii(){return new xs(t=>t.toString(),(t,e)=>t.isEqual(e))}const D1=new Ct(oe.comparator),M1=new bt(oe.comparator);function mt(...t){let e=M1;for(const n of t)e=e.add(n);return e}const L1=new bt(Pe);function V1(){return L1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:la(e)?"-0":e}}function W_(t){return{integerValue:""+t}}function $1(t,e){return d1(e)?W_(e):q_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this._=void 0}}function U1(t,e,n){return t instanceof ma?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&oh(i)&&(i=x_(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Oi?G_(t,e):t instanceof ki?Q_(t,e):function(s,i){const o=K_(s,i),a=Pf(o)+Pf(s.Ie);return Ul(o)&&Ul(s.Ie)?W_(a):q_(s.serializer,a)}(t,e)}function F1(t,e,n){return t instanceof Oi?G_(t,e):t instanceof ki?Q_(t,e):n}function K_(t,e){return t instanceof ga?function(r){return Ul(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ma extends nc{}class Oi extends nc{constructor(e){super(),this.elements=e}}function G_(t,e){const n=X_(e);for(const r of t.elements)n.some(s=>ln(s,r))||n.push(r);return{arrayValue:{values:n}}}class ki extends nc{constructor(e){super(),this.elements=e}}function Q_(t,e){let n=X_(e);for(const r of t.elements)n=n.filter(s=>!ln(s,r));return{arrayValue:{values:n}}}class ga extends nc{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Pf(t){return ot(t.integerValue||t.doubleValue)}function X_(t){return ah(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function j1(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Oi&&s instanceof Oi||r instanceof ki&&s instanceof ki?_s(r.elements,s.elements,ln):r instanceof ga&&s instanceof ga?ln(r.Ie,s.Ie):r instanceof ma&&s instanceof ma}(t.transform,e.transform)}class B1{constructor(e,n){this.version=e,this.transformResults=n}}class bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function No(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rc{}function Y_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Z_(t.key,bn.none()):new Yi(t.key,t.data,bn.none());{const n=t.data,r=jt.empty();let s=new bt(lt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Hr(t.key,r,new Ht(s.toArray()),bn.none())}}function H1(t,e,n){t instanceof Yi?function(s,i,o){const a=s.value.clone(),c=Of(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Hr?function(s,i,o){if(!No(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Of(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(J_(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function oi(t,e,n,r){return t instanceof Yi?function(i,o,a,c){if(!No(i.precondition,o))return a;const l=i.value.clone(),u=kf(i.fieldTransforms,c,o);return l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Hr?function(i,o,a,c){if(!No(i.precondition,o))return a;const l=kf(i.fieldTransforms,c,o),u=o.data;return u.setAll(J_(i)),u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return No(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function z1(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=K_(r.transform,s||null);i!=null&&(n===null&&(n=jt.empty()),n.set(r.field,i))}return n||null}function Cf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&_s(r,s,(i,o)=>j1(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yi extends rc{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Hr extends rc{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function J_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Of(t,e,n){const r=new Map;tt(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,F1(o,a,n[s]))}return r}function kf(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,U1(i,o,e))}return r}class Z_ extends rc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q1 extends rc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&H1(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=oi(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=oi(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=z_();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=Y_(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),mt())}isEqual(e){return this.batchId===e.batchId&&_s(this.mutations,e.mutations,(n,r)=>Cf(n,r))&&_s(this.baseMutations,e.baseMutations,(n,r)=>Cf(n,r))}}class hh{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){tt(e.mutations.length===r.length);let s=function(){return D1}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new hh(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He,pe;function G1(t){switch(t){default:return fe();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function Q1(t){if(t===void 0)return Dr("GRPC error has no .code"),k.UNKNOWN;switch(t){case He.OK:return k.OK;case He.CANCELLED:return k.CANCELLED;case He.UNKNOWN:return k.UNKNOWN;case He.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case He.INTERNAL:return k.INTERNAL;case He.UNAVAILABLE:return k.UNAVAILABLE;case He.UNAUTHENTICATED:return k.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case He.NOT_FOUND:return k.NOT_FOUND;case He.ALREADY_EXISTS:return k.ALREADY_EXISTS;case He.PERMISSION_DENIED:return k.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case He.ABORTED:return k.ABORTED;case He.OUT_OF_RANGE:return k.OUT_OF_RANGE;case He.UNIMPLEMENTED:return k.UNIMPLEMENTED;case He.DATA_LOSS:return k.DATA_LOSS;default:return fe()}}(pe=He||(He={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new YP([4294967295,4294967295],0);class X1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Y1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function J1(t,e){return Bl(t,e.toTimestamp())}function cs(t){return tt(!!t),Ve.fromTimestamp(function(n){const r=Mr(n);return new Ze(r.seconds,r.nanos)}(t))}function ey(t,e){return function(r){return new $e(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function Z1(t){const e=$e.fromString(t);return tt(aC(e)),e}function Hl(t,e){return ey(t.databaseId,e.path)}function eC(t){const e=Z1(t);return e.length===4?$e.emptyPath():nC(e)}function tC(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nC(t){return tt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function xf(t,e,n){return{name:Hl(t,e),fields:n.value.mapValue.fields}}function rC(t,e){let n;if(e instanceof Yi)n={update:xf(t,e.key,e.value)};else if(e instanceof Z_)n={delete:Hl(t,e.key)};else if(e instanceof Hr)n={update:xf(t,e.key,e.data),updateMask:oC(e.fieldMask)};else{if(!(e instanceof q1))return fe();n={verify:Hl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof ma)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Oi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ki)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ga)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:J1(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:fe()}(t,e.precondition)),n}function sC(t,e){return t&&t.length>0?(tt(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?cs(s.updateTime):cs(i);return o.isEqual(Ve.min())&&(o=cs(i)),new B1(o,s.transformResults||[])}(n,e))):[]}function iC(t){let e=eC(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){tt(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const d=ty(h);return d instanceof nr&&L_(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(_){return new fa(Xr(_.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,ih(d)?null:d}(n.limit));let c=null;n.startAt&&(c=function(h){const d=!!h.before,f=h.values||[];return new da(f,d)}(n.startAt));let l=null;return n.endAt&&(l=function(h){const d=!h.before,f=h.values||[];return new da(f,d)}(n.endAt)),R1(e,s,o,i,a,"F",c,l)}function ty(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xr(n.unaryFilter.field);return Je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Xr(n.unaryFilter.field);return Je.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Xr(n.unaryFilter.field);return Je.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xr(n.unaryFilter.field);return Je.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(t):t.fieldFilter!==void 0?function(n){return Je.create(Xr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nr.create(n.compositeFilter.filters.map(r=>ty(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return fe()}}(n.compositeFilter.op))}(t):fe()}function Xr(t){return lt.fromServerFormat(t.fieldPath)}function oC(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.ut=e}}function lC(t){const e=iC({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jl(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.on=new hC}addToCollectionParentIndex(e,n){return this.on.add(n),C.resolve()}getCollectionParents(e,n){return C.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return C.resolve()}deleteFieldIndex(e,n){return C.resolve()}deleteAllFieldIndexes(e){return C.resolve()}createTargetIndexes(e,n){return C.resolve()}getDocumentsMatchingTarget(e,n){return C.resolve(null)}getIndexType(e,n){return C.resolve(0)}getFieldIndexes(e,n){return C.resolve([])}getNextCollectionGroupToUpdate(e){return C.resolve(null)}getMinOffset(e,n){return C.resolve(tr.min())}getMinOffsetFromCollectionGroup(e,n){return C.resolve(tr.min())}updateCollectionGroup(e,n,r){return C.resolve()}updateIndexEntries(e,n){return C.resolve()}}class hC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new bt($e.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new bt($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Es(0)}static Nn(){return new Es(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.changes=new xs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?C.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&oi(r.mutation,s,Ht.empty(),Ze.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,mt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=mt()){const s=wr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=vo();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=wr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,mt()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=pa();const o=ii(),a=function(){return ii()}();return n.forEach((c,l)=>{const u=r.get(l.key);s.has(l.key)&&(u===void 0||u.mutation instanceof Hr)?i=i.insert(l.key,l):u!==void 0?(o.set(l.key,u.mutation.getFieldMask()),oi(u.mutation,l,u.mutation.getFieldMask(),Ze.now())):o.set(l.key,Ht.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var h;return a.set(l,new fC(u,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ii();let s=new Ct((o,a)=>o-a),i=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(l===null)return;let u=r.get(c)||Ht.empty();u=a.applyToLocalView(l,u),r.set(c,u);const h=(s.get(a.batchId)||mt()).add(c);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,h=z_();u.forEach(d=>{if(!i.has(d)){const f=Y_(n.get(d),r.get(d));f!==null&&h.set(d,f),i=i.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return C.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):C1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):C.resolve(wr());let a=-1,c=i;return o.next(l=>C.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?C.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{c=c.insert(u,d)}))).next(()=>this.populateOverlays(e,l,i)).next(()=>this.computeViews(e,c,l,mt())).next(u=>({batchId:a,changes:H_(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let s=vo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=vo();return this.indexManager.getCollectionParents(e,i).next(a=>C.forEach(a,c=>{const l=function(h,d){return new tc(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r,s).next(u=>{u.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,l)=>{const u=l.getKey();o.get(u)===null&&(o=o.insert(u,Ut.newInvalidDocument(u)))});let a=vo();return o.forEach((c,l)=>{const u=i.get(c);u!==void 0&&oi(u.mutation,l,Ht.empty(),Ze.now()),uh(n,l)&&(a=a.insert(c,l))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return C.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:cs(s.createTime)}}(n)),C.resolve()}getNamedQuery(e,n){return C.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:lC(s.bundledQuery),readTime:cs(s.readTime)}}(n)),C.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.overlays=new Ct(oe.comparator),this.lr=new Map}getOverlay(e,n){return C.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wr();return C.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.lt(e,n,i)}),C.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),C.resolve()}getOverlaysForCollection(e,n,r){const s=wr(),i=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return C.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ct((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let u=i.get(l.largestBatchId);u===null&&(u=wr(),i=i.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=wr(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=s)););return C.resolve(a)}lt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new K1(n,r));let i=this.lr.get(n);i===void 0&&(i=mt(),this.lr.set(n,i)),this.lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this.hr=new bt(Ye.Pr),this.Ir=new bt(Ye.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Ye(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Ye(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new oe(new $e([])),r=new Ye(n,e),s=new Ye(n,e+1),i=[];return this.Ir.forEachInRange([r,s],o=>{this.dr(o),i.push(o.key)}),i}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new oe(new $e([])),r=new Ye(n,e),s=new Ye(n,e+1);let i=mt();return this.Ir.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ye(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ye{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return oe.comparator(e.key,n.key)||Pe(e.gr,n.gr)}static Tr(e,n){return Pe(e.gr,n.gr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new bt(Ye.Pr)}checkEmpty(e){return C.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new W1(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.yr=this.yr.add(new Ye(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(e,n){return C.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Sr(r),i=s<0?0:s;return C.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ye(n,0),s=new Ye(n,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,s],o=>{const a=this.wr(o.gr);i.push(a)}),C.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bt(Pe);return n.forEach(s=>{const i=new Ye(s,0),o=new Ye(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,o],a=>{r=r.add(a.gr)})}),C.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;oe.isDocumentKey(i)||(i=i.child(""));const o=new Ye(new oe(i),0);let a=new bt(Pe);return this.yr.forEachWhile(c=>{const l=c.key.path;return!!r.isPrefixOf(l)&&(l.length===s&&(a=a.add(c.gr)),!0)},o),C.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const s=this.wr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){tt(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return C.forEach(n.mutations,s=>{const i=new Ye(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Ye(n,0),s=this.yr.firstAfterOrEqual(r);return C.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,C.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.Cr=e,this.docs=function(){return new Ct(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return C.resolve(r?r.document.mutableCopy():Ut.newInvalidDocument(n))}getEntries(e,n){let r=pa();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ut.newInvalidDocument(s))}),C.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=pa();const o=n.path,a=new oe(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:l,value:{document:u}}=c.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||l1(c1(u),r)<=0||(s.has(u.key)||uh(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return C.resolve(i)}getAllFromCollectionGroup(e,n,r,s){fe()}vr(e,n){return C.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new vC(this)}getSize(e){return C.resolve(this.size)}}class vC extends dC{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(r)}),C.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.persistence=e,this.Fr=new xs(n=>ch(n),lh),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.Mr=0,this.Or=new dh,this.targetCount=0,this.Nr=Es.On()}forEachTarget(e,n){return this.Fr.forEach((r,s)=>n(s)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),C.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Es(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,C.resolve()}updateTargetData(e,n){return this.kn(n),C.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),C.waitFor(i).next(()=>s)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return C.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),C.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),C.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),C.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return C.resolve(r)}containsKey(e,n){return C.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n){this.Br={},this.overlays={},this.Lr=new O_(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new wC(this),this.indexManager=new uC,this.remoteDocumentCache=function(s){return new yC(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new cC(n),this.Kr=new mC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new _C(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);const s=new bC(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(i=>this.referenceDelegate.Ur(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Wr(e,n){return C.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class bC extends h1{constructor(e){super(),this.currentSequenceNumber=e}}class fh{constructor(e){this.persistence=e,this.Gr=new dh,this.zr=null}static jr(e){return new fh(e)}get Hr(){if(this.zr)return this.zr;throw fe()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),C.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),C.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),C.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.Hr,r=>{const s=oe.fromPath(r);return this.Jr(e,s).next(i=>{i||n.removeEntry(s,Ve.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return C.or([()=>C.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=s}static Qi(e,n){let r=mt(),s=mt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new ph(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.zi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ji(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new TC;return this.Hi(e,n,o).next(a=>{if(i.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>i.result)}Ji(e,n,r,s){return r.documentReadCount<this.Ui?(Us()<=de.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",Fs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),C.resolve()):(Us()<=de.DEBUG&&z("QueryEngine","Query:",Fs(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Wi*s?(Us()<=de.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",Fs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(n))):C.resolve())}zi(e,n){if(Rf(n))return C.resolve(null);let r=Sr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=jl(n,null,"F"),r=Sr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=mt(...i);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const l=this.Yi(n,a);return this.Zi(n,l,o,c.readTime)?this.zi(e,jl(n,null,"F")):this.Xi(e,l,n,c)}))})))}ji(e,n,r,s){return Rf(n)||s.isEqual(Ve.min())?C.resolve(null):this.Gi.getDocuments(e,r).next(i=>{const o=this.Yi(n,i);return this.Zi(n,o,r,s)?C.resolve(null):(Us()<=de.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Fs(n)),this.Xi(e,o,n,a1(s,-1)).next(a=>a))})}Yi(e,n){let r=new bt(k1(e));return n.forEach((s,i)=>{uh(e,i)&&(r=r.add(i))}),r}Zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Hi(e,n,r){return Us()<=de.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",Fs(n)),this.Gi.getDocumentsMatchingQuery(e,n,tr.min(),r)}Xi(e,n,r,s){return this.Gi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n,r,s){this.persistence=e,this.es=n,this.serializer=s,this.ts=new Ct(Pe),this.ns=new xs(i=>ch(i),lh),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pC(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function SC(t,e,n,r){return new AC(t,e,n,r)}async function ny(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=mt();for(const l of s){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of i){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(l=>({_s:l,removedBatchIds:o,addedBatchIds:a}))})})}function RC(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,l,u){const h=l.batch,d=h.keys();let f=C.resolve();return d.forEach(_=>{f=f.next(()=>u.getEntry(c,_)).next(y=>{const b=l.docVersions.get(_);tt(b!==null),y.version.compareTo(b)<0&&(h.applyToRemoteDocument(y,l),y.isValidDocument()&&(y.setReadTime(l.commitVersion),u.addEntry(y)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=mt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(c=c.add(a.batch.mutations[l].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function PC(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function CC(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class Nf{constructor(){this.activeTargetIds=V1()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OC{constructor(){this.eo=new Nf,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Nf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo=null;function Vc(){return wo===null?wo=function(){return 268435456+Math.round(2147483648*Math.random())}():wo++,"0x"+wo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft="WebChannelConnection";class DC extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${s}/databases/${i}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get yo(){return!1}wo(n,r,s,i,o){const a=Vc(),c=this.So(n,r);z("RestConnection",`Sending RPC '${n}' ${a}:`,c,s);const l={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(l,i,o),this.Do(n,c,l,s).then(u=>(z("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw ca("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",c,"request:",s),u})}Co(n,r,s,i,o,a){return this.wo(n,r,s,i,o)}bo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ks}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}So(n,r){const s=xC[n];return`${this.mo}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,s){const i=Vc();return new Promise((o,a)=>{const c=new XP;c.setWithCredentials(!0),c.listenOnce(KP.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Lc.NO_ERROR:const u=c.getResponseJson();z(ft,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Lc.TIMEOUT:z(ft,`RPC '${e}' ${i} timed out`),a(new G(k.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const h=c.getStatus();if(z(ft,`RPC '${e}' ${i} failed with status:`,h,"response text:",c.getResponseText()),h>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const _=function(b){const A=b.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(A)>=0?A:k.UNKNOWN}(f.status);a(new G(_,f.message))}else a(new G(k.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new G(k.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{z(ft,`RPC '${e}' ${i} completed.`)}});const l=JSON.stringify(s);z(ft,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",l,r,15)})}vo(e,n,r){const s=Vc(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=qP(),a=WP(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new QP({})),this.bo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=i.join("");z(ft,`Creating RPC '${e}' stream ${s}: ${u}`,c);const h=o.createWebChannel(u,c);let d=!1,f=!1;const _=new NC({co:b=>{f?z(ft,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(d||(z(ft,`Opening RPC '${e}' stream ${s} transport.`),h.open(),d=!0),z(ft,`RPC '${e}' stream ${s} sending:`,b),h.send(b))},lo:()=>h.close()}),y=(b,A,R)=>{b.listen(A,U=>{try{R(U)}catch(N){setTimeout(()=>{throw N},0)}})};return y(h,go.EventType.OPEN,()=>{f||z(ft,`RPC '${e}' stream ${s} transport opened.`)}),y(h,go.EventType.CLOSE,()=>{f||(f=!0,z(ft,`RPC '${e}' stream ${s} transport closed`),_.Ro())}),y(h,go.EventType.ERROR,b=>{f||(f=!0,ca(ft,`RPC '${e}' stream ${s} transport errored:`,b),_.Ro(new G(k.UNAVAILABLE,"The operation could not be completed")))}),y(h,go.EventType.MESSAGE,b=>{var A;if(!f){const R=b.data[0];tt(!!R);const U=R,N=U.error||((A=U[0])===null||A===void 0?void 0:A.error);if(N){z(ft,`RPC '${e}' stream ${s} received error:`,N);const ie=N.status;let Y=function(ue){const be=He[ue];if(be!==void 0)return Q1(be)}(ie),ae=N.message;Y===void 0&&(Y=k.INTERNAL,ae="Unknown error status: "+ie+" with message "+N.message),f=!0,_.Ro(new G(Y,ae)),h.close()}else z(ft,`RPC '${e}' stream ${s} received:`,R),_.Vo(R)}}),y(a,GP.STAT_EVENT,b=>{b.stat===vf.PROXY?z(ft,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===vf.NOPROXY&&z(ft,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.Ao()},0),_}}function $c(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(t){return new X1(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n,r=1e3,s=1.5,i=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=s,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n,r,s,i,o,a,c){this.si=e,this.Ko=r,this.$o=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new ry(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(Dr(n.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Uo===n&&this.s_(r,s)},r=>{e(()=>{const s=new G(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(s)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{r(()=>this.o_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LC extends MC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(tt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=sC(e.writeResults,e.commitTime),r=cs(e.commitTime);return this.listener.I_(r,n)}return tt(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=tC(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>rC(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new G(k.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.wo(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(k.UNKNOWN,s.toString())})}Co(e,n,r,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Co(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new G(k.UNKNOWN,i.toString())})}terminate(){this.d_=!0}}class $C{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Dr(n),this.f_=!1):z("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro(o=>{r.enqueueAndForget(async()=>{Zi(this)&&(z("RemoteStore","Restarting streams for network reachability change."),await async function(c){const l=Me(c);l.C_.add(4),await Ji(l),l.M_.set("Unknown"),l.C_.delete(4),await ic(l)}(this))})}),this.M_=new $C(r,s)}}async function ic(t){if(Zi(t))for(const e of t.v_)await e(!0)}async function Ji(t){for(const e of t.v_)await e(!1)}function Zi(t){return Me(t).C_.size===0}async function sy(t,e,n){if(!ec(e))throw e;t.C_.add(1),await Ji(t),t.M_.set("Offline"),n||(n=()=>PC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{z("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await ic(t)})}function iy(t,e){return e().catch(n=>sy(t,n,e))}async function oc(t){const e=Me(t),n=rr(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;FC(e);)try{const s=await CC(e.localStore,r);if(s===null){e.b_.length===0&&n.Zo();break}r=s.batchId,jC(e,s)}catch(s){await sy(e,s)}oy(e)&&ay(e)}function FC(t){return Zi(t)&&t.b_.length<10}function jC(t,e){t.b_.push(e);const n=rr(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function oy(t){return Zi(t)&&!rr(t).jo()&&t.b_.length>0}function ay(t){rr(t).start()}async function BC(t){rr(t).E_()}async function HC(t){const e=rr(t);for(const n of t.b_)e.P_(n.mutations)}async function zC(t,e,n){const r=t.b_.shift(),s=hh.from(r,e,n);await iy(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await oc(t)}async function qC(t,e){e&&rr(t).h_&&await async function(r,s){if(function(o){return G1(o)&&o!==k.ABORTED}(s.code)){const i=r.b_.shift();rr(r).Yo(),await iy(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await oc(r)}}(t,e),oy(t)&&ay(t)}async function Mf(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");const r=Zi(n);n.C_.add(3),await Ji(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await ic(n)}async function WC(t,e){const n=Me(t);e?(n.C_.delete(2),await ic(n)):e||(n.C_.add(2),await Ji(n),n.M_.set("Unknown"))}function rr(t){return t.N_||(t.N_=function(n,r,s){const i=Me(n);return i.A_(),new LC(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ho:BC.bind(null,t),Io:qC.bind(null,t),T_:HC.bind(null,t),I_:zC.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await oc(t)):(await t.N_.stop(),t.b_.length>0&&(z("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new mh(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cy(t,e){if(Dr("AsyncQueue",`${e}: ${t}`),ec(t))return new G(k.UNAVAILABLE,`${e}: ${t}`);throw t}class KC{constructor(){this.queries=new xs(e=>j_(e),F_),this.onlineState="Unknown",this.q_=new Set}}function GC(t){t.q_.forEach(e=>{e.next()})}class QC{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new xs(a=>j_(a),F_),this.fa=new Map,this.ga=new Set,this.pa=new Ct(oe.comparator),this.ya=new Map,this.wa=new dh,this.Sa={},this.ba=new Map,this.Da=Es.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function XC(t,e,n){const r=eO(t);try{const s=await function(o,a){const c=Me(o),l=Ze.now(),u=a.reduce((f,_)=>f.add(_.key),mt());let h,d;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let _=pa(),y=mt();return c.ss.getEntries(f,u).next(b=>{_=b,_.forEach((A,R)=>{R.isValidDocument()||(y=y.add(A))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,_)).next(b=>{h=b;const A=[];for(const R of a){const U=z1(R,h.get(R.key).overlayedDocument);U!=null&&A.push(new Hr(R.key,U,N_(U.value.mapValue),bn.exists(!0)))}return c.mutationQueue.addMutationBatch(f,l,A,a)}).next(b=>{d=b;const A=b.applyToLocalDocumentSet(h,y);return c.documentOverlayCache.saveOverlays(f,b.batchId,A)})}).then(()=>({batchId:d.batchId,changes:H_(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let l=o.Sa[o.currentUser.toKey()];l||(l=new Ct(Pe)),l=l.insert(a,c),o.Sa[o.currentUser.toKey()]=l}(r,s.batchId,n),await ac(r,s.changes),await oc(r.remoteStore)}catch(s){const i=cy(s,"Failed to persist write");n.reject(i)}}function Lf(t,e,n){const r=Me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ma.forEach((i,o)=>{const a=o.view.Q_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=Me(o);c.onlineState=a;let l=!1;c.queries.forEach((u,h)=>{for(const d of h.listeners)d.Q_(a)&&(l=!0)}),l&&GC(c)}(r.eventManager,e),s.length&&r.Va.a_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function YC(t,e){const n=Me(t),r=e.batch.batchId;try{const s=await RC(n.localStore,e);uy(n,r,null),ly(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ac(n,s)}catch(s){await C_(s)}}async function JC(t,e,n){const r=Me(t);try{const s=await function(o,a){const c=Me(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return c.mutationQueue.lookupMutationBatch(l,a).next(h=>(tt(h!==null),u=h.keys(),c.mutationQueue.removeMutationBatch(l,h))).next(()=>c.mutationQueue.performConsistencyCheck(l)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(l,u,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>c.localDocuments.getDocuments(l,u))})}(r.localStore,e);uy(r,e,n),ly(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ac(r,s)}catch(s){await C_(s)}}function ly(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function uy(t,e,n){const r=Me(t);let s=r.Sa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Sa[r.currentUser.toKey()]=s}}async function ac(t,e,n){const r=Me(t),s=[],i=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,n).then(l=>{if((l||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,l!=null&&l.fromCache?"not-current":"current"),l){s.push(l);const u=ph.Qi(c.targetId,l);i.push(u)}}))}),await Promise.all(o),r.Va.a_(s),await async function(c,l){const u=Me(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>C.forEach(l,d=>C.forEach(d.ki,f=>u.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>C.forEach(d.qi,f=>u.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!ec(h))throw h;z("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const d=h.targetId;if(!h.fromCache){const f=u.ts.get(d),_=f.snapshotVersion,y=f.withLastLimboFreeSnapshotVersion(_);u.ts=u.ts.insert(d,y)}}}(r.localStore,i))}async function ZC(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());const r=await ny(n.localStore,e);n.currentUser=e,function(i,o){i.ba.forEach(a=>{a.forEach(c=>{c.reject(new G(k.CANCELLED,o))})}),i.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ac(n,r._s)}}function eO(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JC.bind(null,e),e}class Vf{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=sc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return SC(this.persistence,new IC,e.initialUser,this.serializer)}createPersistence(e){return new EC(fh.jr,this.serializer)}createSharedClientState(e){return new OC}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class tO{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Lf(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZC.bind(null,this.syncEngine),await WC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KC}()}createDatastore(e){const n=sc(e.databaseInfo.databaseId),r=function(i){return new DC(i)}(e.databaseInfo);return function(i,o,a,c){return new VC(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new UC(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Lf(this.syncEngine,n,0),function(){return Df.D()?new Df:new kC}())}createSyncEngine(e,n){return function(s,i,o,a,c,l,u){const h=new QC(s,i,o,a,c,l);return u&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Me(n);z("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Ji(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=pt.UNAUTHENTICATED,this.clientId=P_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{z("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(z("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new G(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Uc(t,e){t.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await ny(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $f(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sO(t);z("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>Mf(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>Mf(e.remoteStore,i)),t._onlineComponents=e}function rO(t){return t.name==="FirebaseError"?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function sO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{await Uc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!rO(n))throw n;ca("Error using user provided cache. Falling back to memory cache: "+n),await Uc(t,new Vf)}}else z("FirestoreClient","Using default OfflineComponentProvider"),await Uc(t,new Vf);return t._offlineComponents}async function iO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),await $f(t,t._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),await $f(t,new tO))),t._onlineComponents}function oO(t){return iO(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(t,e,n){if(!n)throw new G(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aO(t,e,n,r){if(e===!0&&r===!0)throw new G(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ff(t){if(!oe.isDocumentKey(t))throw new G(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jf(t){if(oe.isDocumentKey(t))throw new G(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe()}function fy(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gh(t);throw new G(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hy((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new G(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new G(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new G(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cc{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new G(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new G(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new JP;switch(r.type){case"firstParty":return new n1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Uf.get(n);r&&(z("ComponentProvider","Removing Datastore"),Uf.delete(n),r.terminate())}(this),Promise.resolve()}}function cO(t,e,n,r={}){var s;const i=(t=fy(t,cc))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=pt.MOCK_USER;else{a=SE(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new G(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new pt(l)}t._authCredentials=new ZP(new R_(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _h(this.firestore,e,this._query)}}class Tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class Yn extends _h{constructor(e,n,r){super(e,n,P1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new oe(e))}withConverter(e){return new Yn(this.firestore,e,this._path)}}function lO(t,e,...n){if(t=Pt(t),dy("collection","path",e),t instanceof cc){const r=$e.fromString(e,...n);return jf(r),new Yn(t,null,r)}{if(!(t instanceof Tn||t instanceof Yn))throw new G(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return jf(r),new Yn(t.firestore,null,r)}}function uO(t,e,...n){if(t=Pt(t),arguments.length===1&&(e=P_.newId()),dy("doc","path",e),t instanceof cc){const r=$e.fromString(e,...n);return Ff(r),new Tn(t,null,new oe(r))}{if(!(t instanceof Tn||t instanceof Yn))throw new G(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return Ff(r),new Tn(t.firestore,t instanceof Yn?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new ry(this,"async_queue_retry"),this.iu=()=>{const n=$c();n&&z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=$c();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=$c();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new Ar;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!ec(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Dr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const s=mh.createAndSchedule(this,e,n,r,i=>this.au(i));return this.Xa.push(s),s}su(){this.eu&&fe()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class py extends cc{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new hO}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||gy(this),this._firestoreClient.terminate()}}function my(t,e){const n=typeof t=="object"?t:pm(),r=typeof t=="string"?t:e||"(default)",s=Eu(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=IE("firestore");i&&cO(s,...i)}return s}function dO(t){return t._firestoreClient||gy(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function gy(t){var e,n,r;const s=t._freezeSettings(),i=function(a,c,l,u){return new m1(a,c,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,hy(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new nO(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xi(Rn.fromBase64String(e))}catch(n){throw new G(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xi(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=/^__.*__$/;class pO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Hr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yi(e,this.data,n,this.fieldTransforms)}}function wy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class yh{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new yh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Au(e),s}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return _a(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(wy(this.Iu)&&fO.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class mO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sc(e)}pu(e,n,r,s=!1){return new yh({Iu:e,methodName:n,gu:r,path:lt.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gO(t){const e=t._freezeSettings(),n=sc(t._databaseId);return new mO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _O(t,e,n,r,s,i={}){const o=t.pu(i.merge||i.mergeFields?2:0,e,n,s);Iy("Data must be an object, but it was:",o,r);const a=by(r,o);let c,l;if(i.merge)c=new Ht(o.fieldMask),l=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const d=yO(e,h,n);if(!o.contains(d))throw new G(k.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);EO(u,d)||u.push(d)}c=new Ht(u),l=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=o.fieldTransforms;return new pO(new jt(a),c,l)}function Ey(t,e){if(Ty(t=Pt(t)))return Iy("Unsupported field value:",e,t),by(t,e);if(t instanceof yy)return function(r,s){if(!wy(s.Iu))throw s.mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=Ey(a,s.Vu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $1(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ze.fromDate(r);return{timestampValue:Bl(s.serializer,i)}}if(r instanceof Ze){const i=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bl(s.serializer,i)}}if(r instanceof vy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xi)return{bytesValue:Y1(s.serializer,r._byteString)};if(r instanceof Tn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ey(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.mu(`Unsupported field value: ${gh(r)}`)}(t,e)}function by(t,e){const n={};return k_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xi(t,(r,s)=>{const i=Ey(s,e.Eu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Ty(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof vy||t instanceof xi||t instanceof Tn||t instanceof yy)}function Iy(t,e,n){if(!Ty(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=gh(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function yO(t,e,n){if((e=Pt(e))instanceof _y)return e._internalPath;if(typeof e=="string")return wO(t,e);throw _a("Field path arguments must be of type string or ",t,!1,void 0,n)}const vO=new RegExp("[~\\*/\\[\\]]");function wO(t,e,n){if(e.search(vO)>=0)throw _a(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _y(...e.split("."))._internalPath}catch{throw _a(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _a(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new G(k.INVALID_ARGUMENT,a+t+c)}function EO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function TO(t,e){const n=fy(t.firestore,py),r=uO(t),s=bO(t.converter,e);return IO(n,[_O(gO(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,bn.exists(!1))]).then(()=>r)}function IO(t,e){return function(r,s){const i=new Ar;return r.asyncQueue.enqueueAndForget(async()=>XC(await oO(r),s,i)),i.promise}(dO(t),e)}(function(e,n=!0){(function(s){ks=s})(Ss),fs(new Cr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new py(new e1(r.getProvider("auth-internal")),new s1(r.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new G(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ha(l.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Xn(wf,"4.3.2",e),Xn(wf,"4.3.2","esm2017")})();const AO={name:"Dashboard"},SO=v("h1",null,"Welcome to the Dashboard",-1),RO=[SO];function PO(t,e,n,r,s,i){return le(),ve("div",null,RO)}const Ay=Xe(AO,[["render",PO]]),CO=Object.freeze(Object.defineProperty({__proto__:null,default:Ay},Symbol.toStringTag,{value:"Module"}));const OO=Lr({components:{NavBar:Ma,Footer:La,Dashboard:Ay},setup(){const t=ye(""),e=ye(""),n=ye(null),r=ye(""),s=ye(""),i=ye(""),o=ye(""),a=my(),c=yl(),l=ye(!1),u=ye(!1),h=N=>N.includes("@"),d=Ge(()=>e.value.length>=6),f=Ge(()=>d.value),_=Ge(()=>h(r.value)),y=Ge(()=>h(s.value)),b=Ge(()=>i.value===o.value),A=async()=>{n.value=null,u.value=!0;try{await Hb(c,r.value,e.value);const N=a.collection(users),ie=query(N,where("uid","==",c.currentUser.uid)),Y=await getDocs(ie);Y.size>0&&Y.forEach(ae=>{const Z=ae.data()}),this.$router.replace("Dashboard")}catch(N){n.value=N.message}},R=async N=>{await TO(lO(a,"users"),{uid:N.uid,email:s.value,password:i.value})};return{email:t,logpass:e,error:n,isLogin:A,signUp:async()=>{n.value=null,l.value=!0;try{const ie=(await Pd(c,s.value,i.value)).user;await R(ie)}catch(N){n.value=N.message}},isEmailValid:h,createUserInFirestore:R,createUserWithEmailAndPassword:Pd,isPasswordMatch:b,logEmail:r,SignUpEmail:s,Signpass:i,confirmPass:o,loginButtonClicked:u,signUpButtonClicked:l,signupEmailIsValid:y,loginEmailIsValid:_,loginPassIsValid:f,passwordValid:d,db:a}}}),un=t=>(Pn("data-v-7557664e"),t=t(),Cn(),t),kO={class:"container-fluid p-0"},xO={class:"banner full-height p-0"},NO={class:"section position-relative justify-content-center text-center"},DO={class:"row full-height justify-content-center"},MO={class:"text-center justify-content-center py-5"},LO={class:"section try pb-5 pt-5 pt-sm-2 text-center"},VO=un(()=>v("h6",{class:"mb-0 pb-3"},[v("span",null,"Sign Up"),v("span",null,"Log In")],-1)),$O=un(()=>v("input",{class:"checkbox",type:"checkbox",id:"reg-log",name:"reg-log"},null,-1)),UO=un(()=>v("label",{for:"reg-log"},null,-1)),FO={class:"card-3d-wrap mx-auto"},jO={class:"card-3d-wrapper"},BO={class:"card-front"},HO={class:"center-wrap"},zO=un(()=>v("div",{class:"section text-center"},[v("h4",{class:"mb-4 pb-3"},"Sign Up")],-1)),qO={key:0,class:"error"},WO={class:"form-group"},KO=un(()=>v("i",{class:"input-icon uil uil-user"},null,-1)),GO={class:"form-group mt-2"},QO=un(()=>v("i",{class:"input-icon uil uil-lock-alt"},null,-1)),XO={class:"form-group mt-2"},YO=un(()=>v("i",{class:"input-icon uil uil-lock-alt"},null,-1)),JO={key:0,class:"error"},ZO={key:1,class:"error"},ek={key:2,class:"correct pt-1",style:{color:"rgb(156,229,156)"}},tk={class:"card-back"},nk={class:"center-wrap"},rk={class:"section text-center"},sk=un(()=>v("h4",{class:"mb-4 pb-3"},"Log In",-1)),ik={class:"form-group"},ok=un(()=>v("i",{class:"input-icon uil uil-user"},null,-1)),ak={key:0,class:"error"},ck={class:"form-group mt-2"},lk=un(()=>v("i",{class:"input-icon uil-lock-alt"},null,-1)),uk={key:1,class:"error"},hk={key:2,class:"correct pt-1",style:{color:"rgb(156, 229, 156)"}};function dk(t,e,n,r,s,i){const o=Fe("NavBar"),a=Fe("Footer");return le(),ve(Ke,null,[ee(o),v("body",null,[v("div",kO,[v("div",xO,[v("div",NO,[v("div",DO,[v("div",MO,[v("div",LO,[VO,$O,UO,v("div",FO,[v("div",jO,[v("div",BO,[v("div",HO,[zO,!t.signupEmailIsValid&&t.signUpButtonClicked?(le(),ve("div",qO," Please enter a valid email (e.g., yourname@example.com) ")):pn("",!0),v("div",WO,[Fn(v("input",{type:"text",name:"SignUpEmail",class:"form-style",placeholder:"Your Email (e.g james012@gmail.com)",id:"SignUpEmail",autocomplete:"off","onUpdate:modelValue":e[0]||(e[0]=c=>t.SignUpEmail=c)},null,512),[[gr,t.SignUpEmail]]),KO,v("div",GO,[Fn(v("input",{type:"password",name:"Signpass",class:"form-style",placeholder:"Your Password (>5 characters)",id:"Signpass",autocomplete:"off","onUpdate:modelValue":e[1]||(e[1]=c=>t.Signpass=c)},null,512),[[gr,t.Signpass]]),QO]),v("div",XO,[Fn(v("input",{type:"password",name:"confirmPass",class:"form-style",placeholder:"Confirm Password",id:"confirmPass",autocomplete:"off","onUpdate:modelValue":e[2]||(e[2]=c=>t.confirmPass=c)},null,512),[[gr,t.confirmPass]]),YO]),!t.isPasswordMatch&&t.signUpButtonClicked?(le(),ve("div",JO," Passwords do not match :( ")):pn("",!0),t.passwordValid&&t.signUpButtonClicked?(le(),ve("div",ZO," Your password should be at least 6 characters long! ")):pn("",!0),t.isPasswordMatch&&t.passwordValid&&t.signupEmailIsValid&&t.signUpButtonClicked?(le(),ve("div",ek," Sign Up successful! You're signed in! ")):pn("",!0),v("a",{href:"#",class:"btn mt-4",id:"signUp",onClick:e[3]||(e[3]=(...c)=>t.signUp&&t.signUp(...c))},"Sign Up")])])]),v("div",tk,[v("div",nk,[v("div",rk,[sk,v("div",ik,[Fn(v("input",{type:"text",name:"logEmail",class:"form-style",placeholder:"Your Email (e.g james012@gmail.com)",id:"logEmail",autocomplete:"off","onUpdate:modelValue":e[4]||(e[4]=c=>t.logEmail=c)},null,512),[[gr,t.logEmail]]),ok]),!t.loginEmailIsValid&&t.loginButtonClicked?(le(),ve("div",ak," Please enter a valid email (e.g., yourname@example.com) ")):pn("",!0),v("div",ck,[Fn(v("input",{type:"password",name:"logpass",class:"form-style",placeholder:"Your Password",id:"logpass",autocomplete:"off","onUpdate:modelValue":e[5]||(e[5]=c=>t.logpass=c)},null,512),[[gr,t.logpass]]),lk]),!t.loginPassIsValid&&t.loginButtonClicked?(le(),ve("div",uk," Please enter a correct password ")):pn("",!0),t.loginPassIsValid&&t.loginEmailIsValid&&t.loginButtonClicked?(le(),ve("div",hk," Welcome Back! You're signed in! ")):pn("",!0),v("a",{href:"#",class:"btn mt-4",id:"Login",onClick:e[6]||(e[6]=(...c)=>t.isLogin&&t.isLogin(...c))},"Log In")])])])])])])])])])])])]),ee(a)],64)}const fk=Xe(OO,[["render",dk],["__scopeId","data-v-7557664e"]]);const pk={mounted(){this.initializeOdometer()},methods:{initializeOdometer(){new Odometer({el:this.$refs.odometer,value:0})}}},Sy=t=>(Pn("data-v-765d365b"),t=t(),Cn(),t),mk={id:"metrics"},gk={class:"counter text-white pt-4"},_k=Sy(()=>v("p",null,"Status",-1)),yk={class:"odometer text-white",ref:"odometer"},vk=Sy(()=>v("h6",{class:"title text-white"},"Carbon Emission Calculator",-1));function wk(t,e,n,r,s,i){return le(),ve("section",mk,[v("div",gk,[_k,v("div",yk,"0",512),vk])])}const Ek=Xe(pk,[["render",wk],["__scopeId","data-v-765d365b"]]);function Ry(t,e){return function(){return t.apply(e,arguments)}}const{toString:bk}=Object.prototype,{getPrototypeOf:vh}=Object,lc=(t=>e=>{const n=bk.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),hn=t=>(t=t.toLowerCase(),e=>lc(e)===t),uc=t=>e=>typeof e===t,{isArray:Ns}=Array,Ni=uc("undefined");function Tk(t){return t!==null&&!Ni(t)&&t.constructor!==null&&!Ni(t.constructor)&&Lt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Py=hn("ArrayBuffer");function Ik(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Py(t.buffer),e}const Ak=uc("string"),Lt=uc("function"),Cy=uc("number"),hc=t=>t!==null&&typeof t=="object",Sk=t=>t===!0||t===!1,Do=t=>{if(lc(t)!=="object")return!1;const e=vh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Rk=hn("Date"),Pk=hn("File"),Ck=hn("Blob"),Ok=hn("FileList"),kk=t=>hc(t)&&Lt(t.pipe),xk=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Lt(t.append)&&((e=lc(t))==="formdata"||e==="object"&&Lt(t.toString)&&t.toString()==="[object FormData]"))},Nk=hn("URLSearchParams"),Dk=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function eo(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Ns(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function Oy(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const ky=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),xy=t=>!Ni(t)&&t!==ky;function zl(){const{caseless:t}=xy(this)&&this||{},e={},n=(r,s)=>{const i=t&&Oy(e,s)||s;Do(e[i])&&Do(r)?e[i]=zl(e[i],r):Do(r)?e[i]=zl({},r):Ns(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&eo(arguments[r],n);return e}const Mk=(t,e,n,{allOwnKeys:r}={})=>(eo(e,(s,i)=>{n&&Lt(s)?t[i]=Ry(s,n):t[i]=s},{allOwnKeys:r}),t),Lk=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Vk=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},$k=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&vh(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Uk=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Fk=t=>{if(!t)return null;if(Ns(t))return t;let e=t.length;if(!Cy(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},jk=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&vh(Uint8Array)),Bk=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},Hk=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},zk=hn("HTMLFormElement"),qk=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Hf=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Wk=hn("RegExp"),Ny=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};eo(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},Kk=t=>{Ny(t,(e,n)=>{if(Lt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Lt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Gk=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Ns(t)?r(t):r(String(t).split(e)),n},Qk=()=>{},Xk=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Fc="abcdefghijklmnopqrstuvwxyz",zf="0123456789",Dy={DIGIT:zf,ALPHA:Fc,ALPHA_DIGIT:Fc+Fc.toUpperCase()+zf},Yk=(t=16,e=Dy.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function Jk(t){return!!(t&&Lt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Zk=t=>{const e=new Array(10),n=(r,s)=>{if(hc(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Ns(r)?[]:{};return eo(r,(o,a)=>{const c=n(o,s+1);!Ni(c)&&(i[a]=c)}),e[s]=void 0,i}}return r};return n(t,0)},ex=hn("AsyncFunction"),tx=t=>t&&(hc(t)||Lt(t))&&Lt(t.then)&&Lt(t.catch),I={isArray:Ns,isArrayBuffer:Py,isBuffer:Tk,isFormData:xk,isArrayBufferView:Ik,isString:Ak,isNumber:Cy,isBoolean:Sk,isObject:hc,isPlainObject:Do,isUndefined:Ni,isDate:Rk,isFile:Pk,isBlob:Ck,isRegExp:Wk,isFunction:Lt,isStream:kk,isURLSearchParams:Nk,isTypedArray:jk,isFileList:Ok,forEach:eo,merge:zl,extend:Mk,trim:Dk,stripBOM:Lk,inherits:Vk,toFlatObject:$k,kindOf:lc,kindOfTest:hn,endsWith:Uk,toArray:Fk,forEachEntry:Bk,matchAll:Hk,isHTMLForm:zk,hasOwnProperty:Hf,hasOwnProp:Hf,reduceDescriptors:Ny,freezeMethods:Kk,toObjectSet:Gk,toCamelCase:qk,noop:Qk,toFiniteNumber:Xk,findKey:Oy,global:ky,isContextDefined:xy,ALPHABET:Dy,generateString:Yk,isSpecCompliantForm:Jk,toJSONObject:Zk,isAsyncFn:ex,isThenable:tx};function me(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}I.inherits(me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const My=me.prototype,Ly={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ly[t]={value:t}});Object.defineProperties(me,Ly);Object.defineProperty(My,"isAxiosError",{value:!0});me.from=(t,e,n,r,s,i)=>{const o=Object.create(My);return I.toFlatObject(t,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),me.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const nx=null;function ql(t){return I.isPlainObject(t)||I.isArray(t)}function Vy(t){return I.endsWith(t,"[]")?t.slice(0,-2):t}function qf(t,e,n){return t?t.concat(e).map(function(s,i){return s=Vy(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function rx(t){return I.isArray(t)&&!t.some(ql)}const sx=I.toFlatObject(I,{},null,function(e){return/^is[A-Z]/.test(e)});function dc(t,e,n){if(!I.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=I.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!I.isUndefined(b[y])});const r=n.metaTokens,s=n.visitor||u,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(e);if(!I.isFunction(s))throw new TypeError("visitor must be a function");function l(_){if(_===null)return"";if(I.isDate(_))return _.toISOString();if(!c&&I.isBlob(_))throw new me("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(_)||I.isTypedArray(_)?c&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function u(_,y,b){let A=_;if(_&&!b&&typeof _=="object"){if(I.endsWith(y,"{}"))y=r?y:y.slice(0,-2),_=JSON.stringify(_);else if(I.isArray(_)&&rx(_)||(I.isFileList(_)||I.endsWith(y,"[]"))&&(A=I.toArray(_)))return y=Vy(y),A.forEach(function(U,N){!(I.isUndefined(U)||U===null)&&e.append(o===!0?qf([y],N,i):o===null?y:y+"[]",l(U))}),!1}return ql(_)?!0:(e.append(qf(b,y,i),l(_)),!1)}const h=[],d=Object.assign(sx,{defaultVisitor:u,convertValue:l,isVisitable:ql});function f(_,y){if(!I.isUndefined(_)){if(h.indexOf(_)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(_),I.forEach(_,function(A,R){(!(I.isUndefined(A)||A===null)&&s.call(e,A,I.isString(R)?R.trim():R,y,d))===!0&&f(A,y?y.concat(R):[R])}),h.pop()}}if(!I.isObject(t))throw new TypeError("data must be an object");return f(t),e}function Wf(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function wh(t,e){this._pairs=[],t&&dc(t,this,e)}const $y=wh.prototype;$y.append=function(e,n){this._pairs.push([e,n])};$y.toString=function(e){const n=e?function(r){return e.call(this,r,Wf)}:Wf;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function ix(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Uy(t,e,n){if(!e)return t;const r=n&&n.encode||ix,s=n&&n.serialize;let i;if(s?i=s(e,n):i=I.isURLSearchParams(e)?e.toString():new wh(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class ox{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){I.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Kf=ox,Fy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ax=typeof URLSearchParams<"u"?URLSearchParams:wh,cx=typeof FormData<"u"?FormData:null,lx=typeof Blob<"u"?Blob:null,ux=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),hx=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),nn={isBrowser:!0,classes:{URLSearchParams:ax,FormData:cx,Blob:lx},isStandardBrowserEnv:ux,isStandardBrowserWebWorkerEnv:hx,protocols:["http","https","file","blob","url","data"]};function dx(t,e){return dc(t,new nn.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return nn.isNode&&I.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function fx(t){return I.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function px(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function jy(t){function e(n,r,s,i){let o=n[i++];const a=Number.isFinite(+o),c=i>=n.length;return o=!o&&I.isArray(s)?s.length:o,c?(I.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!I.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&I.isArray(s[o])&&(s[o]=px(s[o])),!a)}if(I.isFormData(t)&&I.isFunction(t.entries)){const n={};return I.forEachEntry(t,(r,s)=>{e(fx(r),s,n,0)}),n}return null}function mx(t,e,n){if(I.isString(t))try{return(e||JSON.parse)(t),I.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Eh={transitional:Fy,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=I.isObject(e);if(i&&I.isHTMLForm(e)&&(e=new FormData(e)),I.isFormData(e))return s&&s?JSON.stringify(jy(e)):e;if(I.isArrayBuffer(e)||I.isBuffer(e)||I.isStream(e)||I.isFile(e)||I.isBlob(e))return e;if(I.isArrayBufferView(e))return e.buffer;if(I.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return dx(e,this.formSerializer).toString();if((a=I.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return dc(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),mx(e)):e}],transformResponse:[function(e){const n=this.transitional||Eh.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&I.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?me.from(a,me.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nn.classes.FormData,Blob:nn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],t=>{Eh.headers[t]={}});const bh=Eh,gx=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_x=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&gx[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Gf=Symbol("internals");function js(t){return t&&String(t).trim().toLowerCase()}function Mo(t){return t===!1||t==null?t:I.isArray(t)?t.map(Mo):String(t)}function yx(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const vx=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function jc(t,e,n,r,s){if(I.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!I.isString(e)){if(I.isString(r))return e.indexOf(r)!==-1;if(I.isRegExp(r))return r.test(e)}}function wx(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Ex(t,e){const n=I.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class fc{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,c,l){const u=js(c);if(!u)throw new Error("header name must be a non-empty string");const h=I.findKey(s,u);(!h||s[h]===void 0||l===!0||l===void 0&&s[h]!==!1)&&(s[h||c]=Mo(a))}const o=(a,c)=>I.forEach(a,(l,u)=>i(l,u,c));return I.isPlainObject(e)||e instanceof this.constructor?o(e,n):I.isString(e)&&(e=e.trim())&&!vx(e)?o(_x(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=js(e),e){const r=I.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return yx(s);if(I.isFunction(n))return n.call(this,s,r);if(I.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=js(e),e){const r=I.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||jc(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=js(o),o){const a=I.findKey(r,o);a&&(!n||jc(r,r[a],a,n))&&(delete r[a],s=!0)}}return I.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||jc(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return I.forEach(this,(s,i)=>{const o=I.findKey(r,i);if(o){n[o]=Mo(s),delete n[i];return}const a=e?wx(i):String(i).trim();a!==i&&delete n[i],n[a]=Mo(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return I.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&I.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Gf]=this[Gf]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=js(o);r[a]||(Ex(s,o),r[a]=!0)}return I.isArray(e)?e.forEach(i):i(e),this}}fc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(fc.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});I.freezeMethods(fc);const In=fc;function Bc(t,e){const n=this||bh,r=e||n,s=In.from(r.headers);let i=r.data;return I.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function By(t){return!!(t&&t.__CANCEL__)}function to(t,e,n){me.call(this,t??"canceled",me.ERR_CANCELED,e,n),this.name="CanceledError"}I.inherits(to,me,{__CANCEL__:!0});function bx(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new me("Request failed with status code "+n.status,[me.ERR_BAD_REQUEST,me.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Tx=nn.isStandardBrowserEnv?function(){return{write:function(n,r,s,i,o,a){const c=[];c.push(n+"="+encodeURIComponent(r)),I.isNumber(s)&&c.push("expires="+new Date(s).toGMTString()),I.isString(i)&&c.push("path="+i),I.isString(o)&&c.push("domain="+o),a===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Ix(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Ax(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Hy(t,e){return t&&!Ix(e)?Ax(t,e):e}const Sx=nn.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=I.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function Rx(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Px(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const l=Date.now(),u=r[i];o||(o=l),n[s]=c,r[s]=l;let h=i,d=0;for(;h!==s;)d+=n[h++],h=h%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),l-o<e)return;const f=u&&l-u;return f?Math.round(d*1e3/f):void 0}}function Qf(t,e){let n=0;const r=Px(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,a=i-n,c=r(a),l=i<=o;n=i;const u={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:c||void 0,estimated:c&&o&&l?(o-i)/c:void 0,event:s};u[e?"download":"upload"]=!0,t(u)}}const Cx=typeof XMLHttpRequest<"u",Ox=Cx&&function(t){return new Promise(function(n,r){let s=t.data;const i=In.from(t.headers).normalize(),o=t.responseType;let a;function c(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}let l;I.isFormData(s)&&(nn.isStandardBrowserEnv||nn.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.getContentType(/^\s*multipart\/form-data/)?I.isString(l=i.getContentType())&&i.setContentType(l.replace(/^\s*(multipart\/form-data);+/,"$1")):i.setContentType("multipart/form-data"));let u=new XMLHttpRequest;if(t.auth){const _=t.auth.username||"",y=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(_+":"+y))}const h=Hy(t.baseURL,t.url);u.open(t.method.toUpperCase(),Uy(h,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function d(){if(!u)return;const _=In.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),b={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:_,config:t,request:u};bx(function(R){n(R),c()},function(R){r(R),c()},b),u=null}if("onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(d)},u.onabort=function(){u&&(r(new me("Request aborted",me.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new me("Network Error",me.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let y=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const b=t.transitional||Fy;t.timeoutErrorMessage&&(y=t.timeoutErrorMessage),r(new me(y,b.clarifyTimeoutError?me.ETIMEDOUT:me.ECONNABORTED,t,u)),u=null},nn.isStandardBrowserEnv){const _=Sx(h)&&t.xsrfCookieName&&Tx.read(t.xsrfCookieName);_&&i.set(t.xsrfHeaderName,_)}s===void 0&&i.setContentType(null),"setRequestHeader"in u&&I.forEach(i.toJSON(),function(y,b){u.setRequestHeader(b,y)}),I.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),o&&o!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",Qf(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",Qf(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=_=>{u&&(r(!_||_.type?new to(null,t,u):_),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const f=Rx(h);if(f&&nn.protocols.indexOf(f)===-1){r(new me("Unsupported protocol "+f+":",me.ERR_BAD_REQUEST,t));return}u.send(s||null)})},Wl={http:nx,xhr:Ox};I.forEach(Wl,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Xf=t=>`- ${t}`,kx=t=>I.isFunction(t)||t===null||t===!1,zy={getAdapter:t=>{t=I.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!kx(n)&&(r=Wl[(o=String(n)).toLowerCase()],r===void 0))throw new me(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(Xf).join(`
`):" "+Xf(i[0]):"as no adapter specified";throw new me("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Wl};function Hc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new to(null,t)}function Yf(t){return Hc(t),t.headers=In.from(t.headers),t.data=Bc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),zy.getAdapter(t.adapter||bh.adapter)(t).then(function(r){return Hc(t),r.data=Bc.call(t,t.transformResponse,r),r.headers=In.from(r.headers),r},function(r){return By(r)||(Hc(t),r&&r.response&&(r.response.data=Bc.call(t,t.transformResponse,r.response),r.response.headers=In.from(r.response.headers))),Promise.reject(r)})}const Jf=t=>t instanceof In?t.toJSON():t;function bs(t,e){e=e||{};const n={};function r(l,u,h){return I.isPlainObject(l)&&I.isPlainObject(u)?I.merge.call({caseless:h},l,u):I.isPlainObject(u)?I.merge({},u):I.isArray(u)?u.slice():u}function s(l,u,h){if(I.isUndefined(u)){if(!I.isUndefined(l))return r(void 0,l,h)}else return r(l,u,h)}function i(l,u){if(!I.isUndefined(u))return r(void 0,u)}function o(l,u){if(I.isUndefined(u)){if(!I.isUndefined(l))return r(void 0,l)}else return r(void 0,u)}function a(l,u,h){if(h in e)return r(l,u);if(h in t)return r(void 0,l)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(l,u)=>s(Jf(l),Jf(u),!0)};return I.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=c[u]||s,d=h(t[u],e[u],u);I.isUndefined(d)&&h!==a||(n[u]=d)}),n}const qy="1.6.0",Th={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Th[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Zf={};Th.transitional=function(e,n,r){function s(i,o){return"[Axios v"+qy+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new me(s(o," has been removed"+(n?" in "+n:"")),me.ERR_DEPRECATED);return n&&!Zf[o]&&(Zf[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function xx(t,e,n){if(typeof t!="object")throw new me("options must be an object",me.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],c=a===void 0||o(a,i,t);if(c!==!0)throw new me("option "+i+" must be "+c,me.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new me("Unknown option "+i,me.ERR_BAD_OPTION)}}const Kl={assertOptions:xx,validators:Th},Mn=Kl.validators;class ya{constructor(e){this.defaults=e,this.interceptors={request:new Kf,response:new Kf}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=bs(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Kl.assertOptions(r,{silentJSONParsing:Mn.transitional(Mn.boolean),forcedJSONParsing:Mn.transitional(Mn.boolean),clarifyTimeoutError:Mn.transitional(Mn.boolean)},!1),s!=null&&(I.isFunction(s)?n.paramsSerializer={serialize:s}:Kl.assertOptions(s,{encode:Mn.function,serialize:Mn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&I.merge(i.common,i[n.method]);i&&I.forEach(["delete","get","head","post","put","patch","common"],_=>{delete i[_]}),n.headers=In.concat(o,i);const a=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(c=c&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const l=[];this.interceptors.response.forEach(function(y){l.push(y.fulfilled,y.rejected)});let u,h=0,d;if(!c){const _=[Yf.bind(this),void 0];for(_.unshift.apply(_,a),_.push.apply(_,l),d=_.length,u=Promise.resolve(n);h<d;)u=u.then(_[h++],_[h++]);return u}d=a.length;let f=n;for(h=0;h<d;){const _=a[h++],y=a[h++];try{f=_(f)}catch(b){y.call(this,b);break}}try{u=Yf.call(this,f)}catch(_){return Promise.reject(_)}for(h=0,d=l.length;h<d;)u=u.then(l[h++],l[h++]);return u}getUri(e){e=bs(this.defaults,e);const n=Hy(e.baseURL,e.url);return Uy(n,e.params,e.paramsSerializer)}}I.forEach(["delete","get","head","options"],function(e){ya.prototype[e]=function(n,r){return this.request(bs(r||{},{method:e,url:n,data:(r||{}).data}))}});I.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(bs(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ya.prototype[e]=n(),ya.prototype[e+"Form"]=n(!0)});const Lo=ya;class Ih{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new to(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Ih(function(s){e=s}),cancel:e}}}const Nx=Ih;function Dx(t){return function(n){return t.apply(null,n)}}function Mx(t){return I.isObject(t)&&t.isAxiosError===!0}const Gl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gl).forEach(([t,e])=>{Gl[e]=t});const Lx=Gl;function Wy(t){const e=new Lo(t),n=Ry(Lo.prototype.request,e);return I.extend(n,Lo.prototype,e,{allOwnKeys:!0}),I.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return Wy(bs(t,s))},n}const qe=Wy(bh);qe.Axios=Lo;qe.CanceledError=to;qe.CancelToken=Nx;qe.isCancel=By;qe.VERSION=qy;qe.toFormData=dc;qe.AxiosError=me;qe.Cancel=qe.CanceledError;qe.all=function(e){return Promise.all(e)};qe.spread=Dx;qe.isAxiosError=Mx;qe.mergeConfig=bs;qe.AxiosHeaders=In;qe.formToJSON=t=>jy(I.isHTMLForm(t)?new FormData(t):t);qe.getAdapter=zy.getAdapter;qe.HttpStatusCode=Lx;qe.default=qe;const yn=qe;const Vx={data(){return{latitude:null,longitude:null,bicycleData:[]}},methods:{async getBicycleParkingData(){if(!this.latitude||!this.longitude){console.error("Please enter both latitude and longitude.");return}const t="http://localhost:5173/Transport/BicycleParkingv2",e="mcXYAV2rQXOykVpqXBXaxw==";try{const n=await yn.get(t,{headers:{Authorization:`Bearer ${e}`},params:{Lat:this.latitude,Long:this.longitude}});this.bicycleData=n.data.value}catch(n){console.error("Error fetching bicycle parking data:",n)}}}},no=t=>(Pn("data-v-5fac6480"),t=t(),Cn(),t),$x={class:"container-fluid"},Ux={class:"row"},Fx={class:"col-lg-4 col-md-12"},jx={id:"tabs-container"},Bx=no(()=>v("label",{for:"tab1"},"Bicycle",-1)),Hx=no(()=>v("h2",null,"Bicycle Information",-1)),zx={class:"values"},qx=no(()=>v("label",{for:"latitude"},"Latitude:",-1)),Wx={class:"values"},Kx=no(()=>v("label",{for:"longitude"},"Longitude:",-1)),Gx=no(()=>v("h3",null,"Bicycle Data:",-1));function Qx(t,e,n,r,s,i){return le(),ve("div",$x,[v("div",Ux,[v("div",Fx,[v("div",jx,[Fn(v("input",{id:"tab1",type:"radio",name:"tabs",checked:"","onUpdate:modelValue":e[0]||(e[0]=o=>t.activeTab=o),value:"bicycle"},null,512),[[dE,t.activeTab]]),Bx,v("div",null,[Hx,v("div",zx,[qx,Fn(v("input",{type:"text",id:"latitude","onUpdate:modelValue":e[1]||(e[1]=o=>s.latitude=o),placeholder:"e.g 1.364897"},null,512),[[gr,s.latitude]])]),v("div",Wx,[Kx,Fn(v("input",{type:"text",id:"longitude","onUpdate:modelValue":e[2]||(e[2]=o=>s.longitude=o),placeholder:"e.g 103.766094"},null,512),[[gr,s.longitude]])]),v("button",{onClick:e[3]||(e[3]=(...o)=>i.getBicycleParkingData&&i.getBicycleParkingData(...o))},"Get Bicycle Data"),v("div",null,[Gx,v("ul",null,[(le(!0),ve(Ke,null,fu(s.bicycleData,o=>(le(),ve("li",{key:o.Description},vn(o.Description)+": Latitude: "+vn(o.Latitude)+", Longitude: "+vn(o.Longitude),1))),128))])])])])])])])}const Xx=Xe(Vx,[["render",Qx],["__scopeId","data-v-5fac6480"]]),Yx={props:{index:{type:Number,required:!0}},data(){return{address:"Singapore Management University",mapCenter:"1.2832854986190796,103.86353302001953",markerPosition:"1.2832854986190796,103.86353302001953",searchText:"",title:"Hello SMU",displayInfo:"",bicycleParkingData:[],carParksData:[],busStopsData:[],mrtData:[],image:"",url:"",name:""}},computed:{filteredCarParks(){if(this.address){if(this.locationFilterType==="fullAddress")return this.carParksData.filter(t=>this.address.includes(t.area));if(this.locationFilterType==="postalCode")return this.carParksData.filter(t=>t.PostalCode===this.address)}},methods:{async getCarParksData(){const t="http://datamall2.mytransport.sg/ltaodataservice/CarParkAvailabilityv2",e="mcXYAV2rQXOykVpqXBXaxw==";try{const r=(await yn.get(t,{headers:{AccountKey:e}})).data;this.carParksData=r}catch(n){console.error("Error fetching car parks data:",n)}},async getBusStopsData(){const t="http://datamall2.mytransport.sg/ltaodataservice/BusStops",e="mcXYAV2rQXOykVpqXBXaxw==";try{const r=(await yn.get(t,{headers:{AccountKey:e}})).data;this.busStopsData=r}catch(n){console.error("Error fetching bus stops data:",n)}},async getMRTData(){const t="http://datamall2.mytransport.sg/ltaodataservice/TrainServiceAlerts",e="mcXYAV2rQXOykVpqXBXaxw==";try{const r=(await yn.get(t,{headers:{AccountKey:e}})).data;this.mrtData=r}catch(n){console.error("Error fetching MRT data:",n)}}},created(){this.getBicycleParkingData(),this.getCarParksData(),this.getBusStopsData(),this.getMRTData()}}},Jx={key:0},Zx=v("strong",null,"Car Park ID:",-1),eN=v("strong",null,"Area:",-1);function tN(t,e,n,r,s,i){return le(),ve(Ke,null,[t.activeTab==="ev"?(le(),ve("div",Jx,[v("ul",null,[(le(!0),ve(Ke,null,fu(s.carParksData,o=>(le(),ve("li",{key:o.CarParkID},[v("p",null,[Zx,Ce(" "+vn(o.CarParkID),1)]),v("p",null,[eN,Ce(" "+vn(o.Area),1)])]))),128))])])):pn("",!0),Ce("> ")],64)}const nN=Xe(Yx,[["render",tN]]),rN={data(){return{address:"Singapore Management University",searchText:"",displayInfo:"",busStopsData:[],mrtData:[],image:"",url:"",name:""}},computed:{filteredBusStops(){if(this.address){if(this.locationFilterType==="fullAddress")return this.busStopsData.filter(e=>e.RoadName.includes(this.address));if(this.locationFilterType==="postalCode")return this.busStopsData.filter(e=>e.PostalCode===this.address);var t="There are no bus stops nearby!";return t}}},methods:{async getBusStopsData(){const t="http://datamall2.mytransport.sg/ltaodataservice/BusStops",e="mcXYAV2rQXOykVpqXBXaxw==";try{const r=(await yn.get(t,{headers:{AccountKey:e}})).data;this.busStopsData=r}catch(n){console.error("Error fetching bus stops data:",n)}},created(){this.getBusStopsData()}}},sN={props:{index:{type:Number,required:!0}},data(){return{address:"Singapore Management University",mapCenter:"1.2832854986190796,103.86353302001953",markerPosition:"1.2832854986190796,103.86353302001953",searchText:"",title:"Hello SMU",displayInfo:"",bicycleParkingData:[],carParksData:[],busStopsData:[],mrtData:[],image:"",url:"",name:""}},computed:{filteredBusStops(){if(this.address){if(this.locationFilterType==="fullAddress")return this.busStopsData.filter(e=>e.RoadName.includes(this.address));if(this.locationFilterType==="postalCode")return this.busStopsData.filter(e=>e.PostalCode===this.address);var t="There are no bus stops nearby!";return t}},filteredCarParks(){if(this.address){if(this.locationFilterType==="fullAddress")return this.carParksData.filter(t=>this.address.includes(t.area));if(this.locationFilterType==="postalCode")return this.carParksData.filter(t=>t.PostalCode===this.address)}},methods:{async getBicycleParkingData(){const t="http://datamall2.mytransport.sg/ltaodataservice/BicycleParkingv2",e="mcXYAV2rQXOykVpqXBXaxw==",n=this.lat,r=this.lng,s=.5;try{const i=await yn.get(t,{headers:{AccountKey:e},params:{latitude:n,longitude:r,distance:s}});this.bicycleParkingData=i.data}catch(i){console.error("Error fetching bicycle parking data:",i)}},async getCarParksData(){const t="http://datamall2.mytransport.sg/ltaodataservice/CarParkAvailabilityv2",e="mcXYAV2rQXOykVpqXBXaxw==";try{const r=(await yn.get(t,{headers:{AccountKey:e}})).data;this.carParksData=r}catch(n){console.error("Error fetching car parks data:",n)}},async getBusStopsData(){const t="http://datamall2.mytransport.sg/ltaodataservice/BusStops",e="mcXYAV2rQXOykVpqXBXaxw==";try{const r=(await yn.get(t,{headers:{AccountKey:e}})).data;this.busStopsData=r}catch(n){console.error("Error fetching bus stops data:",n)}},async getMRTData(){const t="http://datamall2.mytransport.sg/ltaodataservice/TrainServiceAlerts",e="mcXYAV2rQXOykVpqXBXaxw==";try{const r=(await yn.get(t,{headers:{AccountKey:e}})).data;this.mrtData=r}catch(n){console.error("Error fetching MRT data:",n)}}},created(){this.getBicycleParkingData(),this.getCarParksData(),this.getBusStopsData(),this.getMRTData()}}},iN={name:"Transport",data(){return{}},components:{NavBar:Ma,TransportSlides:rg,Metric:Ek,Footer:La,SearchMap:ng,MrtInfo:sN,BicycleInfo:Xx,CarParkInfo:nN,BusInfo:rN}};function oN(t,e,n,r,s,i){const o=Fe("NavBar"),a=Fe("TransportSlides"),c=Fe("BicycleInfo"),l=Fe("SearchMap"),u=Fe("Metric"),h=Fe("Footer");return le(),ve("body",null,[ee(o),ee(a),ee(c),ee(l),ee(u),ee(h)])}const aN=Xe(iN,[["render",oN]]),cN=[{path:"/",name:"Homepage",component:zR},{path:"/Login",name:"Login",component:fk},{path:"/Dashboard",name:"Dashboard",component:()=>MS(()=>Promise.resolve().then(()=>CO),void 0),meta:{requiresAuth:!0}},{path:"/Transport",name:"Transport",component:aN}],lN=VR({history:ZS(),routes:cN,scrollBehavior(t,e,n){return t.hash?{el:t.hash,behavior:"smooth"}:n||{top:0}}});var uN="firebase",hN="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn(uN,hN,"app");const ep=t=>{let e=!1,n;return()=>(e||(e=!0,n=t()),n)};class Ql{static isServer(){return typeof document>"u"}}function dN(t){const e=document.createElement("SCRIPT");if(typeof t!="object")throw new Error("options should  be an object");Array.prototype.isPrototypeOf(t.libraries)&&(t.libraries=t.libraries.join(",")),t.v||(t.v=3.47),t.callback="vueGoogleMapsInit";let r="https://maps.googleapis.com/maps/api/js?"+Object.keys(t).map(s=>encodeURIComponent(s)+"="+encodeURIComponent(t[s])).join("&");return e.setAttribute("src",r),e.setAttribute("async",""),e.setAttribute("defer",""),e}let tp=!1;function fN(t){if(!Ql.isServer()){if(tp)throw new Error("You already started the loading of google maps");{tp=!0;const e=dN(t);document.head.appendChild(e)}}}const Ky=(t,e,n)=>{for(let r of n){const s=`on${r.charAt(0).toUpperCase()}${r.slice(1)}`.replace(/[-_]+(.)?/g,(i,o)=>o?o.toUpperCase():"");t.$props[s]||t.$attrs[s]?e.addListener(r,i=>{t.$emit(r,i)}):(t.$gmapOptions.autobindAllEvents||t.$attrs[r])&&e.addListener(r,i=>{t.$emit(r,i)})}};function Gy(t,e,n,r=!1){let s=!1;function i(){s||(s=!0,t.$nextTick(()=>{s=!1,n()}))}for(let o of e)t.$watch(o,i,{immediate:r})}class np{static capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}}function va(t,e){return Object.keys(e).reduce((n,r)=>(t[r]!==void 0&&(n[r]=t[r]),n),{})}function Ah(t,e,n){for(let r in n){let{twoWay:s,type:i,trackProperties:o,noBind:a}=n[r];if(a)continue;const c="set"+np.capitalizeFirstLetter(r),l="get"+np.capitalizeFirstLetter(r),u=r.toLowerCase()+"_changed",h=t[r];if(typeof e[c]>"u")throw new Error(`${c} is not a method of (the Maps object corresponding to) ${t.$options._componentTag}`);i!==Object||!o?t.$watch(r,()=>{const d=t[r];e[c](d)},{immediate:typeof h<"u",deep:i===Object}):Gy(t,o.map(d=>`${r}.${d}`),()=>{e[c](t[r])},t[r]!==void 0),s&&(t.$gmapOptions.autobindAllEvents||t.$attrs[u])&&e.addListener(u,()=>{t.$emit(u,e[l]())})}}const pN={inject:{$mapPromise:{default:"abcdef"}},provide(){return this.$mapPromise.then(t=>{this.$map=t}),{}}};function cr(t){const{mappedProps:e,name:n,ctr:r,ctrArgs:s,events:i,beforeCreate:o,afterCreate:a,props:c,...l}=t,u=`$${n}Promise`,h=`$${n}Object`;return mN(!(l.props instanceof Array),"`props` should be an object, not Array"),{...typeof GENERATE_DOC<"u"?{$vgmOptions:t}:{},mixins:[pN],props:{...c,...Sh(e)},render(){return""},provide(){const d=this.$mapPromise.then(f=>{this.$map=f;const _={...this.options,map:f,...va(this,e)};if(delete _.options,o){const y=o.bind(this)(_);if(y instanceof Promise)return y.then(()=>({options:_}))}return{options:_}}).then(({options:f})=>{const _=r();return this[h]=s?new(Function.prototype.bind.call(_,null,...s(f,va(this,c||{})))):new _(f),Ah(this,this[h],e),Ky(this,this[h],i),a&&a.bind(this)(this[h]),this[h]});return this[u]=d,{[u]:d}},unmounted(){this[h]&&this[h].setMap&&this[h].setMap(null)},...l}}function mN(t,e){if(!t)throw new Error(e)}function Sh(t){return Object.entries(t).map(([e,n])=>{const r={};return"type"in n&&(r.type=n.type),"default"in n&&(r.default=n.default),"required"in n&&(r.required=n.required),[e,r]}).reduce((e,[n,r])=>(e[n]=r,e),{})}const gN={draggable:{type:Boolean},editable:{type:Boolean},options:{twoWay:!1,type:Object},path:{type:Array,twoWay:!0}},_N=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],yN=cr({mappedProps:gN,props:{deepWatch:{type:Boolean,default:!1}},events:_N,name:"polyline",ctr:()=>google.maps.Polyline,afterCreate(){let t=()=>{};this.$watch("path",e=>{if(e){t(),this.$polylineObject.setPath(e);const n=this.$polylineObject.getPath(),r=[],s=()=>{this.$emit("path_changed",this.$polylineObject.getPath())};r.push([n,n.addListener("insert_at",s)]),r.push([n,n.addListener("remove_at",s)]),r.push([n,n.addListener("set_at",s)]),t=()=>{r.map(([i,o])=>google.maps.event.removeListener(o))}}},{deep:this.deepWatch,immediate:!0})}}),vN={draggable:{type:Boolean},editable:{type:Boolean},options:{type:Object},path:{type:Array,twoWay:!0,noBind:!0},paths:{type:Array,twoWay:!0,noBind:!0}},wN=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],EN=cr({props:{deepWatch:{type:Boolean,default:!1}},events:wN,mappedProps:vN,name:"polygon",ctr:()=>google.maps.Polygon,beforeCreate(t){t.path||delete t.path,t.paths||delete t.paths},afterCreate(t){let e=()=>{};this.$watch("paths",n=>{if(n){e(),t.setPaths(n);const r=()=>{this.$emit("paths_changed",t.getPaths())},s=[],i=t.getPaths();for(let o=0;o<i.getLength();o++){let a=i.getAt(o);s.push([a,a.addListener("insert_at",r)]),s.push([a,a.addListener("remove_at",r)]),s.push([a,a.addListener("set_at",r)])}s.push([i,i.addListener("insert_at",r)]),s.push([i,i.addListener("remove_at",r)]),s.push([i,i.addListener("set_at",r)]),e=()=>{s.map(([o,a])=>google.maps.event.removeListener(a))}}},{deep:this.deepWatch,immediate:!0}),this.$watch("path",n=>{if(n){e(),t.setPaths(n);const r=t.getPath(),s=[],i=()=>{this.$emit("path_changed",t.getPath())};s.push([r,r.addListener("insert_at",i)]),s.push([r,r.addListener("remove_at",i)]),s.push([r,r.addListener("set_at",i)]),e=()=>{s.map(([o,a])=>google.maps.event.removeListener(a))}}},{deep:this.deepWatch,immediate:!0})}}),bN={center:{type:Object,twoWay:!0,required:!0},radius:{type:Number,twoWay:!0},draggable:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},options:{type:Object,twoWay:!1}},TN=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],IN=cr({mappedProps:bN,name:"circle",ctr:()=>google.maps.Circle,events:TN}),AN={bounds:{type:Object,twoWay:!0},draggable:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},options:{type:Object,twoWay:!1}},SN=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],RN=cr({mappedProps:AN,name:"rectangle",ctr:()=>google.maps.Rectangle,events:SN}),PN={animation:{twoWay:!0,type:Number},attribution:{type:Object},clickable:{type:Boolean,twoWay:!0,default:!0},cursor:{type:String,twoWay:!0},draggable:{type:Boolean,twoWay:!0,default:!1},icon:{twoWay:!0},label:{},opacity:{type:Number,default:1},options:{type:Object},place:{type:Object},position:{type:Object,twoWay:!0},shape:{type:Object,twoWay:!0},title:{type:String,twoWay:!0},zIndex:{type:Number,twoWay:!0},visible:{twoWay:!0,default:!0}},zc=["click","rightclick","dblclick","drag","dragstart","dragend","mouseup","mousedown","mouseover","mouseout"],CN=cr({mappedProps:PN,events:zc,name:"marker",ctr:()=>google.maps.Marker,inject:{$clusterPromise:{default:null}},emits:zc,unmounted(){this.$markerObject&&(this.$clusterObject?this.$clusterObject.removeMarker(this.$markerObject,!0):this.$markerObject.setMap(null))},beforeCreate(t){return this.$clusterPromise&&(t.map=null),this.$clusterPromise},afterCreate(t){zc.forEach(e=>{t.addListener(e,n=>{this.$emit(e,n)})}),this.$clusterPromise&&this.$clusterPromise.then(e=>{this.$clusterObject=e,e.addMarker(t)})}});function ON(t,e,n,r,s,i){return le(),ve("div",{onClick:e[0]||(e[0]=()=>{console.log("sdfsd")})},[hi(t.$slots,"default")])}const kN=Xe(CN,[["render",ON]]);var xN=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n};const rp=eg(xN),sp=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],qc=1,Bs=8;class Rh{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");const s=r>>4;if(s!==qc)throw new Error(`Got v${s} data when expected v${qc}.`);const i=sp[r&15];if(!i)throw new Error("Unrecognized array type.");const[o]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new Rh(a,o,i,e)}constructor(e,n=64,r=Float64Array,s){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const i=sp.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,c=(8-a%8)%8;if(i<0)throw new Error(`Unexpected typed array class: ${r}.`);s&&s instanceof ArrayBuffer?(this.data=s,this.ids=new this.IndexArrayType(this.data,Bs,e),this.coords=new this.ArrayType(this.data,Bs+a+c,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(Bs+o+a+c),this.ids=new this.IndexArrayType(this.data,Bs,e),this.coords=new this.ArrayType(this.data,Bs+a+c,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(qc<<4)+i]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return Xl(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:o,nodeSize:a}=this,c=[0,i.length-1,0],l=[];for(;c.length;){const u=c.pop()||0,h=c.pop()||0,d=c.pop()||0;if(h-d<=a){for(let b=d;b<=h;b++){const A=o[2*b],R=o[2*b+1];A>=e&&A<=r&&R>=n&&R<=s&&l.push(i[b])}continue}const f=d+h>>1,_=o[2*f],y=o[2*f+1];_>=e&&_<=r&&y>=n&&y<=s&&l.push(i[f]),(u===0?e<=_:n<=y)&&(c.push(d),c.push(f-1),c.push(1-u)),(u===0?r>=_:s>=y)&&(c.push(f+1),c.push(h),c.push(1-u))}return l}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:s,coords:i,nodeSize:o}=this,a=[0,s.length-1,0],c=[],l=r*r;for(;a.length;){const u=a.pop()||0,h=a.pop()||0,d=a.pop()||0;if(h-d<=o){for(let b=d;b<=h;b++)ip(i[2*b],i[2*b+1],e,n)<=l&&c.push(s[b]);continue}const f=d+h>>1,_=i[2*f],y=i[2*f+1];ip(_,y,e,n)<=l&&c.push(s[f]),(u===0?e-r<=_:n-r<=y)&&(a.push(d),a.push(f-1),a.push(1-u)),(u===0?e+r>=_:n+r>=y)&&(a.push(f+1),a.push(h),a.push(1-u))}return c}}function Xl(t,e,n,r,s,i){if(s-r<=n)return;const o=r+s>>1;Qy(t,e,o,r,s,i),Xl(t,e,n,r,o-1,1-i),Xl(t,e,n,o+1,s,1-i)}function Qy(t,e,n,r,s,i){for(;s>r;){if(s-r>600){const l=s-r+1,u=n-r+1,h=Math.log(l),d=.5*Math.exp(2*h/3),f=.5*Math.sqrt(h*d*(l-d)/l)*(u-l/2<0?-1:1),_=Math.max(r,Math.floor(n-u*d/l+f)),y=Math.min(s,Math.floor(n+(l-u)*d/l+f));Qy(t,e,n,_,y,i)}const o=e[2*n+i];let a=r,c=s;for(Hs(t,e,r,n),e[2*s+i]>o&&Hs(t,e,r,s);a<c;){for(Hs(t,e,a,c),a++,c--;e[2*a+i]<o;)a++;for(;e[2*c+i]>o;)c--}e[2*r+i]===o?Hs(t,e,r,c):(c++,Hs(t,e,c,s)),c<=n&&(r=c+1),n<=c&&(s=c-1)}}function Hs(t,e,n,r){Wc(t,n,r),Wc(e,2*n,2*r),Wc(e,2*n+1,2*r+1)}function Wc(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function ip(t,e,n,r){const s=t-n,i=e-r;return s*s+i*i}const NN={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},op=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),hr=2,Un=3,Kc=4,Ln=5,Xy=6;class DN{constructor(e){this.options=Object.assign(Object.create(NN),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:n,minZoom:r,maxZoom:s}=this.options;n&&console.time("total time");const i=`prepare ${e.length} points`;n&&console.time(i),this.points=e;const o=[];for(let c=0;c<e.length;c++){const l=e[c];if(!l.geometry)continue;const[u,h]=l.geometry.coordinates,d=op(Eo(u)),f=op(bo(h));o.push(d,f,1/0,c,-1,1),this.options.reduce&&o.push(0)}let a=this.trees[s+1]=this._createTree(o);n&&console.timeEnd(i);for(let c=s;c>=r;c--){const l=+Date.now();a=this.trees[c]=this._createTree(this._cluster(a,c)),n&&console.log("z%d: %d clusters in %dms",c,a.numItems,+Date.now()-l)}return n&&console.timeEnd("total time"),this}getClusters(e,n){let r=((e[0]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,e[1]));let i=e[2]===180?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){const h=this.getClusters([r,s,180,o],n),d=this.getClusters([-180,s,i,o],n);return h.concat(d)}const a=this.trees[this._limitZoom(n)],c=a.range(Eo(r),bo(o),Eo(i),bo(s)),l=a.data,u=[];for(const h of c){const d=this.stride*h;u.push(l[d+Ln]>1?ap(l,d,this.clusterProps):this.points[l[d+Un]])}return u}getChildren(e){const n=this._getOriginId(e),r=this._getOriginZoom(e),s="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(s);const o=i.data;if(n*this.stride>=o.length)throw new Error(s);const a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),c=o[n*this.stride],l=o[n*this.stride+1],u=i.within(c,l,a),h=[];for(const d of u){const f=d*this.stride;o[f+Kc]===e&&h.push(o[f+Ln]>1?ap(o,f,this.clusterProps):this.points[o[f+Un]])}if(h.length===0)throw new Error(s);return h}getLeaves(e,n,r){n=n||10,r=r||0;const s=[];return this._appendLeaves(s,e,n,r,0),s}getTile(e,n,r){const s=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:o,radius:a}=this.options,c=a/o,l=(r-c)/i,u=(r+1+c)/i,h={features:[]};return this._addTileFeatures(s.range((n-c)/i,l,(n+1+c)/i,u),s.data,n,r,i,h),n===0&&this._addTileFeatures(s.range(1-c/i,l,1,u),s.data,i,r,i,h),n===i-1&&this._addTileFeatures(s.range(0,l,c/i,u),s.data,-1,r,i,h),h.features.length?h:null}getClusterExpansionZoom(e){let n=this._getOriginZoom(e)-1;for(;n<=this.options.maxZoom;){const r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,s,i){const o=this.getChildren(n);for(const a of o){const c=a.properties;if(c&&c.cluster?i+c.point_count<=s?i+=c.point_count:i=this._appendLeaves(e,c.cluster_id,r,s,i):i<s?i++:e.push(a),e.length===r)break}return i}_createTree(e){const n=new Rh(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,s,i,o){for(const a of e){const c=a*this.stride,l=n[c+Ln]>1;let u,h,d;if(l)u=Yy(n,c,this.clusterProps),h=n[c],d=n[c+1];else{const y=this.points[n[c+Un]];u=y.properties;const[b,A]=y.geometry.coordinates;h=Eo(b),d=bo(A)}const f={type:1,geometry:[[Math.round(this.options.extent*(h*i-r)),Math.round(this.options.extent*(d*i-s))]],tags:u};let _;l||this.options.generateId?_=n[c+Un]:_=this.points[n[c+Un]].id,_!==void 0&&(f.id=_),o.features.push(f)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){const{radius:r,extent:s,reduce:i,minPoints:o}=this.options,a=r/(s*Math.pow(2,n)),c=e.data,l=[],u=this.stride;for(let h=0;h<c.length;h+=u){if(c[h+hr]<=n)continue;c[h+hr]=n;const d=c[h],f=c[h+1],_=e.within(c[h],c[h+1],a),y=c[h+Ln];let b=y;for(const A of _){const R=A*u;c[R+hr]>n&&(b+=c[R+Ln])}if(b>y&&b>=o){let A=d*y,R=f*y,U,N=-1;const ie=((h/u|0)<<5)+(n+1)+this.points.length;for(const Y of _){const ae=Y*u;if(c[ae+hr]<=n)continue;c[ae+hr]=n;const Z=c[ae+Ln];A+=c[ae]*Z,R+=c[ae+1]*Z,c[ae+Kc]=ie,i&&(U||(U=this._map(c,h,!0),N=this.clusterProps.length,this.clusterProps.push(U)),i(U,this._map(c,ae)))}c[h+Kc]=ie,l.push(A/b,R/b,1/0,ie,-1,b),i&&l.push(N)}else{for(let A=0;A<u;A++)l.push(c[h+A]);if(b>1)for(const A of _){const R=A*u;if(!(c[R+hr]<=n)){c[R+hr]=n;for(let U=0;U<u;U++)l.push(c[R+U])}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+Ln]>1){const o=this.clusterProps[e[n+Xy]];return r?Object.assign({},o):o}const s=this.points[e[n+Un]].properties,i=this.options.map(s);return r&&i===s?Object.assign({},i):i}}function ap(t,e,n){return{type:"Feature",id:t[e+Un],properties:Yy(t,e,n),geometry:{type:"Point",coordinates:[MN(t[e]),LN(t[e+1])]}}}function Yy(t,e,n){const r=t[e+Ln],s=r>=1e4?`${Math.round(r/1e3)}k`:r>=1e3?`${Math.round(r/100)/10}k`:r,i=t[e+Xy],o=i===-1?{}:Object.assign({},n[i]);return Object.assign(o,{cluster:!0,cluster_id:t[e+Un],point_count:r,point_count_abbreviated:s})}function Eo(t){return t/360+.5}function bo(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function MN(t){return(t-.5)*360}function LN(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function VN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}class Nt{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Yl{constructor({markers:e,position:n}){this.markers=e,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const n of this.markers)e.extend(Nt.getPosition(n));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Nt.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Nt.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class $N{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return UN(e)}}const UN=t=>t.map(n=>new Yl({position:Nt.getPosition(n),markers:[n]}));class FN extends $N{constructor(e){var{maxZoom:n,radius:r=60}=e,s=VN(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new DN(Object.assign({maxZoom:this.maxZoom,radius:r},s))}calculate(e){let n=!1;const r={zoom:e.map.getZoom()};if(!rp(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const s=this.markers.map(i=>{const o=Nt.getPosition(i);return{type:"Feature",geometry:{type:"Point",coordinates:[o.lng(),o.lat()]},properties:{marker:i}}});this.superCluster.load(s)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!rp(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(n=>this.transformCluster(n))}transformCluster({geometry:{coordinates:[e,n]},properties:r}){if(r.cluster)return new Yl({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(i=>i.properties.marker),position:{lat:n,lng:e}});const s=r.marker;return new Yl({markers:[s],position:Nt.getPosition(s)})}}class jN{constructor(e,n){this.markers={sum:e.length};const r=n.map(i=>i.count),s=r.reduce((i,o)=>i+o,0);this.clusters={count:n.length,markers:{mean:s/n.length,sum:s,min:Math.min(...r),max:Math.max(...r)}}}}class BN{render({count:e,position:n},r,s){const o=`<svg fill="${e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,a=`Cluster of ${e} markers`,c=Number(google.maps.Marker.MAX_ZINDEX)+e;if(Nt.isAdvancedMarkerAvailable(s)){const h=new DOMParser().parseFromString(o,"image/svg+xml").documentElement;h.setAttribute("transform","translate(0 25)");const d={map:s,position:n,zIndex:c,title:a,content:h};return new google.maps.marker.AdvancedMarkerElement(d)}const l={position:n,zIndex:c,title:a,icon:{url:`data:image/svg+xml;base64,${btoa(o)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(l)}}function HN(t,e){for(let n in e.prototype)t.prototype[n]=e.prototype[n]}class Ph{constructor(){HN(Ph,google.maps.OverlayView)}}var ai;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(ai||(ai={}));const zN=(t,e,n)=>{n.fitBounds(e.bounds)};class cp extends Ph{constructor({map:e,markers:n=[],algorithmOptions:r={},algorithm:s=new FN(r),renderer:i=new BN,onClusterClick:o=zN}){super(),this.markers=[...n],this.clusters=[],this.algorithm=s,this.renderer=i,this.onClusterClick=o,e&&this.setMap(e)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){const r=this.markers.indexOf(e);return r===-1?!1:(Nt.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){let r=!1;return e.forEach(s=>{r=this.removeMarker(s,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,ai.CLUSTERING_BEGIN,this);const{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){const s=new Set;for(const o of n)o.markers.length==1&&s.add(o.markers[0]);const i=[];for(const o of this.clusters)o.marker!=null&&(o.markers.length==1?s.has(o.marker)||Nt.setMap(o.marker,null):i.push(o.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>i.forEach(o=>Nt.setMap(o,null)))}google.maps.event.trigger(this,ai.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Nt.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new jN(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(s=>Nt.setMap(s,null)),this.onClusterClick&&r.marker.addListener("click",s=>{google.maps.event.trigger(this,ai.CLUSTER_CLICK,r),this.onClusterClick(s,r,n)})),Nt.setMap(r.marker,n)})}}const Gc={maxZoom:{type:Number,twoWay:!1},batchSizeIE:{type:Number,twoWay:!1},calculator:{type:Function,twoWay:!1},enableRetinaIcons:{type:Boolean,twoWay:!1},gridSize:{type:Number,twoWay:!1},ignoreHidden:{type:Boolean,twoWay:!1},imageExtension:{type:String,twoWay:!1},imagePath:{type:String,twoWay:!1},imageSizes:{type:Array,twoWay:!1},minimumClusterSize:{type:Number,twoWay:!1},styles:{type:Array,twoWay:!1},zoomOnClick:{type:Boolean,twoWay:!1}},qN=["click","rightclick","dblclick","drag","dragstart","dragend","mouseup","mousedown","mouseover","mouseout"],WN=cr({mappedProps:Gc,events:qN,name:"cluster",ctr:()=>{if(typeof cp>"u"){const t="MarkerClusterer is not installed!";throw console.error(t),new Error(t)}return cp},ctrArgs:({map:t,...e})=>[t,[],e],afterCreate(t){const e=()=>{const n=t.getMarkers();t.clearMarkers(),t.addMarkers(n)};for(let n in Gc)Gc[n].twoWay&&this.$on(n.toLowerCase()+"_changed",e)},updated(){this.$clusterObject&&this.$clusterObject.repaint()},beforeUnmount(){this.$children&&this.$children.length&&this.$children.forEach(t=>{t.$clusterObject===this.$clusterObject&&(t.$clusterObject=null)}),this.$clusterObject&&this.$clusterObject.clearMarkers()}});function KN(t,e,n,r,s,i){return le(),ve("div",null,[hi(t.$slots,"default")])}const GN=Xe(WN,[["render",KN]]),QN={options:{type:Object,required:!1,default(){return{}}},position:{type:Object,twoWay:!0},zIndex:{type:Number,twoWay:!0}},XN=["domready","click","closeclick","content_changed"],YN=cr({mappedProps:QN,events:XN,name:"infoWindow",ctr:()=>google.maps.InfoWindow,props:{opened:{type:Boolean,default:!0}},inject:{$markerPromise:{default:null}},mounted(){const t=this.$refs.infoWindow;t.parentNode.removeChild(t)},beforeCreate(t){if(t.content=this.$refs.infoWindow,this.$markerPromise)return delete t.position,this.$markerPromise.then(e=>(this.$markerObject=e,e))},emits:["closeclick"],methods:{_openInfoWindow(){this.$infoWindowObject.close(),this.opened?this.$infoWindowObject.open(this.$map,this.$markerObject):this.$emit("closeclick")}},afterCreate(){this._openInfoWindow(),this.$watch("opened",()=>{this._openInfoWindow()})}}),JN={ref:"infoWindow"};function ZN(t,e,n,r,s,i){return le(),ve("div",JN,[hi(t.$slots,"default")],512)}const eD=Xe(YN,[["render",ZN]]),tD={props:["resizeBus"],data(){return{_actualResizeBus:null}},created(){typeof this.resizeBus>"u"?this.$data._actualResizeBus=this.$gmapDefaultResizeBus:this.$data._actualResizeBus=this.resizeBus},methods:{_resizeCallback(){this.resize()},isFunction(t){return t&&{}.toString.call(t)==="[object Function]"},_delayedResizeCallback(){this.$nextTick(()=>this._resizeCallback())}},watch:{resizeBus(t){this.$data._actualResizeBus=t},"$data._actualResizeBus"(t,e){e&&e.$off("resize",this._delayedResizeCallback)}},unmounted(){this.$data._actualResizeBus&&this.isFunction(this.$data._actualResizeBus.$off)&&this.$data._actualResizeBus.$off("resize",this._delayedResizeCallback)}};function nD(t){let e=0;t(()=>{e+=1},()=>{e=Math.max(0,e-1)},()=>e===0)}const Qc={center:{required:!0,twoWay:!0,type:Object,noBind:!0},zoom:{required:!1,twoWay:!0,type:Number,noBind:!0},heading:{type:Number,twoWay:!0},mapTypeId:{twoWay:!0,type:String},tilt:{twoWay:!0,type:Number},options:{type:Object,default(){return{}}}},lp=["bounds_changed","click","dblclick","drag","dragend","dragstart","idle","mousemove","mouseout","mouseover","resize","rightclick","tilesloaded"],rD=["panBy","panTo","panToBounds","fitBounds"].reduce((t,e)=>(t[e]=function(){this.$mapObject&&this.$mapObject[e].apply(this.$mapObject,arguments)},t),{}),sD={resize(){this.$mapObject&&google.maps.event.trigger(this.$mapObject,"resize")},resizePreserveCenter(){if(!this.$mapObject)return;const t=this.$mapObject.getCenter();google.maps.event.trigger(this.$mapObject,"resize"),this.$mapObject.setCenter(t)},_resizeCallback(){this.resizePreserveCenter()}},iD={mixins:[tD],props:Sh({...Qc,...lp.reduce((t,e)=>({...t,[`on${e.charAt(0).toUpperCase()}${e.slice(1)}`.replace(/[-_]+(.)?/g,(n,r)=>r?r.toUpperCase():"")]:Function}),{})}),inheritAttrs:!1,provide(){return this.$mapPromise=new Promise((t,e)=>{this.$mapPromiseDeferred={resolve:t,reject:e}}),{$mapPromise:this.$mapPromise}},emits:["center_changed","zoom_changed","bounds_changed"],computed:{finalLat(){return this.center&&typeof this.center.lat=="function"?this.center.lat():this.center.lat},finalLng(){return this.center&&typeof this.center.lng=="function"?this.center.lng():this.center.lng},finalLatLng(){return{lat:this.finalLat,lng:this.finalLng}}},watch:{zoom(t){this.$mapObject&&this.$mapObject.setZoom(t)}},mounted(){return this.$gmapApiPromiseLazy().then(()=>{const t=this.$refs["vue-map"],e={...this.options,...va(this,Qc)};return delete e.options,this.$mapObject=new google.maps.Map(t,e),Ah(this,this.$mapObject,Qc),Ky(this,this.$mapObject,lp),nD((n,r,s)=>{this.$mapObject.addListener("center_changed",()=>{s()&&this.$emit("center_changed",this.$mapObject.getCenter()),r()}),Gy(this,["finalLat","finalLng"],()=>{n(),this.$mapObject.setCenter(this.finalLatLng)})}),this.$mapObject.addListener("zoom_changed",()=>{this.$emit("zoom_changed",this.$mapObject.getZoom())}),this.$mapObject.addListener("bounds_changed",()=>{this.$emit("bounds_changed",this.$mapObject.getBounds())}),this.$mapPromiseDeferred.resolve(this.$mapObject),this.$mapObject}).catch(t=>{throw t})},methods:{...sD,...rD}},oD={class:"vue-map-hidden"};function aD(t,e,n,r,s,i){return le(),ve("div",{class:us(["vue-map-container",t.$attrs.class])},[v("div",{ref:"vue-map",class:"vue-map",style:Ta(t.$attrs.style?t.$attrs.style:"")},null,4),v("div",oD,[hi(t.$slots,"default")]),hi(t.$slots,"visible")],2)}const cD=Xe(iD,[["render",aD]]),lD={options:{type:Object,twoWay:!1,default:()=>{}},data:{type:Array,twoWay:!0}},uD=[],hD=cr({mappedProps:lD,name:"heatmap",ctr:()=>google.maps.visualization.HeatmapLayer,events:uD}),dD=t=>{const e=t.addEventListener?t.addEventListener:t.attachEvent;function n(r,s){if(r==="keydown"){const i=s;s=function(o){const a=document.getElementsByClassName("pac-item-selected").length>0;if(o.which===13&&!a){const c=document.createEvent("Event");c.keyCode=40,c.which=40,i.apply(t,[c])}i.apply(t,[o])}}e.apply(t,[r,s])}t.addEventListener=n,t.attachEvent=n},Xc={bounds:{type:Object},componentRestrictions:{type:Object,noBind:!0},types:{type:Array,default:function(){return[]}}},fD={selectFirstOnEnter:{required:!1,type:Boolean,default:!1},options:{type:Object}},pD={mounted(){this.$gmapApiPromiseLazy().then(()=>{if(this.selectFirstOnEnter&&dD(this.$refs.input),typeof google.maps.places.Autocomplete!="function")throw new Error("google.maps.places.Autocomplete is undefined. Did you add 'places' to libraries when loading Google Maps?");const t={...va(this,Xc),...this.options};this.$autocomplete=new google.maps.places.Autocomplete(this.$refs.input,t),Ah(this,this.$autocomplete,Xc),this.$watch("componentRestrictions",e=>{e!==void 0&&this.$autocomplete.setComponentRestrictions(e)}),this.$autocomplete.addListener("place_changed",()=>{this.$emit("place_changed",this.$autocomplete.getPlace())})})},props:{...Sh(Xc),...fD}};function mD(t,e,n,r,s,i){return le(),ve("input",nm({ref:"input"},t.$attrs,fw(t.$attrs,!0)),null,16)}const gD=Xe(pD,[["render",mD]]);let Jy=null;function _D(t,e){e={installComponents:!0,autobindAllEvents:!1,...e},Jy=ul({data:function(){return{gmapApi:null}}});const n=ul();let r=yD(e);t.mixin({created(){this.$gmapDefaultResizeBus=n,this.$gmapOptions=e,this.$gmapApiPromiseLazy=r}}),t.$gmapDefaultResizeBus=n,t.$gmapApiPromiseLazy=r,e.installComponents&&(t.component("GMapMap",cD),t.component("GMapMarker",kN),t.component("GMapInfoWindow",eD),t.component("GMapCluster",GN),t.component("GMapPolyline",yN),t.component("GMapPolygon",EN),t.component("GMapCircle",IN),t.component("GMapRectangle",RN),t.component("GMapAutocomplete",gD),t.component("GMapHeatmap",hD))}function yD(t){function e(){return Jy.gmapApi={},window.google}if(t.load)return ep(()=>Ql.isServer()?new Promise(()=>{}).then(e):new Promise((n,r)=>{try{window.vueGoogleMapsInit=n,fN(t.load)}catch(s){r(s)}}).then(e));{const n=new Promise(r=>{Ql.isServer()||(window.vueGoogleMapsInit=r)}).then(e);return ep(()=>n)}}const vD={apiKey:"AIzaSyDmN08IvkUv2vQn7o_Cbd5daeQ3OXxGRpo",authDomain:"ecoscape-ea1d6.firebaseapp.com",databaseURL:"https://ecoscape-ea1d6-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"ecoscape-ea1d6",storageBucket:"ecoscape-ea1d6.appspot.com",messagingSenderId:"104462396856",appId:"1:104462396856:web:bcaaa850fb71afed13b34d",measurementId:"G-35CF9R9L0S"},ro=ul(iS),Zy=fm(vD);ro.config.globalProperties.$firebaseApp=Zy;my(Zy);ro.use(lN);ro.use(xS);ro.use(_D,{load:{key:"AIzaSyDmN08IvkUv2vQn7o_Cbd5daeQ3OXxGRpo",libraries:"places"}});ro.mount("#app");
