(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Jc(t,e){const n=Object.create(null),r=t.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const xe={},Jr=[],qt=()=>{},Xy=()=>!1,Jy=/^on[^a-z]/,ma=t=>Jy.test(t),Yc=t=>t.startsWith("onUpdate:"),dt=Object.assign,Zc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Yy=Object.prototype.hasOwnProperty,_e=(t,e)=>Yy.call(t,e),J=Array.isArray,Yr=t=>_a(t)==="[object Map]",op=t=>_a(t)==="[object Set]",se=t=>typeof t=="function",Ke=t=>typeof t=="string",ga=t=>typeof t=="symbol",Le=t=>t!==null&&typeof t=="object",ap=t=>(Le(t)||se(t))&&se(t.then)&&se(t.catch),lp=Object.prototype.toString,_a=t=>lp.call(t),Zy=t=>_a(t).slice(8,-1),cp=t=>_a(t)==="[object Object]",eu=t=>Ke(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,wo=Jc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ya=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},ev=/-(\w)/g,cn=ya(t=>t.replace(ev,(e,n)=>n?n.toUpperCase():"")),tv=/\B([A-Z])/g,ws=ya(t=>t.replace(tv,"-$1").toLowerCase()),va=ya(t=>t.charAt(0).toUpperCase()+t.slice(1)),Eo=ya(t=>t?`on${va(t)}`:""),Er=(t,e)=>!Object.is(t,e),bo=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Do=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Xl=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Ph;const Jl=()=>Ph||(Ph=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function wa(t){if(J(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Ke(r)?iv(r):wa(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(Ke(t)||Le(t))return t}const nv=/;(?![^(]*\))/g,rv=/:([^]+)/,sv=/\/\*[^]*?\*\//g;function iv(t){const e={};return t.replace(sv,"").split(nv).forEach(n=>{if(n){const r=n.split(rv);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function os(t){let e="";if(Ke(t))e=t;else if(J(t))for(let n=0;n<t.length;n++){const r=os(t[n]);r&&(e+=r+" ")}else if(Le(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const ov="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",av=Jc(ov);function up(t){return!!t||t===""}const Mt=t=>Ke(t)?t:t==null?"":J(t)||Le(t)&&(t.toString===lp||!se(t.toString))?JSON.stringify(t,hp,2):String(t),hp=(t,e)=>e&&e.__v_isRef?hp(t,e.value):Yr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:op(e)?{[`Set(${e.size})`]:[...e.values()]}:Le(e)&&!J(e)&&!cp(e)?String(e):e;let Ft;class dp{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ft,!e&&Ft&&(this.index=(Ft.scopes||(Ft.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Ft;try{return Ft=this,e()}finally{Ft=n}}}on(){Ft=this}off(){Ft=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function lv(t){return new dp(t)}function cv(t,e=Ft){e&&e.active&&e.effects.push(t)}function uv(){return Ft}const tu=t=>{const e=new Set(t);return e.w=0,e.n=0,e},fp=t=>(t.w&Kn)>0,pp=t=>(t.n&Kn)>0,hv=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Kn},dv=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const s=e[r];fp(s)&&!pp(s)?s.delete(t):e[n++]=s,s.w&=~Kn,s.n&=~Kn}e.length=n}},Yl=new WeakMap;let Bs=0,Kn=1;const Zl=30;let jt;const mr=Symbol(""),ec=Symbol("");class nu{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,cv(this,r)}run(){if(!this.active)return this.fn();let e=jt,n=Bn;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=jt,jt=this,Bn=!0,Kn=1<<++Bs,Bs<=Zl?hv(this):Ch(this),this.fn()}finally{Bs<=Zl&&dv(this),Kn=1<<--Bs,jt=this.parent,Bn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){jt===this?this.deferStop=!0:this.active&&(Ch(this),this.onStop&&this.onStop(),this.active=!1)}}function Ch(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Bn=!0;const mp=[];function Es(){mp.push(Bn),Bn=!1}function bs(){const t=mp.pop();Bn=t===void 0?!0:t}function Rt(t,e,n){if(Bn&&jt){let r=Yl.get(t);r||Yl.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=tu()),gp(s)}}function gp(t,e){let n=!1;Bs<=Zl?pp(t)||(t.n|=Kn,n=!fp(t)):n=!t.has(jt),n&&(t.add(jt),jt.deps.push(t))}function yn(t,e,n,r,s,i){const o=Yl.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&J(t)){const l=Number(r);o.forEach((c,u)=>{(u==="length"||!ga(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":J(t)?eu(n)&&a.push(o.get("length")):(a.push(o.get(mr)),Yr(t)&&a.push(o.get(ec)));break;case"delete":J(t)||(a.push(o.get(mr)),Yr(t)&&a.push(o.get(ec)));break;case"set":Yr(t)&&a.push(o.get(mr));break}if(a.length===1)a[0]&&tc(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);tc(tu(l))}}function tc(t,e){const n=J(t)?t:[...t];for(const r of n)r.computed&&Oh(r);for(const r of n)r.computed||Oh(r)}function Oh(t,e){(t!==jt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const fv=Jc("__proto__,__v_isRef,__isVue"),_p=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ga)),kh=pv();function pv(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=we(this);for(let i=0,o=this.length;i<o;i++)Rt(r,"get",i+"");const s=r[e](...n);return s===-1||s===!1?r[e](...n.map(we)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Es();const r=we(this)[e].apply(this,n);return bs(),r}}),t}function mv(t){const e=we(this);return Rt(e,"has",t),e.hasOwnProperty(t)}class yp{constructor(e=!1,n=!1){this._isReadonly=e,this._shallow=n}get(e,n,r){const s=this._isReadonly,i=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw"&&r===(s?i?Pv:bp:i?Ep:wp).get(e))return e;const o=J(e);if(!s){if(o&&_e(kh,n))return Reflect.get(kh,n,r);if(n==="hasOwnProperty")return mv}const a=Reflect.get(e,n,r);return(ga(n)?_p.has(n):fv(n))||(s||Rt(e,"get",n),i)?a:yt(a)?o&&eu(n)?a:a.value:Le(a)?s?Ip(a):on(a):a}}class vp extends yp{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(as(i)&&yt(i)&&!yt(r))return!1;if(!this._shallow&&(!Mo(r)&&!as(r)&&(i=we(i),r=we(r)),!J(e)&&yt(i)&&!yt(r)))return i.value=r,!0;const o=J(e)&&eu(n)?Number(n)<e.length:_e(e,n),a=Reflect.set(e,n,r,s);return e===we(s)&&(o?Er(r,i)&&yn(e,"set",n,r):yn(e,"add",n,r)),a}deleteProperty(e,n){const r=_e(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&yn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!ga(n)||!_p.has(n))&&Rt(e,"has",n),r}ownKeys(e){return Rt(e,"iterate",J(e)?"length":mr),Reflect.ownKeys(e)}}class gv extends yp{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const _v=new vp,yv=new gv,vv=new vp(!0),ru=t=>t,Ea=t=>Reflect.getPrototypeOf(t);function to(t,e,n=!1,r=!1){t=t.__v_raw;const s=we(t),i=we(e);n||(Er(e,i)&&Rt(s,"get",e),Rt(s,"get",i));const{has:o}=Ea(s),a=r?ru:n?ou:ai;if(o.call(s,e))return a(t.get(e));if(o.call(s,i))return a(t.get(i));t!==s&&t.get(e)}function no(t,e=!1){const n=this.__v_raw,r=we(n),s=we(t);return e||(Er(t,s)&&Rt(r,"has",t),Rt(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function ro(t,e=!1){return t=t.__v_raw,!e&&Rt(we(t),"iterate",mr),Reflect.get(t,"size",t)}function xh(t){t=we(t);const e=we(this);return Ea(e).has.call(e,t)||(e.add(t),yn(e,"add",t,t)),this}function Nh(t,e){e=we(e);const n=we(this),{has:r,get:s}=Ea(n);let i=r.call(n,t);i||(t=we(t),i=r.call(n,t));const o=s.call(n,t);return n.set(t,e),i?Er(e,o)&&yn(n,"set",t,e):yn(n,"add",t,e),this}function Dh(t){const e=we(this),{has:n,get:r}=Ea(e);let s=n.call(e,t);s||(t=we(t),s=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return s&&yn(e,"delete",t,void 0),i}function Mh(){const t=we(this),e=t.size!==0,n=t.clear();return e&&yn(t,"clear",void 0,void 0),n}function so(t,e){return function(r,s){const i=this,o=i.__v_raw,a=we(o),l=e?ru:t?ou:ai;return!t&&Rt(a,"iterate",mr),o.forEach((c,u)=>r.call(s,l(c),l(u),i))}}function io(t,e,n){return function(...r){const s=this.__v_raw,i=we(s),o=Yr(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=s[t](...r),u=n?ru:e?ou:ai;return!e&&Rt(i,"iterate",l?ec:mr),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function Pn(t){return function(...e){return t==="delete"?!1:this}}function wv(){const t={get(i){return to(this,i)},get size(){return ro(this)},has:no,add:xh,set:Nh,delete:Dh,clear:Mh,forEach:so(!1,!1)},e={get(i){return to(this,i,!1,!0)},get size(){return ro(this)},has:no,add:xh,set:Nh,delete:Dh,clear:Mh,forEach:so(!1,!0)},n={get(i){return to(this,i,!0)},get size(){return ro(this,!0)},has(i){return no.call(this,i,!0)},add:Pn("add"),set:Pn("set"),delete:Pn("delete"),clear:Pn("clear"),forEach:so(!0,!1)},r={get(i){return to(this,i,!0,!0)},get size(){return ro(this,!0)},has(i){return no.call(this,i,!0)},add:Pn("add"),set:Pn("set"),delete:Pn("delete"),clear:Pn("clear"),forEach:so(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=io(i,!1,!1),n[i]=io(i,!0,!1),e[i]=io(i,!1,!0),r[i]=io(i,!0,!0)}),[t,n,e,r]}const[Ev,bv,Tv,Iv]=wv();function su(t,e){const n=e?t?Iv:Tv:t?bv:Ev;return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(_e(n,s)&&s in r?n:r,s,i)}const Av={get:su(!1,!1)},Sv={get:su(!1,!0)},Rv={get:su(!0,!1)},wp=new WeakMap,Ep=new WeakMap,bp=new WeakMap,Pv=new WeakMap;function Cv(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ov(t){return t.__v_skip||!Object.isExtensible(t)?0:Cv(Zy(t))}function on(t){return as(t)?t:iu(t,!1,_v,Av,wp)}function Tp(t){return iu(t,!1,vv,Sv,Ep)}function Ip(t){return iu(t,!0,yv,Rv,bp)}function iu(t,e,n,r,s){if(!Le(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=Ov(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function Zr(t){return as(t)?Zr(t.__v_raw):!!(t&&t.__v_isReactive)}function as(t){return!!(t&&t.__v_isReadonly)}function Mo(t){return!!(t&&t.__v_isShallow)}function Ap(t){return Zr(t)||as(t)}function we(t){const e=t&&t.__v_raw;return e?we(e):t}function Sp(t){return Do(t,"__v_skip",!0),t}const ai=t=>Le(t)?on(t):t,ou=t=>Le(t)?Ip(t):t;function Rp(t){Bn&&jt&&(t=we(t),gp(t.dep||(t.dep=tu())))}function Pp(t,e){t=we(t);const n=t.dep;n&&tc(n)}function yt(t){return!!(t&&t.__v_isRef===!0)}function Re(t){return Cp(t,!1)}function kv(t){return Cp(t,!0)}function Cp(t,e){return yt(t)?t:new xv(t,e)}class xv{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:we(e),this._value=n?e:ai(e)}get value(){return Rp(this),this._value}set value(e){const n=this.__v_isShallow||Mo(e)||as(e);e=n?e:we(e),Er(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:ai(e),Pp(this))}}function es(t){return yt(t)?t.value:t}const Nv={get:(t,e,n)=>es(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return yt(s)&&!yt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function Op(t){return Zr(t)?t:new Proxy(t,Nv)}class Dv{constructor(e,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new nu(e,()=>{this._dirty||(this._dirty=!0,Pp(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const e=we(this);return Rp(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Mv(t,e,n=!1){let r,s;const i=se(t);return i?(r=t,s=qt):(r=t.get,s=t.set),new Dv(r,s,i||!s,n)}function Hn(t,e,n,r){let s;try{s=r?t(...r):t()}catch(i){ba(i,e,n)}return s}function Wt(t,e,n,r){if(se(t)){const i=Hn(t,e,n,r);return i&&ap(i)&&i.catch(o=>{ba(o,e,n)}),i}const s=[];for(let i=0;i<t.length;i++)s.push(Wt(t[i],e,n,r));return s}function ba(t,e,n,r=!0){const s=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){Hn(l,null,10,[t,o,a]);return}}Lv(t,n,s,r)}function Lv(t,e,n,r=!0){console.error(t)}let li=!1,nc=!1;const _t=[];let en=0;const ts=[];let pn=null,cr=0;const kp=Promise.resolve();let au=null;function lu(t){const e=au||kp;return t?e.then(this?t.bind(this):t):e}function Vv(t){let e=en+1,n=_t.length;for(;e<n;){const r=e+n>>>1,s=_t[r],i=ci(s);i<t||i===t&&s.pre?e=r+1:n=r}return e}function cu(t){(!_t.length||!_t.includes(t,li&&t.allowRecurse?en+1:en))&&(t.id==null?_t.push(t):_t.splice(Vv(t.id),0,t),xp())}function xp(){!li&&!nc&&(nc=!0,au=kp.then(Dp))}function $v(t){const e=_t.indexOf(t);e>en&&_t.splice(e,1)}function Fv(t){J(t)?ts.push(...t):(!pn||!pn.includes(t,t.allowRecurse?cr+1:cr))&&ts.push(t),xp()}function Lh(t,e=li?en+1:0){for(;e<_t.length;e++){const n=_t[e];n&&n.pre&&(_t.splice(e,1),e--,n())}}function Np(t){if(ts.length){const e=[...new Set(ts)];if(ts.length=0,pn){pn.push(...e);return}for(pn=e,pn.sort((n,r)=>ci(n)-ci(r)),cr=0;cr<pn.length;cr++)pn[cr]();pn=null,cr=0}}const ci=t=>t.id==null?1/0:t.id,Uv=(t,e)=>{const n=ci(t)-ci(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Dp(t){nc=!1,li=!0,_t.sort(Uv);const e=qt;try{for(en=0;en<_t.length;en++){const n=_t[en];n&&n.active!==!1&&Hn(n,null,14)}}finally{en=0,_t.length=0,Np(),li=!1,au=null,(_t.length||ts.length)&&Dp()}}function jv(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||xe;let s=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:d}=r[u]||xe;d&&(s=n.map(f=>Ke(f)?f.trim():f)),h&&(s=n.map(Xl))}let a,l=r[a=Eo(e)]||r[a=Eo(cn(e))];!l&&i&&(l=r[a=Eo(ws(e))]),l&&Wt(l,t,6,s);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Wt(c,t,6,s)}}function Mp(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!se(t)){const l=c=>{const u=Mp(c,e,!0);u&&(a=!0,dt(o,u))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(Le(t)&&r.set(t,null),null):(J(i)?i.forEach(l=>o[l]=null):dt(o,i),Le(t)&&r.set(t,o),o)}function Ta(t,e){return!t||!ma(e)?!1:(e=e.slice(2).replace(/Once$/,""),_e(t,e[0].toLowerCase()+e.slice(1))||_e(t,ws(e))||_e(t,e))}let vt=null,Ia=null;function Lo(t){const e=vt;return vt=t,Ia=t&&t.type.__scopeId||null,e}function Cr(t){Ia=t}function Or(){Ia=null}function We(t,e=vt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Gh(-1);const i=Lo(e);let o;try{o=t(...s)}finally{Lo(i),r._d&&Gh(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function dl(t){const{type:e,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:d,setupState:f,ctx:_,inheritAttrs:v}=t;let b,A;const R=Lo(t);try{if(n.shapeFlag&4){const N=s||r;b=Zt(u.call(N,N,h,i,f,d,_)),A=l}else{const N=e;b=Zt(N.length>1?N(i,{attrs:l,slots:a,emit:c}):N(i,null)),A=e.props?l:Bv(l)}}catch(N){Js.length=0,ba(N,t,1),b=ne(Qn)}let F=b;if(A&&v!==!1){const N=Object.keys(A),{shapeFlag:re}=F;N.length&&re&7&&(o&&N.some(Yc)&&(A=Hv(A,o)),F=Xn(F,A))}return n.dirs&&(F=Xn(F),F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&(F.transition=n.transition),b=F,Lo(R),b}const Bv=t=>{let e;for(const n in t)(n==="class"||n==="style"||ma(n))&&((e||(e={}))[n]=t[n]);return e},Hv=(t,e)=>{const n={};for(const r in t)(!Yc(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function zv(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Vh(r,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==r[d]&&!Ta(c,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Vh(r,o,c):!0:!!o;return!1}function Vh(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Ta(n,i))return!0}return!1}function qv({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Wv=t=>t.__isSuspense;function Gv(t,e){e&&e.pendingBranch?J(t)?e.effects.push(...t):e.effects.push(t):Fv(t)}const oo={};function vn(t,e,n){return Lp(t,e,n)}function Lp(t,e,{immediate:n,deep:r,flush:s,onTrack:i,onTrigger:o}=xe){var a;const l=uv()===((a=lt)==null?void 0:a.scope)?lt:null;let c,u=!1,h=!1;if(yt(t)?(c=()=>t.value,u=Mo(t)):Zr(t)?(c=()=>t,r=!0):J(t)?(h=!0,u=t.some(N=>Zr(N)||Mo(N)),c=()=>t.map(N=>{if(yt(N))return N.value;if(Zr(N))return hr(N);if(se(N))return Hn(N,l,2)})):se(t)?e?c=()=>Hn(t,l,2):c=()=>{if(!(l&&l.isUnmounted))return d&&d(),Wt(t,l,3,[f])}:c=qt,e&&r){const N=c;c=()=>hr(N())}let d,f=N=>{d=R.onStop=()=>{Hn(N,l,4)}},_;if(di)if(f=qt,e?n&&Wt(e,l,3,[c(),h?[]:void 0,f]):c(),s==="sync"){const N=Uw();_=N.__watcherHandles||(N.__watcherHandles=[])}else return qt;let v=h?new Array(t.length).fill(oo):oo;const b=()=>{if(R.active)if(e){const N=R.run();(r||u||(h?N.some((re,G)=>Er(re,v[G])):Er(N,v)))&&(d&&d(),Wt(e,l,3,[N,v===oo?void 0:h&&v[0]===oo?[]:v,f]),v=N)}else R.run()};b.allowRecurse=!!e;let A;s==="sync"?A=b:s==="post"?A=()=>St(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),A=()=>cu(b));const R=new nu(c,A);e?n?b():v=R.run():s==="post"?St(R.run.bind(R),l&&l.suspense):R.run();const F=()=>{R.stop(),l&&l.scope&&Zc(l.scope.effects,R)};return _&&_.push(F),F}function Kv(t,e,n){const r=this.proxy,s=Ke(t)?t.includes(".")?Vp(r,t):()=>r[t]:t.bind(r,r);let i;se(e)?i=e:(i=e.handler,n=e);const o=lt;cs(this);const a=Lp(s,i.bind(r),n);return o?cs(o):gr(),a}function Vp(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function hr(t,e){if(!Le(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),yt(t))hr(t.value,e);else if(J(t))for(let n=0;n<t.length;n++)hr(t[n],e);else if(op(t)||Yr(t))t.forEach(n=>{hr(n,e)});else if(cp(t))for(const n in t)hr(t[n],e);return t}function zr(t,e){const n=vt;if(n===null)return t;const r=Pa(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,l,c=xe]=e[i];o&&(se(o)&&(o={mounted:o,updated:o}),o.deep&&hr(a),s.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:c}))}return t}function ir(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Es(),Wt(l,n,8,[t.el,a,t,e]),bs())}}/*! #__NO_SIDE_EFFECTS__ */function kr(t,e){return se(t)?(()=>dt({name:t.name},e,{setup:t}))():t}const Qs=t=>!!t.type.__asyncLoader,$p=t=>t.type.__isKeepAlive;function Qv(t,e){Fp(t,"a",e)}function Xv(t,e){Fp(t,"da",e)}function Fp(t,e,n=lt){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Aa(e,r,n),n){let s=n.parent;for(;s&&s.parent;)$p(s.parent.vnode)&&Jv(r,e,n,s),s=s.parent}}function Jv(t,e,n,r){const s=Aa(e,t,r,!0);uu(()=>{Zc(r[e],s)},n)}function Aa(t,e,n=lt,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Es(),cs(n);const a=Wt(e,n,t,o);return gr(),bs(),a});return r?s.unshift(i):s.push(i),i}}const Sn=t=>(e,n=lt)=>(!di||t==="sp")&&Aa(t,(...r)=>e(...r),n),Yv=Sn("bm"),Up=Sn("m"),Zv=Sn("bu"),ew=Sn("u"),tw=Sn("bum"),uu=Sn("um"),nw=Sn("sp"),rw=Sn("rtg"),sw=Sn("rtc");function iw(t,e=lt){Aa("ec",t,e)}const jp="components";function Ge(t,e){return aw(jp,t,!0,e)||t}const ow=Symbol.for("v-ndc");function aw(t,e,n=!0,r=!1){const s=vt||lt;if(s){const i=s.type;if(t===jp){const a=Vw(i,!1);if(a&&(a===e||a===cn(e)||a===va(cn(e))))return i}const o=$h(s[t]||i[t],e)||$h(s.appContext[t],e);return!o&&r?i:o}}function $h(t,e){return t&&(t[e]||t[cn(e)]||t[va(cn(e))])}function Hs(t,e,n,r){let s;const i=n&&n[r];if(J(t)||Ke(t)){s=new Array(t.length);for(let o=0,a=t.length;o<a;o++)s[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,i&&i[o])}else if(Le(t))if(t[Symbol.iterator])s=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];s[a]=e(t[c],c,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}function ui(t,e,n={},r,s){if(vt.isCE||vt.parent&&Qs(vt.parent)&&vt.parent.isCE)return e!=="default"&&(n.name=e),ne("slot",n,r&&r());let i=t[e];i&&i._c&&(i._d=!1),oe();const o=i&&Bp(i(n)),a=ls(He,{key:n.key||o&&o.key||`_${e}`},o||(r?r():[]),o&&t._===1?64:-2);return!s&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function Bp(t){return t.some(e=>Fo(e)?!(e.type===Qn||e.type===He&&!Bp(e.children)):!0)?t:null}function lw(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:Eo(r)]=t[r];return n}const rc=t=>t?em(t)?Pa(t)||t.proxy:rc(t.parent):null,Xs=dt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>rc(t.parent),$root:t=>rc(t.root),$emit:t=>t.emit,$options:t=>hu(t),$forceUpdate:t=>t.f||(t.f=()=>cu(t.update)),$nextTick:t=>t.n||(t.n=lu.bind(t.proxy)),$watch:t=>Kv.bind(t)}),fl=(t,e)=>t!==xe&&!t.__isScriptSetup&&_e(t,e),cw={get({_:t},e){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(fl(r,e))return o[e]=1,r[e];if(s!==xe&&_e(s,e))return o[e]=2,s[e];if((c=t.propsOptions[0])&&_e(c,e))return o[e]=3,i[e];if(n!==xe&&_e(n,e))return o[e]=4,n[e];sc&&(o[e]=0)}}const u=Xs[e];let h,d;if(u)return e==="$attrs"&&Rt(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==xe&&_e(n,e))return o[e]=4,n[e];if(d=l.config.globalProperties,_e(d,e))return d[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return fl(s,e)?(s[e]=n,!0):r!==xe&&_e(r,e)?(r[e]=n,!0):_e(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==xe&&_e(t,o)||fl(e,o)||(a=i[0])&&_e(a,o)||_e(r,o)||_e(Xs,o)||_e(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:_e(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Fh(t){return J(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let sc=!0;function uw(t){const e=hu(t),n=t.proxy,r=t.ctx;sc=!1,e.beforeCreate&&Uh(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:_,activated:v,deactivated:b,beforeDestroy:A,beforeUnmount:R,destroyed:F,unmounted:N,render:re,renderTracked:G,renderTriggered:le,errorCaptured:Z,serverPrefetch:ue,expose:be,inheritAttrs:j,components:L,directives:Q,filters:q}=e;if(c&&hw(c,r,null),o)for(const ce in o){const ie=o[ce];se(ie)&&(r[ce]=ie.bind(n))}if(s){const ce=s.call(n,n);Le(ce)&&(t.data=on(ce))}if(sc=!0,i)for(const ce in i){const ie=i[ce],Ue=se(ie)?ie.bind(n,n):se(ie.get)?ie.get.bind(n,n):qt,ft=!se(ie)&&se(ie.set)?ie.set.bind(n):qt,rt=Xe({get:Ue,set:ft});Object.defineProperty(r,ce,{enumerable:!0,configurable:!0,get:()=>rt.value,set:Ae=>rt.value=Ae})}if(a)for(const ce in a)Hp(a[ce],r,n,ce);if(l){const ce=se(l)?l.call(n):l;Reflect.ownKeys(ce).forEach(ie=>{xt(ie,ce[ie])})}u&&Uh(u,t,"c");function ye(ce,ie){J(ie)?ie.forEach(Ue=>ce(Ue.bind(n))):ie&&ce(ie.bind(n))}if(ye(Yv,h),ye(Up,d),ye(Zv,f),ye(ew,_),ye(Qv,v),ye(Xv,b),ye(iw,Z),ye(sw,G),ye(rw,le),ye(tw,R),ye(uu,N),ye(nw,ue),J(be))if(be.length){const ce=t.exposed||(t.exposed={});be.forEach(ie=>{Object.defineProperty(ce,ie,{get:()=>n[ie],set:Ue=>n[ie]=Ue})})}else t.exposed||(t.exposed={});re&&t.render===qt&&(t.render=re),j!=null&&(t.inheritAttrs=j),L&&(t.components=L),Q&&(t.directives=Q)}function hw(t,e,n=qt){J(t)&&(t=ic(t));for(const r in t){const s=t[r];let i;Le(s)?"default"in s?i=ut(s.from||r,s.default,!0):i=ut(s.from||r):i=ut(s),yt(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Uh(t,e,n){Wt(J(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Hp(t,e,n,r){const s=r.includes(".")?Vp(n,r):()=>n[r];if(Ke(t)){const i=e[t];se(i)&&vn(s,i)}else if(se(t))vn(s,t.bind(n));else if(Le(t))if(J(t))t.forEach(i=>Hp(i,e,n,r));else{const i=se(t.handler)?t.handler.bind(n):e[t.handler];se(i)&&vn(s,i,t)}}function hu(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!n&&!r?l=e:(l={},s.length&&s.forEach(c=>Vo(l,c,o,!0)),Vo(l,e,o)),Le(e)&&i.set(e,l),l}function Vo(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Vo(t,i,n,!0),s&&s.forEach(o=>Vo(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=dw[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const dw={data:jh,props:Bh,emits:Bh,methods:zs,computed:zs,beforeCreate:It,created:It,beforeMount:It,mounted:It,beforeUpdate:It,updated:It,beforeDestroy:It,beforeUnmount:It,destroyed:It,unmounted:It,activated:It,deactivated:It,errorCaptured:It,serverPrefetch:It,components:zs,directives:zs,watch:pw,provide:jh,inject:fw};function jh(t,e){return e?t?function(){return dt(se(t)?t.call(this,this):t,se(e)?e.call(this,this):e)}:e:t}function fw(t,e){return zs(ic(t),ic(e))}function ic(t){if(J(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function It(t,e){return t?[...new Set([].concat(t,e))]:e}function zs(t,e){return t?dt(Object.create(null),t,e):e}function Bh(t,e){return t?J(t)&&J(e)?[...new Set([...t,...e])]:dt(Object.create(null),Fh(t),Fh(e??{})):e}function pw(t,e){if(!t)return e;if(!e)return t;const n=dt(Object.create(null),t);for(const r in e)n[r]=It(t[r],e[r]);return n}function zp(){return{app:null,config:{isNativeTag:Xy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let mw=0;function gw(t,e){return function(r,s=null){se(r)||(r=dt({},r)),s!=null&&!Le(s)&&(s=null);const i=zp(),o=new WeakSet;let a=!1;const l=i.app={_uid:mw++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:jw,get config(){return i.config},set config(c){},use(c,...u){return o.has(c)||(c&&se(c.install)?(o.add(c),c.install(l,...u)):se(c)&&(o.add(c),c(l,...u))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,u){return u?(i.components[c]=u,l):i.components[c]},directive(c,u){return u?(i.directives[c]=u,l):i.directives[c]},mount(c,u,h){if(!a){const d=ne(r,s);return d.appContext=i,u&&e?e(d,c):t(d,c,h),a=!0,l._container=c,c.__vue_app__=l,Pa(d.component)||d.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return i.provides[c]=u,l},runWithContext(c){$o=l;try{return c()}finally{$o=null}}};return l}}let $o=null;function xt(t,e){if(lt){let n=lt.provides;const r=lt.parent&&lt.parent.provides;r===n&&(n=lt.provides=Object.create(r)),n[t]=e}}function ut(t,e,n=!1){const r=lt||vt;if(r||$o){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:$o._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&se(e)?e.call(r&&r.proxy):e}}function _w(t,e,n,r=!1){const s={},i={};Do(i,Ra,1),t.propsDefaults=Object.create(null),qp(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Tp(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function yw(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=we(s),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(Ta(t.emitsOptions,d))continue;const f=e[d];if(l)if(_e(i,d))f!==i[d]&&(i[d]=f,c=!0);else{const _=cn(d);s[_]=oc(l,a,_,f,t,!1)}else f!==i[d]&&(i[d]=f,c=!0)}}}else{qp(t,e,s,i)&&(c=!0);let u;for(const h in a)(!e||!_e(e,h)&&((u=ws(h))===h||!_e(e,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=oc(l,a,h,void 0,t,!0)):delete s[h]);if(i!==a)for(const h in i)(!e||!_e(e,h))&&(delete i[h],c=!0)}c&&yn(t,"set","$attrs")}function qp(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(wo(l))continue;const c=e[l];let u;s&&_e(s,u=cn(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:Ta(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=we(n),c=a||xe;for(let u=0;u<i.length;u++){const h=i[u];n[h]=oc(s,l,h,c[h],t,!_e(c,h))}}return o}function oc(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=_e(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&se(l)){const{propsDefaults:c}=s;n in c?r=c[n]:(cs(s),r=c[n]=l.call(null,e),gr())}else r=l}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===ws(n))&&(r=!0))}return r}function Wp(t,e,n=!1){const r=e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!se(t)){const u=h=>{l=!0;const[d,f]=Wp(h,e,!0);dt(o,d),f&&a.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return Le(t)&&r.set(t,Jr),Jr;if(J(i))for(let u=0;u<i.length;u++){const h=cn(i[u]);Hh(h)&&(o[h]=xe)}else if(i)for(const u in i){const h=cn(u);if(Hh(h)){const d=i[u],f=o[h]=J(d)||se(d)?{type:d}:dt({},d);if(f){const _=Wh(Boolean,f.type),v=Wh(String,f.type);f[0]=_>-1,f[1]=v<0||_<v,(_>-1||_e(f,"default"))&&a.push(h)}}}const c=[o,a];return Le(t)&&r.set(t,c),c}function Hh(t){return t[0]!=="$"}function zh(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function qh(t,e){return zh(t)===zh(e)}function Wh(t,e){return J(e)?e.findIndex(n=>qh(n,t)):se(e)&&qh(e,t)?0:-1}const Gp=t=>t[0]==="_"||t==="$stable",du=t=>J(t)?t.map(Zt):[Zt(t)],vw=(t,e,n)=>{if(e._n)return e;const r=We((...s)=>du(e(...s)),n);return r._c=!1,r},Kp=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Gp(s))continue;const i=t[s];if(se(i))e[s]=vw(s,i,r);else if(i!=null){const o=du(i);e[s]=()=>o}}},Qp=(t,e)=>{const n=du(e);t.slots.default=()=>n},ww=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=we(e),Do(e,"_",n)):Kp(e,t.slots={})}else t.slots={},e&&Qp(t,e);Do(t.slots,Ra,1)},Ew=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=xe;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(dt(s,e),!n&&a===1&&delete s._):(i=!e.$stable,Kp(e,s)),o=e}else e&&(Qp(t,e),o={default:1});if(i)for(const a in s)!Gp(a)&&o[a]==null&&delete s[a]};function ac(t,e,n,r,s=!1){if(J(t)){t.forEach((d,f)=>ac(d,e&&(J(e)?e[f]:e),n,r,s));return}if(Qs(r)&&!s)return;const i=r.shapeFlag&4?Pa(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===xe?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(Ke(c)?(u[c]=null,_e(h,c)&&(h[c]=null)):yt(c)&&(c.value=null)),se(l))Hn(l,a,12,[o,u]);else{const d=Ke(l),f=yt(l);if(d||f){const _=()=>{if(t.f){const v=d?_e(h,l)?h[l]:u[l]:l.value;s?J(v)&&Zc(v,i):J(v)?v.includes(i)||v.push(i):d?(u[l]=[i],_e(h,l)&&(h[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else d?(u[l]=o,_e(h,l)&&(h[l]=o)):f&&(l.value=o,t.k&&(u[t.k]=o))};o?(_.id=-1,St(_,n)):_()}}}const St=Gv;function bw(t){return Tw(t)}function Tw(t,e){const n=Jl();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=qt,insertStaticContent:_}=t,v=(p,m,g,w=null,E=null,S=null,$=!1,x=null,M=!!m.dynamicChildren)=>{if(p===m)return;p&&!xs(p,m)&&(w=T(p),Ae(p,E,S,!0),p=null),m.patchFlag===-2&&(M=!1,m.dynamicChildren=null);const{type:P,ref:H,shapeFlag:B}=m;switch(P){case Sa:b(p,m,g,w);break;case Qn:A(p,m,g,w);break;case To:p==null&&R(m,g,w,$);break;case He:L(p,m,g,w,E,S,$,x,M);break;default:B&1?re(p,m,g,w,E,S,$,x,M):B&6?Q(p,m,g,w,E,S,$,x,M):(B&64||B&128)&&P.process(p,m,g,w,E,S,$,x,M,O)}H!=null&&E&&ac(H,p&&p.ref,S,m||p,!m)},b=(p,m,g,w)=>{if(p==null)r(m.el=a(m.children),g,w);else{const E=m.el=p.el;m.children!==p.children&&c(E,m.children)}},A=(p,m,g,w)=>{p==null?r(m.el=l(m.children||""),g,w):m.el=p.el},R=(p,m,g,w)=>{[p.el,p.anchor]=_(p.children,m,g,w,p.el,p.anchor)},F=({el:p,anchor:m},g,w)=>{let E;for(;p&&p!==m;)E=d(p),r(p,g,w),p=E;r(m,g,w)},N=({el:p,anchor:m})=>{let g;for(;p&&p!==m;)g=d(p),s(p),p=g;s(m)},re=(p,m,g,w,E,S,$,x,M)=>{$=$||m.type==="svg",p==null?G(m,g,w,E,S,$,x,M):ue(p,m,E,S,$,x,M)},G=(p,m,g,w,E,S,$,x)=>{let M,P;const{type:H,props:B,shapeFlag:W,transition:te,dirs:he}=p;if(M=p.el=o(p.type,S,B&&B.is,B),W&8?u(M,p.children):W&16&&Z(p.children,M,null,w,E,S&&H!=="foreignObject",$,x),he&&ir(p,null,w,"created"),le(M,p,p.scopeId,$,w),B){for(const Se in B)Se!=="value"&&!wo(Se)&&i(M,Se,null,B[Se],S,p.children,w,E,Ee);"value"in B&&i(M,"value",null,B.value),(P=B.onVnodeBeforeMount)&&Yt(P,w,p)}he&&ir(p,null,w,"beforeMount");const Pe=Iw(E,te);Pe&&te.beforeEnter(M),r(M,m,g),((P=B&&B.onVnodeMounted)||Pe||he)&&St(()=>{P&&Yt(P,w,p),Pe&&te.enter(M),he&&ir(p,null,w,"mounted")},E)},le=(p,m,g,w,E)=>{if(g&&f(p,g),w)for(let S=0;S<w.length;S++)f(p,w[S]);if(E){let S=E.subTree;if(m===S){const $=E.vnode;le(p,$,$.scopeId,$.slotScopeIds,E.parent)}}},Z=(p,m,g,w,E,S,$,x,M=0)=>{for(let P=M;P<p.length;P++){const H=p[P]=x?Nn(p[P]):Zt(p[P]);v(null,H,m,g,w,E,S,$,x)}},ue=(p,m,g,w,E,S,$)=>{const x=m.el=p.el;let{patchFlag:M,dynamicChildren:P,dirs:H}=m;M|=p.patchFlag&16;const B=p.props||xe,W=m.props||xe;let te;g&&or(g,!1),(te=W.onVnodeBeforeUpdate)&&Yt(te,g,m,p),H&&ir(m,p,g,"beforeUpdate"),g&&or(g,!0);const he=E&&m.type!=="foreignObject";if(P?be(p.dynamicChildren,P,x,g,w,he,S):$||ie(p,m,x,null,g,w,he,S,!1),M>0){if(M&16)j(x,m,B,W,g,w,E);else if(M&2&&B.class!==W.class&&i(x,"class",null,W.class,E),M&4&&i(x,"style",B.style,W.style,E),M&8){const Pe=m.dynamicProps;for(let Se=0;Se<Pe.length;Se++){const je=Pe[Se],$t=B[je],Fr=W[je];(Fr!==$t||je==="value")&&i(x,je,$t,Fr,E,p.children,g,w,Ee)}}M&1&&p.children!==m.children&&u(x,m.children)}else!$&&P==null&&j(x,m,B,W,g,w,E);((te=W.onVnodeUpdated)||H)&&St(()=>{te&&Yt(te,g,m,p),H&&ir(m,p,g,"updated")},w)},be=(p,m,g,w,E,S,$)=>{for(let x=0;x<m.length;x++){const M=p[x],P=m[x],H=M.el&&(M.type===He||!xs(M,P)||M.shapeFlag&70)?h(M.el):g;v(M,P,H,null,w,E,S,$,!0)}},j=(p,m,g,w,E,S,$)=>{if(g!==w){if(g!==xe)for(const x in g)!wo(x)&&!(x in w)&&i(p,x,g[x],null,$,m.children,E,S,Ee);for(const x in w){if(wo(x))continue;const M=w[x],P=g[x];M!==P&&x!=="value"&&i(p,x,P,M,$,m.children,E,S,Ee)}"value"in w&&i(p,"value",g.value,w.value)}},L=(p,m,g,w,E,S,$,x,M)=>{const P=m.el=p?p.el:a(""),H=m.anchor=p?p.anchor:a("");let{patchFlag:B,dynamicChildren:W,slotScopeIds:te}=m;te&&(x=x?x.concat(te):te),p==null?(r(P,g,w),r(H,g,w),Z(m.children,g,H,E,S,$,x,M)):B>0&&B&64&&W&&p.dynamicChildren?(be(p.dynamicChildren,W,g,E,S,$,x),(m.key!=null||E&&m===E.subTree)&&Xp(p,m,!0)):ie(p,m,g,H,E,S,$,x,M)},Q=(p,m,g,w,E,S,$,x,M)=>{m.slotScopeIds=x,p==null?m.shapeFlag&512?E.ctx.activate(m,g,w,$,M):q(m,g,w,E,S,$,M):Oe(p,m,M)},q=(p,m,g,w,E,S,$)=>{const x=p.component=xw(p,w,E);if($p(p)&&(x.ctx.renderer=O),Nw(x),x.asyncDep){if(E&&E.registerDep(x,ye),!p.el){const M=x.subTree=ne(Qn);A(null,M,m,g)}return}ye(x,p,m,g,E,S,$)},Oe=(p,m,g)=>{const w=m.component=p.component;if(zv(p,m,g))if(w.asyncDep&&!w.asyncResolved){ce(w,m,g);return}else w.next=m,$v(w.update),w.update();else m.el=p.el,w.vnode=m},ye=(p,m,g,w,E,S,$)=>{const x=()=>{if(p.isMounted){let{next:H,bu:B,u:W,parent:te,vnode:he}=p,Pe=H,Se;or(p,!1),H?(H.el=he.el,ce(p,H,$)):H=he,B&&bo(B),(Se=H.props&&H.props.onVnodeBeforeUpdate)&&Yt(Se,te,H,he),or(p,!0);const je=dl(p),$t=p.subTree;p.subTree=je,v($t,je,h($t.el),T($t),p,E,S),H.el=je.el,Pe===null&&qv(p,je.el),W&&St(W,E),(Se=H.props&&H.props.onVnodeUpdated)&&St(()=>Yt(Se,te,H,he),E)}else{let H;const{el:B,props:W}=m,{bm:te,m:he,parent:Pe}=p,Se=Qs(m);if(or(p,!1),te&&bo(te),!Se&&(H=W&&W.onVnodeBeforeMount)&&Yt(H,Pe,m),or(p,!0),B&&ee){const je=()=>{p.subTree=dl(p),ee(B,p.subTree,p,E,null)};Se?m.type.__asyncLoader().then(()=>!p.isUnmounted&&je()):je()}else{const je=p.subTree=dl(p);v(null,je,g,w,p,E,S),m.el=je.el}if(he&&St(he,E),!Se&&(H=W&&W.onVnodeMounted)){const je=m;St(()=>Yt(H,Pe,je),E)}(m.shapeFlag&256||Pe&&Qs(Pe.vnode)&&Pe.vnode.shapeFlag&256)&&p.a&&St(p.a,E),p.isMounted=!0,m=g=w=null}},M=p.effect=new nu(x,()=>cu(P),p.scope),P=p.update=()=>M.run();P.id=p.uid,or(p,!0),P()},ce=(p,m,g)=>{m.component=p;const w=p.vnode.props;p.vnode=m,p.next=null,yw(p,m.props,w,g),Ew(p,m.children,g),Es(),Lh(),bs()},ie=(p,m,g,w,E,S,$,x,M=!1)=>{const P=p&&p.children,H=p?p.shapeFlag:0,B=m.children,{patchFlag:W,shapeFlag:te}=m;if(W>0){if(W&128){ft(P,B,g,w,E,S,$,x,M);return}else if(W&256){Ue(P,B,g,w,E,S,$,x,M);return}}te&8?(H&16&&Ee(P,E,S),B!==P&&u(g,B)):H&16?te&16?ft(P,B,g,w,E,S,$,x,M):Ee(P,E,S,!0):(H&8&&u(g,""),te&16&&Z(B,g,w,E,S,$,x,M))},Ue=(p,m,g,w,E,S,$,x,M)=>{p=p||Jr,m=m||Jr;const P=p.length,H=m.length,B=Math.min(P,H);let W;for(W=0;W<B;W++){const te=m[W]=M?Nn(m[W]):Zt(m[W]);v(p[W],te,g,null,E,S,$,x,M)}P>H?Ee(p,E,S,!0,!1,B):Z(m,g,w,E,S,$,x,M,B)},ft=(p,m,g,w,E,S,$,x,M)=>{let P=0;const H=m.length;let B=p.length-1,W=H-1;for(;P<=B&&P<=W;){const te=p[P],he=m[P]=M?Nn(m[P]):Zt(m[P]);if(xs(te,he))v(te,he,g,null,E,S,$,x,M);else break;P++}for(;P<=B&&P<=W;){const te=p[B],he=m[W]=M?Nn(m[W]):Zt(m[W]);if(xs(te,he))v(te,he,g,null,E,S,$,x,M);else break;B--,W--}if(P>B){if(P<=W){const te=W+1,he=te<H?m[te].el:w;for(;P<=W;)v(null,m[P]=M?Nn(m[P]):Zt(m[P]),g,he,E,S,$,x,M),P++}}else if(P>W)for(;P<=B;)Ae(p[P],E,S,!0),P++;else{const te=P,he=P,Pe=new Map;for(P=he;P<=W;P++){const kt=m[P]=M?Nn(m[P]):Zt(m[P]);kt.key!=null&&Pe.set(kt.key,P)}let Se,je=0;const $t=W-he+1;let Fr=!1,Ah=0;const ks=new Array($t);for(P=0;P<$t;P++)ks[P]=0;for(P=te;P<=B;P++){const kt=p[P];if(je>=$t){Ae(kt,E,S,!0);continue}let Jt;if(kt.key!=null)Jt=Pe.get(kt.key);else for(Se=he;Se<=W;Se++)if(ks[Se-he]===0&&xs(kt,m[Se])){Jt=Se;break}Jt===void 0?Ae(kt,E,S,!0):(ks[Jt-he]=P+1,Jt>=Ah?Ah=Jt:Fr=!0,v(kt,m[Jt],g,null,E,S,$,x,M),je++)}const Sh=Fr?Aw(ks):Jr;for(Se=Sh.length-1,P=$t-1;P>=0;P--){const kt=he+P,Jt=m[kt],Rh=kt+1<H?m[kt+1].el:w;ks[P]===0?v(null,Jt,g,Rh,E,S,$,x,M):Fr&&(Se<0||P!==Sh[Se]?rt(Jt,g,Rh,2):Se--)}}},rt=(p,m,g,w,E=null)=>{const{el:S,type:$,transition:x,children:M,shapeFlag:P}=p;if(P&6){rt(p.component.subTree,m,g,w);return}if(P&128){p.suspense.move(m,g,w);return}if(P&64){$.move(p,m,g,O);return}if($===He){r(S,m,g);for(let B=0;B<M.length;B++)rt(M[B],m,g,w);r(p.anchor,m,g);return}if($===To){F(p,m,g);return}if(w!==2&&P&1&&x)if(w===0)x.beforeEnter(S),r(S,m,g),St(()=>x.enter(S),E);else{const{leave:B,delayLeave:W,afterLeave:te}=x,he=()=>r(S,m,g),Pe=()=>{B(S,()=>{he(),te&&te()})};W?W(S,he,Pe):Pe()}else r(S,m,g)},Ae=(p,m,g,w=!1,E=!1)=>{const{type:S,props:$,ref:x,children:M,dynamicChildren:P,shapeFlag:H,patchFlag:B,dirs:W}=p;if(x!=null&&ac(x,null,g,p,!0),H&256){m.ctx.deactivate(p);return}const te=H&1&&W,he=!Qs(p);let Pe;if(he&&(Pe=$&&$.onVnodeBeforeUnmount)&&Yt(Pe,m,p),H&6)qe(p.component,g,w);else{if(H&128){p.suspense.unmount(g,w);return}te&&ir(p,null,m,"beforeUnmount"),H&64?p.type.remove(p,m,g,E,O,w):P&&(S!==He||B>0&&B&64)?Ee(P,m,g,!1,!0):(S===He&&B&384||!E&&H&16)&&Ee(M,m,g),w&&ke(p)}(he&&(Pe=$&&$.onVnodeUnmounted)||te)&&St(()=>{Pe&&Yt(Pe,m,p),te&&ir(p,null,m,"unmounted")},g)},ke=p=>{const{type:m,el:g,anchor:w,transition:E}=p;if(m===He){Me(g,w);return}if(m===To){N(p);return}const S=()=>{s(g),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(p.shapeFlag&1&&E&&!E.persisted){const{leave:$,delayLeave:x}=E,M=()=>$(g,S);x?x(p.el,S,M):M()}else S()},Me=(p,m)=>{let g;for(;p!==m;)g=d(p),s(p),p=g;s(m)},qe=(p,m,g)=>{const{bum:w,scope:E,update:S,subTree:$,um:x}=p;w&&bo(w),E.stop(),S&&(S.active=!1,Ae($,p,m,g)),x&&St(x,m),St(()=>{p.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},Ee=(p,m,g,w=!1,E=!1,S=0)=>{for(let $=S;$<p.length;$++)Ae(p[$],m,g,w,E)},T=p=>p.shapeFlag&6?T(p.component.subTree):p.shapeFlag&128?p.suspense.next():d(p.anchor||p.el),D=(p,m,g)=>{p==null?m._vnode&&Ae(m._vnode,null,null,!0):v(m._vnode||null,p,m,null,null,null,g),Lh(),Np(),m._vnode=p},O={p:v,um:Ae,m:rt,r:ke,mt:q,mc:Z,pc:ie,pbc:be,n:T,o:t};let U,ee;return e&&([U,ee]=e(O)),{render:D,hydrate:U,createApp:gw(D,U)}}function or({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function Iw(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Xp(t,e,n=!1){const r=t.children,s=e.children;if(J(r)&&J(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Nn(s[i]),a.el=o.el),n||Xp(o,a)),a.type===Sa&&(a.el=o.el)}}function Aw(t){const e=t.slice(),n=[0];let r,s,i,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(s=n[n.length-1],t[s]<c){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const Sw=t=>t.__isTeleport,He=Symbol.for("v-fgt"),Sa=Symbol.for("v-txt"),Qn=Symbol.for("v-cmt"),To=Symbol.for("v-stc"),Js=[];let Ht=null;function oe(t=!1){Js.push(Ht=t?null:[])}function Rw(){Js.pop(),Ht=Js[Js.length-1]||null}let hi=1;function Gh(t){hi+=t}function Jp(t){return t.dynamicChildren=hi>0?Ht||Jr:null,Rw(),hi>0&&Ht&&Ht.push(t),t}function me(t,e,n,r,s,i){return Jp(y(t,e,n,r,s,i,!0))}function ls(t,e,n,r,s){return Jp(ne(t,e,n,r,s,!0))}function Fo(t){return t?t.__v_isVNode===!0:!1}function xs(t,e){return t.type===e.type&&t.key===e.key}const Ra="__vInternal",Yp=({key:t})=>t??null,Io=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Ke(t)||yt(t)||se(t)?{i:vt,r:t,k:e,f:!!n}:t:null);function y(t,e=null,n=null,r=0,s=null,i=t===He?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Yp(e),ref:e&&Io(e),scopeId:Ia,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:vt};return a?(fu(l,n),i&128&&t.normalize(l)):n&&(l.shapeFlag|=Ke(n)?8:16),hi>0&&!o&&Ht&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ht.push(l),l}const ne=Pw;function Pw(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===ow)&&(t=Qn),Fo(t)){const a=Xn(t,e,!0);return n&&fu(a,n),hi>0&&!i&&Ht&&(a.shapeFlag&6?Ht[Ht.indexOf(t)]=a:Ht.push(a)),a.patchFlag|=-2,a}if($w(t)&&(t=t.__vccOpts),e){e=Cw(e);let{class:a,style:l}=e;a&&!Ke(a)&&(e.class=os(a)),Le(l)&&(Ap(l)&&!J(l)&&(l=dt({},l)),e.style=wa(l))}const o=Ke(t)?1:Wv(t)?128:Sw(t)?64:Le(t)?4:se(t)?2:0;return y(t,e,n,r,s,o,i,!0)}function Cw(t){return t?Ap(t)||Ra in t?dt({},t):t:null}function Xn(t,e,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=t,a=e?Zp(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Yp(a),ref:e&&e.ref?n&&s?J(s)?s.concat(Io(e)):[s,Io(e)]:Io(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==He?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Xn(t.ssContent),ssFallback:t.ssFallback&&Xn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function ve(t=" ",e=0){return ne(Sa,null,t,e)}function er(t,e){const n=ne(To,null,t);return n.staticCount=e,n}function Un(t="",e=!1){return e?(oe(),ls(Qn,null,t)):ne(Qn,null,t)}function Zt(t){return t==null||typeof t=="boolean"?ne(Qn):J(t)?ne(He,null,t.slice()):typeof t=="object"?Nn(t):ne(Sa,null,String(t))}function Nn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Xn(t)}function fu(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(J(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),fu(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(Ra in e)?e._ctx=vt:s===3&&vt&&(vt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else se(e)?(e={default:e,_ctx:vt},n=32):(e=String(e),r&64?(n=16,e=[ve(e)]):n=8);t.children=e,t.shapeFlag|=n}function Zp(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=os([e.class,r.class]));else if(s==="style")e.style=wa([e.style,r.style]);else if(ma(s)){const i=e[s],o=r[s];o&&i!==o&&!(J(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Yt(t,e,n,r=null){Wt(t,e,7,[n,r])}const Ow=zp();let kw=0;function xw(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||Ow,i={uid:kw++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new dp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Wp(r,s),emitsOptions:Mp(r,s),emit:null,emitted:null,propsDefaults:xe,inheritAttrs:r.inheritAttrs,ctx:xe,data:xe,props:xe,attrs:xe,slots:xe,refs:xe,setupState:xe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=jv.bind(null,i),t.ce&&t.ce(i),i}let lt=null,pu,Ur,Kh="__VUE_INSTANCE_SETTERS__";(Ur=Jl()[Kh])||(Ur=Jl()[Kh]=[]),Ur.push(t=>lt=t),pu=t=>{Ur.length>1?Ur.forEach(e=>e(t)):Ur[0](t)};const cs=t=>{pu(t),t.scope.on()},gr=()=>{lt&&lt.scope.off(),pu(null)};function em(t){return t.vnode.shapeFlag&4}let di=!1;function Nw(t,e=!1){di=e;const{props:n,children:r}=t.vnode,s=em(t);_w(t,n,s,e),ww(t,r);const i=s?Dw(t,e):void 0;return di=!1,i}function Dw(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Sp(new Proxy(t.ctx,cw));const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?Lw(t):null;cs(t),Es();const i=Hn(r,t,0,[t.props,s]);if(bs(),gr(),ap(i)){if(i.then(gr,gr),e)return i.then(o=>{Qh(t,o,e)}).catch(o=>{ba(o,t,0)});t.asyncDep=i}else Qh(t,i,e)}else tm(t,e)}function Qh(t,e,n){se(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Le(e)&&(t.setupState=Op(e)),tm(t,n)}let Xh;function tm(t,e,n){const r=t.type;if(!t.render){if(!e&&Xh&&!r.render){const s=r.template||hu(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=r,c=dt(dt({isCustomElement:i,delimiters:a},o),l);r.render=Xh(s,c)}}t.render=r.render||qt}{cs(t),Es();try{uw(t)}finally{bs(),gr()}}}function Mw(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Rt(t,"get","$attrs"),e[n]}}))}function Lw(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return Mw(t)},slots:t.slots,emit:t.emit,expose:e}}function Pa(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Op(Sp(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Xs)return Xs[n](t)},has(e,n){return n in e||n in Xs}}))}function Vw(t,e=!0){return se(t)?t.displayName||t.name:t.name||e&&t.__name}function $w(t){return se(t)&&"__vccOpts"in t}const Xe=(t,e)=>Mv(t,e,di);function jn(t,e,n){const r=arguments.length;return r===2?Le(e)&&!J(e)?Fo(e)?ne(t,null,[e]):ne(t,e):ne(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Fo(n)&&(n=[n]),ne(t,e,n))}const Fw=Symbol.for("v-scx"),Uw=()=>ut(Fw),jw="3.3.7",Bw="http://www.w3.org/2000/svg",ur=typeof document<"u"?document:null,Jh=ur&&ur.createElement("template"),Hw={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e?ur.createElementNS(Bw,t):ur.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>ur.createTextNode(t),createComment:t=>ur.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ur.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Jh.innerHTML=r?`<svg>${t}</svg>`:t;const a=Jh.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},zw=Symbol("_vtc");function qw(t,e,n){const r=t[zw];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Ww=Symbol("_vod");function Gw(t,e,n){const r=t.style,s=Ke(n);if(n&&!s){if(e&&!Ke(e))for(const i in e)n[i]==null&&lc(r,i,"");for(const i in n)lc(r,i,n[i])}else{const i=r.display;s?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),Ww in t&&(r.display=i)}}const Yh=/\s*!important$/;function lc(t,e,n){if(J(n))n.forEach(r=>lc(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Kw(t,e);Yh.test(n)?t.setProperty(ws(r),n.replace(Yh,""),"important"):t[r]=n}}const Zh=["Webkit","Moz","ms"],pl={};function Kw(t,e){const n=pl[e];if(n)return n;let r=cn(e);if(r!=="filter"&&r in t)return pl[e]=r;r=va(r);for(let s=0;s<Zh.length;s++){const i=Zh[s]+r;if(i in t)return pl[e]=i}return e}const ed="http://www.w3.org/1999/xlink";function Qw(t,e,n,r,s){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(ed,e.slice(6,e.length)):t.setAttributeNS(ed,e,n);else{const i=av(e);n==null||i&&!up(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function Xw(t,e,n,r,s,i,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,s,i),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const c=a==="OPTION"?t.getAttribute("value"):t.value,u=n??"";c!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=up(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function qr(t,e,n,r){t.addEventListener(e,n,r)}function Jw(t,e,n,r){t.removeEventListener(e,n,r)}const td=Symbol("_vei");function Yw(t,e,n,r,s=null){const i=t[td]||(t[td]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=Zw(e);if(r){const c=i[e]=nE(r,s);qr(t,a,c,l)}else o&&(Jw(t,a,o,l),i[e]=void 0)}}const nd=/(?:Once|Passive|Capture)$/;function Zw(t){let e;if(nd.test(t)){e={};let r;for(;r=t.match(nd);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ws(t.slice(2)),e]}let ml=0;const eE=Promise.resolve(),tE=()=>ml||(eE.then(()=>ml=0),ml=Date.now());function nE(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Wt(rE(r,n.value),e,5,[r])};return n.value=t,n.attached=tE(),n}function rE(t,e){if(J(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const rd=/^on[a-z]/,sE=(t,e,n,r,s=!1,i,o,a,l)=>{e==="class"?qw(t,r,s):e==="style"?Gw(t,n,r):ma(e)?Yc(e)||Yw(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):iE(t,e,r,s))?Xw(t,e,r,i,o,a,l):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Qw(t,e,r,s))};function iE(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&rd.test(e)&&se(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||rd.test(e)&&Ke(n)?!1:e in t}const sd=t=>{const e=t.props["onUpdate:modelValue"]||!1;return J(e)?n=>bo(e,n):e};function oE(t){t.target.composing=!0}function id(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const gl=Symbol("_assign"),Wr={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[gl]=sd(s);const i=r||s.props&&s.props.type==="number";qr(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Xl(a)),t[gl](a)}),n&&qr(t,"change",()=>{t.value=t.value.trim()}),e||(qr(t,"compositionstart",oE),qr(t,"compositionend",id),qr(t,"change",id))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:s}},i){if(t[gl]=sd(i),t.composing||document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===e||(s||t.type==="number")&&Xl(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},aE=dt({patchProp:sE},Hw);let od;function lE(){return od||(od=bw(aE))}const cc=(...t)=>{const e=lE().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=cE(r);if(!s)return;const i=e._component;!se(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function cE(t){return Ke(t)?document.querySelector(t):t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},uE=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},rm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let d=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(d=64)),r.push(n[u],n[h],n[d],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nm(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new hE;const d=i<<2|a>>4;if(r.push(d),c!==64){const f=a<<4&240|c>>2;if(r.push(f),h!==64){const _=c<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dE=function(t){const e=nm(t);return rm.encodeByteArray(e,!0)},Uo=function(t){return dE(t).replace(/\./g,"")},sm=function(t){try{return rm.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=()=>fE().__FIREBASE_DEFAULTS__,mE=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sm(t[1]);return e&&JSON.parse(e)},mu=()=>{try{return pE()||mE()||gE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},im=t=>{var e,n;return(n=(e=mu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_E=t=>{const e=im(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},om=()=>{var t;return(t=mu())===null||t===void 0?void 0:t.config},am=t=>{var e;return(e=mu())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Uo(JSON.stringify(n)),Uo(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function EE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TE(){const t=Tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function IE(){try{return typeof indexedDB=="object"}catch{return!1}}function AE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="FirebaseError";class Rn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=SE,Object.setPrototypeOf(this,Rn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ni.prototype.create)}}class Ni{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?RE(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Rn(s,a,r)}}function RE(t,e){return t.replace(PE,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const PE=/\{\$([^}]+)}/g;function CE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function jo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(ad(i)&&ad(o)){if(!jo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function ad(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qs(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ws(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function OE(t,e){const n=new kE(t,e);return n.subscribe.bind(n)}class kE{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xE(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=_l),s.error===void 0&&(s.error=_l),s.complete===void 0&&(s.complete=_l);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xE(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _l(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(t){return t&&t._delegate?t._delegate:t}class br{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ME(e))try{this.getOrInitializeService({instanceIdentifier:lr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=lr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lr){return this.instances.has(e)}getOptions(e=lr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DE(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=lr){return this.component?this.component.multipleInstances?e:lr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DE(t){return t===lr?void 0:t}function ME(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new NE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const VE={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},$E=de.INFO,FE={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},UE=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=FE[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gu{constructor(e){this.name=e,this._logLevel=$E,this._logHandler=UE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const jE=(t,e)=>e.some(n=>t instanceof n);let ld,cd;function BE(){return ld||(ld=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HE(){return cd||(cd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lm=new WeakMap,uc=new WeakMap,cm=new WeakMap,yl=new WeakMap,_u=new WeakMap;function zE(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(zn(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&lm.set(n,t)}).catch(()=>{}),_u.set(e,t),e}function qE(t){if(uc.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});uc.set(t,e)}let hc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return uc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WE(t){hc=t(hc)}function GE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vl(this),e,...n);return cm.set(r,e.sort?e.sort():[e]),zn(r)}:HE().includes(t)?function(...e){return t.apply(vl(this),e),zn(lm.get(this))}:function(...e){return zn(t.apply(vl(this),e))}}function KE(t){return typeof t=="function"?GE(t):(t instanceof IDBTransaction&&qE(t),jE(t,BE())?new Proxy(t,hc):t)}function zn(t){if(t instanceof IDBRequest)return zE(t);if(yl.has(t))return yl.get(t);const e=KE(t);return e!==t&&(yl.set(t,e),_u.set(e,t)),e}const vl=t=>_u.get(t);function QE(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=zn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(zn(o.result),l.oldVersion,l.newVersion,zn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const XE=["get","getKey","getAll","getAllKeys","count"],JE=["put","add","delete","clear"],wl=new Map;function ud(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wl.get(e))return wl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=JE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||XE.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return wl.set(e,i),i}WE(t=>({...t,get:(e,n,r)=>ud(e,n)||t.get(e,n,r),has:(e,n)=>!!ud(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZE(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ZE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dc="@firebase/app",hd="0.9.22";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tr=new gu("@firebase/app"),e0="@firebase/app-compat",t0="@firebase/analytics-compat",n0="@firebase/analytics",r0="@firebase/app-check-compat",s0="@firebase/app-check",i0="@firebase/auth",o0="@firebase/auth-compat",a0="@firebase/database",l0="@firebase/database-compat",c0="@firebase/functions",u0="@firebase/functions-compat",h0="@firebase/installations",d0="@firebase/installations-compat",f0="@firebase/messaging",p0="@firebase/messaging-compat",m0="@firebase/performance",g0="@firebase/performance-compat",_0="@firebase/remote-config",y0="@firebase/remote-config-compat",v0="@firebase/storage",w0="@firebase/storage-compat",E0="@firebase/firestore",b0="@firebase/firestore-compat",T0="firebase",I0="10.5.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc="[DEFAULT]",A0={[dc]:"fire-core",[e0]:"fire-core-compat",[n0]:"fire-analytics",[t0]:"fire-analytics-compat",[s0]:"fire-app-check",[r0]:"fire-app-check-compat",[i0]:"fire-auth",[o0]:"fire-auth-compat",[a0]:"fire-rtdb",[l0]:"fire-rtdb-compat",[c0]:"fire-fn",[u0]:"fire-fn-compat",[h0]:"fire-iid",[d0]:"fire-iid-compat",[f0]:"fire-fcm",[p0]:"fire-fcm-compat",[m0]:"fire-perf",[g0]:"fire-perf-compat",[_0]:"fire-rc",[y0]:"fire-rc-compat",[v0]:"fire-gcs",[w0]:"fire-gcs-compat",[E0]:"fire-fst",[b0]:"fire-fst-compat","fire-js":"fire-js",[T0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new Map,pc=new Map;function S0(t,e){try{t.container.addComponent(e)}catch(n){Tr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function us(t){const e=t.name;if(pc.has(e))return Tr.debug(`There were multiple attempts to register component ${e}.`),!1;pc.set(e,t);for(const n of Bo.values())S0(n,t);return!0}function yu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},qn=new Ni("app","Firebase",R0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=I0;function um(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fc,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw qn.create("bad-app-name",{appName:String(s)});if(n||(n=om()),!n)throw qn.create("no-options");const i=Bo.get(s);if(i){if(jo(n,i.options)&&jo(r,i.config))return i;throw qn.create("duplicate-app",{appName:s})}const o=new LE(s);for(const l of pc.values())o.addComponent(l);const a=new P0(n,r,o);return Bo.set(s,a),a}function hm(t=fc){const e=Bo.get(t);if(!e&&t===fc&&om())return um();if(!e)throw qn.create("no-app",{appName:t});return e}function Wn(t,e,n){var r;let s=(r=A0[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Tr.warn(a.join(" "));return}us(new br(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="firebase-heartbeat-database",O0=1,fi="firebase-heartbeat-store";let El=null;function dm(){return El||(El=QE(C0,O0,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(fi)}}}).catch(t=>{throw qn.create("idb-open",{originalErrorMessage:t.message})})),El}async function k0(t){try{return await(await dm()).transaction(fi).objectStore(fi).get(fm(t))}catch(e){if(e instanceof Rn)Tr.warn(e.message);else{const n=qn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Tr.warn(n.message)}}}async function dd(t,e){try{const r=(await dm()).transaction(fi,"readwrite");await r.objectStore(fi).put(e,fm(t)),await r.done}catch(n){if(n instanceof Rn)Tr.warn(n.message);else{const r=qn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Tr.warn(r.message)}}}function fm(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=1024,N0=30*24*60*60*1e3;class D0{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new L0(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=fd();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=N0}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=fd(),{heartbeatsToSend:n,unsentEntries:r}=M0(this._heartbeatsCache.heartbeats),s=Uo(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function fd(){return new Date().toISOString().substring(0,10)}function M0(t,e=x0){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),pd(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),pd(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class L0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IE()?AE().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await k0(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return dd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return dd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function pd(t){return Uo(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(t){us(new br("platform-logger",e=>new YE(e),"PRIVATE")),us(new br("heartbeat",e=>new D0(e),"PRIVATE")),Wn(dc,hd,t),Wn(dc,hd,"esm2017"),Wn("fire-js","")}V0("");function vu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function pm(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $0=pm,mm=new Ni("auth","Firebase",pm());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new gu("@firebase/auth");function F0(t,...e){Ho.logLevel<=de.WARN&&Ho.warn(`Auth (${Ts}): ${t}`,...e)}function Ao(t,...e){Ho.logLevel<=de.ERROR&&Ho.error(`Auth (${Ts}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t,...e){throw wu(t,...e)}function an(t,...e){return wu(t,...e)}function U0(t,e,n){const r=Object.assign(Object.assign({},$0()),{[e]:n});return new Ni("auth","Firebase",r).create(e,{appName:t.name})}function wu(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mm.create(t,...e)}function X(t,e,...n){if(!t)throw wu(e,...n)}function mn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ao(e),new Error(e)}function Tn(t,e){t||mn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function j0(){return md()==="http:"||md()==="https:"}function md(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(j0()||EE()||"connection"in navigator)?navigator.onLine:!0}function H0(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n){this.shortDelay=e,this.longDelay=n,Tn(n>e,"Short delay should be less than long delay!"),this.isMobile=wE()||bE()}get(){return B0()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t,e){Tn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=new Mi(3e4,6e4);function xr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Nr(t,e,n,r,s={}){return _m(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Di(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),gm.fetch()(ym(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function _m(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},z0),e);try{const s=new G0(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ao(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ao(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ao(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ao(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw U0(t,u,c);Gt(t,u)}}catch(s){if(s instanceof Rn)throw s;Gt(t,"network-request-failed",{message:String(s)})}}async function Li(t,e,n,r,s={}){const i=await Nr(t,e,n,r,s);return"mfaPendingCredential"in i&&Gt(t,"multi-factor-auth-required",{_serverResponse:i}),i}function ym(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Eu(t.config,s):`${t.config.apiScheme}://${s}`}function W0(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class G0{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(an(this.auth,"network-request-failed")),q0.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ao(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=an(t,e,r);return s.customData._tokenResponse=n,s}function gd(t){return t!==void 0&&t.enterprise!==void 0}class K0{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return W0(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function Q0(t,e){return Nr(t,"GET","/v2/recaptchaConfig",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X0(t,e){return Nr(t,"POST","/v1/accounts:delete",e)}async function J0(t,e){return Nr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y0(t,e=!1){const n=Pt(t),r=await n.getIdToken(e),s=bu(r);X(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ys(bl(s.auth_time)),issuedAtTime:Ys(bl(s.iat)),expirationTime:Ys(bl(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function bl(t){return Number(t)*1e3}function bu(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ao("JWT malformed, contained fewer than 3 sections"),null;try{const s=sm(n);return s?JSON.parse(s):(Ao("Failed to decode base64 JWT payload"),null)}catch(s){return Ao("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Z0(t){const e=bu(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Rn&&eb(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function eb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ys(this.lastLoginAt),this.creationTime=Ys(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(t){var e;const n=t.auth,r=await t.getIdToken(),s=await pi(t,J0(n,{idToken:r}));X(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?sb(i.providerUserInfo):[],a=rb(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new vm(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function nb(t){const e=Pt(t);await zo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function rb(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function sb(t){return t.map(e=>{var{providerId:n}=e,r=vu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ib(t,e){const n=await _m(t,{},async()=>{const r=Di({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=ym(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",gm.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return X(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await ib(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new mi;return r&&(X(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(X(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(X(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mi,this.toJSON())}_performRefresh(){return mn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class _r{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=vu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new vm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await pi(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Y0(this,e)}reload(){return nb(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new _r(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zo(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await pi(this,X0(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(s=n.email)!==null&&s!==void 0?s:void 0,f=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,A=(c=n.createdAt)!==null&&c!==void 0?c:void 0,R=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:F,emailVerified:N,isAnonymous:re,providerData:G,stsTokenManager:le}=n;X(F&&le,e,"internal-error");const Z=mi.fromJSON(this.name,le);X(typeof F=="string",e,"internal-error"),Cn(h,e.name),Cn(d,e.name),X(typeof N=="boolean",e,"internal-error"),X(typeof re=="boolean",e,"internal-error"),Cn(f,e.name),Cn(_,e.name),Cn(v,e.name),Cn(b,e.name),Cn(A,e.name),Cn(R,e.name);const ue=new _r({uid:F,auth:e,email:d,emailVerified:N,displayName:h,isAnonymous:re,photoURL:_,phoneNumber:f,tenantId:v,stsTokenManager:Z,createdAt:A,lastLoginAt:R});return G&&Array.isArray(G)&&(ue.providerData=G.map(be=>Object.assign({},be))),b&&(ue._redirectEventId=b),ue}static async _fromIdTokenResponse(e,n,r=!1){const s=new mi;s.updateFromServerResponse(n);const i=new _r({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await zo(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=new Map;function gn(t){Tn(t instanceof Function,"Expected a class definition");let e=_d.get(t);return e?(Tn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_d.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wm.type="NONE";const yd=wm;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function So(t,e,n){return`firebase:${t}:${e}:${n}`}class ns{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=So(this.userKey,s.apiKey,i),this.fullPersistenceKey=So("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?_r._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ns(gn(yd),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||gn(yd);const o=So(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=_r._fromJSON(e,u);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ns(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new ns(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Tm(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Em(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Am(e))return"Blackberry";if(Sm(e))return"Webos";if(Tu(e))return"Safari";if((e.includes("chrome/")||bm(e))&&!e.includes("edge/"))return"Chrome";if(Im(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Em(t=Tt()){return/firefox\//i.test(t)}function Tu(t=Tt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bm(t=Tt()){return/crios\//i.test(t)}function Tm(t=Tt()){return/iemobile/i.test(t)}function Im(t=Tt()){return/android/i.test(t)}function Am(t=Tt()){return/blackberry/i.test(t)}function Sm(t=Tt()){return/webos/i.test(t)}function Ca(t=Tt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ob(t=Tt()){var e;return Ca(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ab(){return TE()&&document.documentMode===10}function Rm(t=Tt()){return Ca(t)||Im(t)||Sm(t)||Am(t)||/windows phone/i.test(t)||Tm(t)}function lb(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t,e=[]){let n;switch(t){case"Browser":n=vd(Tt());break;case"Worker":n=`${vd(Tt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ts}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ub(t,e={}){return Nr(t,"GET","/v2/passwordPolicy",xr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=6;class db{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:hb,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wd(this),this.idTokenSubscription=new wd(this),this.beforeStateQueue=new cb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mm,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ns.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zo(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=H0()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Pt(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(gn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ub(this),n=new db(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ni("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gn(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await ns.create(this,[gn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pm(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&F0(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Dr(t){return Pt(t)}class wd{constructor(e){this.auth=e,this.observer=null,this.addObserver=OE(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Cm(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=an("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",pb().appendChild(r)})}function mb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const gb="https://www.google.com/recaptcha/enterprise.js?render=",_b="recaptcha-enterprise",yb="NO_RECAPTCHA";class vb{constructor(e){this.type=_b,this.auth=Dr(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{Q0(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new K0(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;gd(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(yb)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&gd(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Cm(gb+a).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function Ed(t,e,n,r=!1){const s=new vb(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Om(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Ed(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Ed(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(t,e){const n=yu(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(jo(i,e??{}))return s;Gt(s,"already-initialized")}return n.initialize({options:e})}function Eb(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bb(t,e,n){const r=Dr(t);X(r._canInitEmulator,r,"emulator-config-failed"),X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=km(e),{host:o,port:a}=Tb(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||Ib()}function km(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Tb(t){const e=km(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:bd(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:bd(o)}}}function bd(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Ib(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mn("not implemented")}_getIdTokenResponse(e){return mn("not implemented")}_linkToIdToken(e,n){return mn("not implemented")}_getReauthenticationResolver(e){return mn("not implemented")}}async function Ab(t,e){return Nr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sb(t,e){return Li(t,"POST","/v1/accounts:signInWithPassword",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rb(t,e){return Li(t,"POST","/v1/accounts:signInWithEmailLink",xr(t,e))}async function Pb(t,e){return Li(t,"POST","/v1/accounts:signInWithEmailLink",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Iu{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new gi(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new gi(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Om(e,n,"signInWithPassword",Sb);case"emailLink":return Rb(e,{email:this._email,oobCode:this._password});default:Gt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Ab(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Pb(e,{idToken:n,email:this._email,oobCode:this._password});default:Gt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rs(t,e){return Li(t,"POST","/v1/accounts:signInWithIdp",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="http://localhost";class Ir extends Iu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ir(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=vu(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ir(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return rs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,rs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,rs(e,n)}buildRequest(){const e={requestUri:Cb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Di(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kb(t){const e=qs(Ws(t)).link,n=e?qs(Ws(e)).deep_link_id:null,r=qs(Ws(t)).deep_link_id;return(r?qs(Ws(r)).link:null)||r||n||e||t}class Au{constructor(e){var n,r,s,i,o,a;const l=qs(Ws(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=Ob((s=l.mode)!==null&&s!==void 0?s:null);X(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=kb(e);try{return new Au(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(){this.providerId=Is.PROVIDER_ID}static credential(e,n){return gi._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Au.parseLink(n);return X(r,"argument-error"),gi._fromEmailAndCode(e,r.code,r.tenantId)}}Is.PROVIDER_ID="password";Is.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Is.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends xm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln extends Vi{constructor(){super("facebook.com")}static credential(e){return Ir._fromParams({providerId:Ln.PROVIDER_ID,signInMethod:Ln.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ln.credentialFromTaggedObject(e)}static credentialFromError(e){return Ln.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ln.credential(e.oauthAccessToken)}catch{return null}}}Ln.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ln.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn extends Vi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ir._fromParams({providerId:Vn.PROVIDER_ID,signInMethod:Vn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vn.credentialFromTaggedObject(e)}static credentialFromError(e){return Vn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vn.credential(n,r)}catch{return null}}}Vn.GOOGLE_SIGN_IN_METHOD="google.com";Vn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n extends Vi{constructor(){super("github.com")}static credential(e){return Ir._fromParams({providerId:$n.PROVIDER_ID,signInMethod:$n.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $n.credentialFromTaggedObject(e)}static credentialFromError(e){return $n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $n.credential(e.oauthAccessToken)}catch{return null}}}$n.GITHUB_SIGN_IN_METHOD="github.com";$n.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn extends Vi{constructor(){super("twitter.com")}static credential(e,n){return Ir._fromParams({providerId:Fn.PROVIDER_ID,signInMethod:Fn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fn.credentialFromTaggedObject(e)}static credentialFromError(e){return Fn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fn.credential(n,r)}catch{return null}}}Fn.TWITTER_SIGN_IN_METHOD="twitter.com";Fn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xb(t,e){return Li(t,"POST","/v1/accounts:signUp",xr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await _r._fromIdTokenResponse(e,r,s),o=Td(r);return new Ar({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Td(r);return new Ar({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Td(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo extends Rn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,qo.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new qo(e,n,r,s)}}function Nm(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?qo._fromErrorAndOperation(t,i,e,r):i})}async function Nb(t,e,n=!1){const r=await pi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ar._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Db(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await pi(t,Nm(r,s,e,t),n);X(i.idToken,r,"internal-error");const o=bu(i.idToken);X(o,r,"internal-error");const{sub:a}=o;return X(t.uid===a,r,"user-mismatch"),Ar._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Gt(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dm(t,e,n=!1){const r="signIn",s=await Nm(t,r,e),i=await Ar._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Mb(t,e){return Dm(Dr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mm(t){const e=Dr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Lb(t,e,n){const r=Dr(t),o=await Om(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xb).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Mm(t),l}),a=await Ar._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Vb(t,e,n){return Mb(Pt(t),Is.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Mm(t),r})}function $b(t,e,n,r){return Pt(t).onIdTokenChanged(e,n,r)}function Fb(t,e,n){return Pt(t).beforeAuthStateChanged(e,n)}function Ub(t,e,n,r){return Pt(t).onAuthStateChanged(e,n,r)}function jb(t){return Pt(t).signOut()}const Wo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wo,"1"),this.storage.removeItem(Wo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(){const t=Tt();return Tu(t)||Ca(t)}const Hb=1e3,zb=10;class Vm extends Lm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Bb()&&lb(),this.fallbackToPolling=Rm(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);ab()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,zb):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Hb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Vm.type="LOCAL";const qb=Vm;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m extends Lm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$m.type="SESSION";const Fm=$m;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Oa(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await Wb(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oa.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=Su("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(d.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(){return window}function Kb(t){ln().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(){return typeof ln().WorkerGlobalScope<"u"&&typeof ln().importScripts=="function"}async function Qb(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Xb(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Jb(){return Um()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="firebaseLocalStorageDb",Yb=1,Go="firebaseLocalStorage",Bm="fbase_key";class $i{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ka(t,e){return t.transaction([Go],e?"readwrite":"readonly").objectStore(Go)}function Zb(){const t=indexedDB.deleteDatabase(jm);return new $i(t).toPromise()}function gc(){const t=indexedDB.open(jm,Yb);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Go,{keyPath:Bm})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Go)?e(r):(r.close(),await Zb(),e(await gc()))})})}async function Id(t,e,n){const r=ka(t,!0).put({[Bm]:e,value:n});return new $i(r).toPromise()}async function eT(t,e){const n=ka(t,!1).get(e),r=await new $i(n).toPromise();return r===void 0?null:r.value}function Ad(t,e){const n=ka(t,!0).delete(e);return new $i(n).toPromise()}const tT=800,nT=3;class Hm{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gc(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>nT)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Um()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oa._getInstance(Jb()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Qb(),!this.activeServiceWorker)return;this.sender=new Gb(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Xb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gc();return await Id(e,Wo,"1"),await Ad(e,Wo),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Id(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>eT(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ad(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ka(s,!1).getAll();return new $i(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Hm.type="LOCAL";const rT=Hm;new Mi(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sT(t,e){return e?gn(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends Iu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return rs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return rs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iT(t){return Dm(t.auth,new Ru(t),t.bypassAuthState)}function oT(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),Db(n,new Ru(t),t.bypassAuthState)}async function aT(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),Nb(n,new Ru(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iT;case"linkViaPopup":case"linkViaRedirect":return aT;case"reauthViaPopup":case"reauthViaRedirect":return oT;default:Gt(this.auth,"internal-error")}}resolve(e){Tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=new Mi(2e3,1e4);class Qr extends zm{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Qr.currentPopupAction&&Qr.currentPopupAction.cancel(),Qr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){Tn(this.filter.length===1,"Popup operations only handle one event");const e=Su();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(an(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(an(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(an(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lT.get())};e()}}Qr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="pendingRedirect",Ro=new Map;class uT extends zm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ro.get(this.auth._key());if(!e){try{const r=await hT(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ro.set(this.auth._key(),e)}return this.bypassAuthState||Ro.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hT(t,e){const n=pT(e),r=fT(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function dT(t,e){Ro.set(t._key(),e)}function fT(t){return gn(t._redirectPersistence)}function pT(t){return So(cT,t.config.apiKey,t.name)}async function mT(t,e,n=!1){const r=Dr(t),s=sT(r,e),o=await new uT(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=10*60*1e3;class _T{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yT(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!qm(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(an(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=gT&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sd(e))}saveEventToCache(e){this.cachedEventUids.add(Sd(e)),this.lastProcessedEventTime=Date.now()}}function Sd(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qm({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yT(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qm(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vT(t,e={}){return Nr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ET=/^https?/;async function bT(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vT(t);for(const n of e)try{if(TT(n))return}catch{}Gt(t,"unauthorized-domain")}function TT(t){const e=mc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!ET.test(n))return!1;if(wT.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=new Mi(3e4,6e4);function Rd(){const t=ln().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AT(t){return new Promise((e,n)=>{var r,s,i;function o(){Rd(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Rd(),n(an(t,"network-request-failed"))},timeout:IT.get()})}if(!((s=(r=ln().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ln().gapi)===null||i===void 0)&&i.load)o();else{const a=mb("iframefcb");return ln()[a]=()=>{gapi.load?o():n(an(t,"network-request-failed"))},Cm(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Po=null,e})}let Po=null;function ST(t){return Po=Po||AT(t),Po}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=new Mi(5e3,15e3),PT="__/auth/iframe",CT="emulator/auth/iframe",OT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xT(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Eu(e,CT):`https://${t.config.authDomain}/${PT}`,r={apiKey:e.apiKey,appName:t.name,v:Ts},s=kT.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Di(r).slice(1)}`}async function NT(t){const e=await ST(t),n=ln().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:xT(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OT,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=an(t,"network-request-failed"),a=ln().setTimeout(()=>{i(o)},RT.get());function l(){ln().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MT=500,LT=600,VT="_blank",$T="http://localhost";class Pd{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FT(t,e,n,r=MT,s=LT){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},DT),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Tt().toLowerCase();n&&(a=bm(c)?VT:n),Em(c)&&(e=e||$T,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[f,_])=>`${d}${f}=${_},`,"");if(ob(c)&&a!=="_self")return UT(e||"",a),new Pd(null);const h=window.open(e||"",a,u);X(h,t,"popup-blocked");try{h.focus()}catch{}return new Pd(h)}function UT(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="__/auth/handler",BT="emulator/auth/handler",HT=encodeURIComponent("fac");async function Cd(t,e,n,r,s,i){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ts,eventId:s};if(e instanceof xm){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",CE(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(i||{}))o[u]=h}if(e instanceof Vi){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${HT}=${encodeURIComponent(l)}`:"";return`${zT(t)}?${Di(a).slice(1)}${c}`}function zT({config:t}){return t.emulator?Eu(t,BT):`https://${t.authDomain}/${jT}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl="webStorageSupport";class qT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fm,this._completeRedirectFn=mT,this._overrideRedirectResult=dT}async _openPopup(e,n,r,s){var i;Tn((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Cd(e,n,r,mc(),s);return FT(e,o,Su())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Cd(e,n,r,mc(),s);return Kb(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Tn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await NT(e),r=new _T(e);return n.register("authEvent",s=>(X(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tl,{type:Tl},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Tl];o!==void 0&&n(!!o),Gt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bT(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Rm()||Tu()||Ca()}}const WT=qT;var Od="@firebase/auth",kd="1.3.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function QT(t){us(new br("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pm(t)},c=new fb(r,s,i,l);return Eb(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),us(new br("auth-internal",e=>{const n=Dr(e.getProvider("auth").getImmediate());return(r=>new GT(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wn(Od,kd,KT(t)),Wn(Od,kd,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=5*60,JT=am("authIdTokenMaxAge")||XT;let xd=null;const YT=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>JT)return;const s=n==null?void 0:n.token;xd!==s&&(xd=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function _c(t=hm()){const e=yu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=wb(t,{popupRedirectResolver:WT,persistence:[rT,qb,Fm]}),r=am("authTokenSyncURL");if(r){const i=YT(r);Fb(n,i,()=>i(n.currentUser)),$b(n,o=>i(o))}const s=im("auth");return s&&bb(n,`http://${s}`),n}QT("Browser");const Wm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAACuklEQVR4nO2Xy0uUURjGR8OyG0FkC4OuRlSb1E0twiyQQsVQaZW1iqJ1NO1MQyiNwP6BWtQialct1RZdaRFtnLHLojtUm6xNUvziZZ7B08c5Z74ZcecDB7457/W8z3suk8ksICWAKqAZGAQmgDzwSyOnuQGgaT4CHwGmSA9Lrtds5xp8C/DMcfwKuAS0AuuAxRr2vR8YBl47+k+ATZUGbwW+y9Eb4ChQncJuEdAHvJXtN6ClkuAzcnAbWJGQdwEPnB4w/jsTOiuBO/LxO3USFMpeXPlIkkfgYoT7IU//XHYqEaeDgkGR81ue4F3Ois4C9RpZzRk6EjbVqqLhcbQxKXS74T2wzCO3shuyHpklYRj3yJYDHyXvia1+Skp9AZ2fktd7ZFYJw3TA9rjkuVACzVJ4F+r2OSZgVHyQTqNPYVDCK94MCzoTEQrOSTYWsR+VzvmY87aIg06nCbOBJmyP2B8KJsks/w0hB9IbimzDCyVst0ov7xNOS1gbcyLdDut29YSNsdjKHbvaYJ8wm8CqzDwBWK0YP2IUbIw4sK3aDtzUWTGjYTvnhjgOHjR2EsYoGJfwcMB4J/Dc4duO1qca9l2EnaQ7Aj66Y004IOGoR3bAOQPuArvdlWqP7wHuFTkG9nn8XJW835dAk4SfgCXO/HYF/wOc8q0s4ec08FdJbEs04GfF2BXiNy+FE86cldhwplRwz73wyJk7qbnJmGGvU4U1wEH9fpHmMZKg5KVs24A6Z/XdMcMqPaMQn9fdipQDZ8XXgPv6fljynUhhq7hdbdhcQQINCR9fY1v8P9jzyTnbDXWZMgGsdezN195yHbQ4lTD+jgE1KexqdPd/cVZeXvAEHfaMwklkWHfBemCpxgbdlCNOsxU5T1f2Eo3Zo38/aTEZ7fZKATTaY0K3X865DXOa6/ceMgvIhPEPJgWsZOoGlDAAAAAASUVORK5CYII=";const tt=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},ZT={data(){return{showSearchBar:!1,isNavbarOpen:!1,isUserAuthenticated:!1}},created(){const t=_c();Ub(t,e=>{this.isUserAuthenticated=e!==null})},methods:{toggleSearch(){console.log("hihi"),this.showSearchBar=!this.showSearchBar},toggleNavbar(){this.isNavbarOpen=!this.isNavbarOpen},signOut(){const t=_c();jb(t).then(()=>{this.isUserAuthenticated=!1,this.$router.push("/")}).catch(e=>{console.error("Sign Out Error:",e)})}}},tr=t=>(Cr("data-v-486da28a"),t=t(),Or(),t),eI={id:"header",class:"fixed-top header-transparent"},tI={class:"container-fluid d-flex align-items-center justify-content-between position-relative"},nI={class:"logo ps-3"},rI={class:"text-light"},sI=tr(()=>y("span",null,"ECOSCAPE",-1)),iI={class:"navbar navbar-expand-lg p-0"},oI={class:"container-fluid"},aI=tr(()=>y("i",{class:"fa fa-bars mobile-nav-toggle"},null,-1)),lI=[aI],cI={class:"search-icon"},uI=tr(()=>y("i",{class:"fa fa-search"},null,-1)),hI=[uI],dI=tr(()=>y("input",{type:"text",class:"search-input",placeholder:"Enter keywords to search"},null,-1)),fI=tr(()=>y("i",{class:"fa fa-times"},null,-1)),pI=[fI],mI={class:"dropdown"},gI=tr(()=>y("a",{href:"#"},[y("span",null,"Directory"),ve(),y("i",{class:"fa fa-angle-down"})],-1)),_I=tr(()=>y("img",{src:Wm,class:"profile-icon",alt:"profile"},null,-1)),yI=tr(()=>y("img",{src:Wm,class:"profile-icon",alt:"profile"},null,-1));function vI(t,e,n,r,s,i){const o=Ge("router-link");return oe(),me("header",eI,[y("div",tI,[y("div",nI,[y("h1",rI,[ne(o,{to:"/"},{default:We(()=>[sI]),_:1})])]),y("nav",iI,[y("div",oI,[y("button",{class:"navbar-toggler",type:"button",onClick:e[0]||(e[0]=(...a)=>i.toggleNavbar&&i.toggleNavbar(...a))},lI),y("div",{class:os(["collapse navbar-collapse",{show:s.isNavbarOpen}]),id:"navbarExamples"},[y("ul",null,[y("li",null,[ne(o,{to:"/",class:"nav-link scrollto",exact:""},{default:We(()=>[ve("Home")]),_:1})]),y("li",cI,[y("button",{onClick:e[1]||(e[1]=(...a)=>i.toggleSearch&&i.toggleSearch(...a))},hI),y("div",{class:os(["search-bar",{show:s.showSearchBar}])},[dI,y("button",{onClick:e[2]||(e[2]=(...a)=>i.toggleSearch&&i.toggleSearch(...a))},pI)],2)]),y("li",null,[ne(o,{to:"#",class:"nav-link"},{default:We(()=>[ve("About Us")]),_:1})]),y("li",mI,[gI,y("ul",null,[y("li",null,[ne(o,{to:"#"},{default:We(()=>[ve("Hotels")]),_:1})]),y("li",null,[ne(o,{to:"#"},{default:We(()=>[ve("Attractions")]),_:1})]),y("li",null,[ne(o,{to:"#"},{default:We(()=>[ve("Restaurants")]),_:1})]),y("li",null,[ne(o,{to:"/Transport"},{default:We(()=>[ve("Green Transport Planner")]),_:1})])])]),s.isUserAuthenticated?(oe(),ls(o,{key:0,to:"/logout",class:"nav-link",onClick:i.signOut},{default:We(()=>[_I,ve(" Sign Out ")]),_:1},8,["onClick"])):(oe(),ls(o,{key:1,to:"/login",class:"nav-link"},{default:We(()=>[yI,ve(" Login / Sign Up ")]),_:1}))])],2)])])])])}const xa=tt(ZT,[["render",vI],["__scopeId","data-v-486da28a"]]),wI="/assets/homepage-img2-b3228da0.png";const EI={data(){return{backgroundImage:"../images/homepage-bg.jpg",iconImage:"../images/icon2.jpg"}},created(){window.addEventListener("scroll",this.parallaxScroll)},beforeDestroy(){window.removeEventListener("scroll",this.parallaxScroll)},methods:{parallaxScroll(){const t=document.getElementById("bg"),e=document.getElementById("main-title"),n=window.scrollY;t.style.top=n*.5+"px",e.style.top=n*1+"px"}}},Gm=t=>(Cr("data-v-ee3e0222"),t=t(),Or(),t),bI={id:"homepage"},TI=["src"],II=Gm(()=>y("img",{src:wI,id:"img",class:"w-100 h-100",alt:"img"},null,-1)),AI={"data-aos":"fade-up","data-aos-duration":"1500"},SI={id:"main-title"},RI=["src"],PI=Gm(()=>y("a",{class:"btn-get-started scrollto",id:"scroll-icon",href:"#about-us"},[y("div",{class:"circle-btn"},[y("i",{class:"fa fa-angle-double-down",style:{"font-size":"20px"}})])],-1));function CI(t,e,n,r,s,i){return oe(),me("section",bI,[y("img",{src:s.backgroundImage,class:"w-100 h-100",alt:"bg",id:"bg"},null,8,TI),II,y("div",AI,[y("div",SI,[y("img",{src:s.iconImage,id:"title-icon",alt:""},null,8,RI),ve(" EcoScape ")])]),PI])}const Km=tt(EI,[["render",CI],["__scopeId","data-v-ee3e0222"]]);/**
 * Vue 3 Carousel 0.3.1
 * (c) 2023
 * @license MIT
 */const st={itemsToShow:1,itemsToScroll:1,modelValue:0,transition:300,autoplay:0,snapAlign:"center",wrapAround:!1,throttle:16,pauseAutoplayOnHover:!1,mouseDrag:!0,touchDrag:!0,dir:"ltr",breakpoints:void 0,i18n:{ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaGallery:"Gallery",itemXofY:"Item {currentSlide} of {slidesCount}",iconArrowUp:"Arrow pointing upwards",iconArrowDown:"Arrow pointing downwards",iconArrowRight:"Arrow pointing to the right",iconArrowLeft:"Arrow pointing to the left"}},Nd={itemsToShow:{default:st.itemsToShow,type:Number},itemsToScroll:{default:st.itemsToScroll,type:Number},wrapAround:{default:st.wrapAround,type:Boolean},throttle:{default:st.throttle,type:Number},snapAlign:{default:st.snapAlign,validator(t){return["start","end","center","center-even","center-odd"].includes(t)}},transition:{default:st.transition,type:Number},breakpoints:{default:st.breakpoints,type:Object},autoplay:{default:st.autoplay,type:Number},pauseAutoplayOnHover:{default:st.pauseAutoplayOnHover,type:Boolean},modelValue:{default:void 0,type:Number},mouseDrag:{default:st.mouseDrag,type:Boolean},touchDrag:{default:st.touchDrag,type:Boolean},dir:{default:st.dir,validator(t){return["rtl","ltr"].includes(t)}},i18n:{default:st.i18n,type:Object},settings:{default(){return{}},type:Object}};function OI({config:t,slidesCount:e}){const{snapAlign:n,wrapAround:r,itemsToShow:s=1}=t;if(r)return Math.max(e-1,0);let i;switch(n){case"start":i=e-s;break;case"end":i=e-1;break;case"center":case"center-odd":i=e-Math.ceil((s-.5)/2);break;case"center-even":i=e-Math.ceil(s/2);break;default:i=0;break}return Math.max(i,0)}function kI({config:t,slidesCount:e}){const{wrapAround:n,snapAlign:r,itemsToShow:s=1}=t;let i=0;if(n||s>e)return i;switch(r){case"start":i=0;break;case"end":i=s-1;break;case"center":case"center-odd":i=Math.floor((s-1)/2);break;case"center-even":i=Math.floor((s-2)/2);break;default:i=0;break}return i}function yc({val:t,max:e,min:n}){return e<n?t:Math.min(Math.max(t,n),e)}function xI({config:t,currentSlide:e,slidesCount:n}){const{snapAlign:r,wrapAround:s,itemsToShow:i=1}=t;let o=e;switch(r){case"center":case"center-odd":o-=(i-1)/2;break;case"center-even":o-=(i-2)/2;break;case"end":o-=i-1;break}return s?o:yc({val:o,max:n-i,min:0})}function Qm(t){return t?t.reduce((e,n)=>{var r;return n.type===He?[...e,...Qm(n.children)]:((r=n.type)===null||r===void 0?void 0:r.name)==="CarouselSlide"?[...e,n]:e},[]):[]}function vc({val:t,max:e,min:n=0}){return t>e?vc({val:t-(e+1),max:e,min:n}):t<n?vc({val:t+(e+1),max:e,min:n}):t}function NI(t,e){let n;return e?function(...r){const s=this;n||(t.apply(s,r),n=!0,setTimeout(()=>n=!1,e))}:t}function DI(t,e){let n;return function(...r){n&&clearTimeout(n),n=setTimeout(()=>{t(...r),n=null},e)}}function MI(t="",e={}){return Object.entries(e).reduce((n,[r,s])=>n.replace(`{${r}}`,String(s)),t)}var LI=kr({name:"ARIA",setup(){const t=ut("config",on(Object.assign({},st))),e=ut("currentSlide",Re(0)),n=ut("slidesCount",Re(0));return()=>jn("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},MI(t.i18n.itemXofY,{currentSlide:e.value+1,slidesCount:n.value}))}}),VI=kr({name:"Carousel",props:Nd,setup(t,{slots:e,emit:n,expose:r}){var s;const i=Re(null),o=Re([]),a=Re(0),l=Re(0),c=on(Object.assign({},st));let u=Object.assign({},st),h;const d=Re((s=t.modelValue)!==null&&s!==void 0?s:0),f=Re(0),_=Re(0),v=Re(0),b=Re(0);let A,R;xt("config",c),xt("slidesCount",l),xt("currentSlide",d),xt("maxSlide",v),xt("minSlide",b),xt("slideWidth",a);function F(){h=Object.assign({},t.breakpoints),u=Object.assign(Object.assign(Object.assign({},u),t),{i18n:Object.assign(Object.assign({},u.i18n),t.i18n),breakpoints:void 0}),re(u)}function N(){if(!h||!Object.keys(h).length)return;const g=Object.keys(h).map(E=>Number(E)).sort((E,S)=>+S-+E);let w=Object.assign({},u);g.some(E=>{const S=window.matchMedia(`(min-width: ${E}px)`).matches;return S&&(w=Object.assign(Object.assign({},w),h[E])),S}),re(w)}function re(g){Object.entries(g).forEach(([w,E])=>c[w]=E)}const G=DI(()=>{N(),le()},16);function le(){if(!i.value)return;const g=i.value.getBoundingClientRect();a.value=g.width/c.itemsToShow}function Z(){l.value<=0||(_.value=Math.ceil((l.value-1)/2),v.value=OI({config:c,slidesCount:l.value}),b.value=kI({config:c,slidesCount:l.value}),c.wrapAround||(d.value=yc({val:d.value,max:v.value,min:b.value})))}Up(()=>{lu(()=>le()),setTimeout(()=>le(),1e3),N(),ft(),window.addEventListener("resize",G,{passive:!0}),n("init")}),uu(()=>{R&&clearTimeout(R),A&&clearInterval(A),window.removeEventListener("resize",G,{passive:!0})});let ue=!1;const be={x:0,y:0},j={x:0,y:0},L=on({x:0,y:0}),Q=Re(!1),q=Re(!1),Oe=()=>{Q.value=!0},ye=()=>{Q.value=!1};function ce(g){["INPUT","TEXTAREA","SELECT"].includes(g.target.tagName)||(ue=g.type==="touchstart",ue||g.preventDefault(),!(!ue&&g.button!==0||Ae.value)&&(be.x=ue?g.touches[0].clientX:g.clientX,be.y=ue?g.touches[0].clientY:g.clientY,document.addEventListener(ue?"touchmove":"mousemove",ie,!0),document.addEventListener(ue?"touchend":"mouseup",Ue,!0)))}const ie=NI(g=>{q.value=!0,j.x=ue?g.touches[0].clientX:g.clientX,j.y=ue?g.touches[0].clientY:g.clientY;const w=j.x-be.x,E=j.y-be.y;L.y=E,L.x=w},c.throttle);function Ue(){const g=c.dir==="rtl"?-1:1,w=Math.sign(L.x)*.4,E=Math.round(L.x/a.value+w)*g;if(E&&!ue){const S=$=>{$.stopPropagation(),window.removeEventListener("click",S,!0)};window.addEventListener("click",S,!0)}ke(d.value-E),L.x=0,L.y=0,q.value=!1,document.removeEventListener(ue?"touchmove":"mousemove",ie,!0),document.removeEventListener(ue?"touchend":"mouseup",Ue,!0)}function ft(){!c.autoplay||c.autoplay<=0||(A=setInterval(()=>{c.pauseAutoplayOnHover&&Q.value||Me()},c.autoplay))}function rt(){A&&(clearInterval(A),A=null),ft()}const Ae=Re(!1);function ke(g){const w=c.wrapAround?g:yc({val:g,max:v.value,min:b.value});d.value===w||Ae.value||(n("slide-start",{slidingToIndex:g,currentSlideIndex:d.value,prevSlideIndex:f.value,slidesCount:l.value}),Ae.value=!0,f.value=d.value,d.value=w,R=setTimeout(()=>{if(c.wrapAround){const E=vc({val:w,max:v.value,min:0});E!==d.value&&(d.value=E,n("loop",{currentSlideIndex:d.value,slidingToIndex:g}))}n("update:modelValue",d.value),n("slide-end",{currentSlideIndex:d.value,prevSlideIndex:f.value,slidesCount:l.value}),Ae.value=!1,rt()},c.transition))}function Me(){ke(d.value+c.itemsToScroll)}function qe(){ke(d.value-c.itemsToScroll)}const Ee={slideTo:ke,next:Me,prev:qe};xt("nav",Ee),xt("isSliding",Ae);const T=Xe(()=>xI({config:c,currentSlide:d.value,slidesCount:l.value}));xt("slidesToScroll",T);const D=Xe(()=>{const g=c.dir==="rtl"?-1:1,w=T.value*a.value*g;return{transform:`translateX(${L.x-w}px)`,transition:`${Ae.value?c.transition:0}ms`,margin:c.wrapAround?`0 -${l.value*a.value}px`:"",width:"100%"}});function O(){F(),N(),Z(),le(),rt()}Object.keys(Nd).forEach(g=>{["modelValue"].includes(g)||vn(()=>t[g],O)}),vn(()=>t.modelValue,g=>{g!==d.value&&ke(Number(g))}),vn(l,Z),n("before-init"),F();const U={config:c,slidesCount:l,slideWidth:a,next:Me,prev:qe,slideTo:ke,currentSlide:d,maxSlide:v,minSlide:b,middleSlide:_};r({updateBreakpointsConfigs:N,updateSlidesData:Z,updateSlideWidth:le,initDefaultConfigs:F,restartCarousel:O,slideTo:ke,next:Me,prev:qe,nav:Ee,data:U});const ee=e.default||e.slides,p=e.addons,m=on(U);return()=>{const g=Qm(ee==null?void 0:ee(m)),w=(p==null?void 0:p(m))||[];g.forEach((x,M)=>x.props.index=M);let E=g;if(c.wrapAround){const x=g.map((P,H)=>Xn(P,{index:-g.length+H,isClone:!0,key:`clone-before-${H}`})),M=g.map((P,H)=>Xn(P,{index:g.length+H,isClone:!0,key:`clone-after-${H}`}));E=[...x,...g,...M]}o.value=g,l.value=Math.max(g.length,1);const S=jn("ol",{class:"carousel__track",style:D.value,onMousedownCapture:c.mouseDrag?ce:null,onTouchstartPassiveCapture:c.touchDrag?ce:null},E),$=jn("div",{class:"carousel__viewport"},S);return jn("section",{ref:i,class:{carousel:!0,"is-sliding":Ae.value,"is-dragging":q.value,"is-hover":Q.value,"carousel--rtl":c.dir==="rtl"},dir:c.dir,"aria-label":c.i18n.ariaGallery,tabindex:"0",onMouseenter:Oe,onMouseleave:ye},[$,w,jn(LI)])}}}),Dd;(function(t){t.arrowUp="arrowUp",t.arrowDown="arrowDown",t.arrowRight="arrowRight",t.arrowLeft="arrowLeft"})(Dd||(Dd={}));var $I=kr({name:"CarouselSlide",props:{index:{type:Number,default:1},isClone:{type:Boolean,default:!1}},setup(t,{slots:e}){const n=ut("config",on(Object.assign({},st))),r=ut("currentSlide",Re(0)),s=ut("slidesToScroll",Re(0)),i=ut("isSliding",Re(!1)),o=()=>t.index===r.value,a=()=>t.index===r.value-1,l=()=>t.index===r.value+1,c=()=>{const u=Math.floor(s.value),h=Math.ceil(s.value+n.itemsToShow-1);return t.index>=u&&t.index<=h};return()=>{var u;return jn("li",{style:{width:`${100/n.itemsToShow}%`},class:{carousel__slide:!0,"carousel__slide--clone":t.isClone,"carousel__slide--visible":c(),"carousel__slide--active":o(),"carousel__slide--prev":a(),"carousel__slide--next":l(),"carousel__slide--sliding":i.value},"aria-hidden":!c()},(u=e.default)===null||u===void 0?void 0:u.call(e))}}});const FI=kr({data(){return{images:[{src:"/images/parkroyal.jpg",caption:{title:"Eco-Friendly Retreat",description:"Discover a sustainable paradise that goes beyond luxury."}},{src:"/images/jewel.jpg",caption:{title:"Nature's Playground",description:"Discover thrilling adventures while preserving our planet."}},{src:"/images/restaurant.jpg",caption:{title:"Gastronomic Greenery",description:"Savor delectable dishes crafted with sustainability in mind."}},{src:"/images/electric_bus.jpg",caption:{title:"Ride the Future",description:"Efficient and eco-friendly transport solutions for cleaner cities."}}]}},components:{Carousel:VI,Slide:$I}}),UI=t=>(Cr("data-v-b06335a8"),t=t(),Or(),t),jI={id:"about-us"},BI={class:"container-fluid about-container mt-5"},HI={class:"row align-items-center"},zI=UI(()=>y("div",{class:"col-12 col-md-4 about_text text-center p-3 ps-5"},[y("div",{"data-aos":"fade-up","data-aos-duration":"1000"},[y("h2",null,"ABOUT US"),y("p",{class:"about-para"},[ve(" We aim to contribute to raising awareness about "),y("span",{class:"fw-bold"},"SUSTAINABLE TOURISM PRACTICES"),ve(" and play a role in preserving Singapore's natural and cultural heritage for future generations. ")])])],-1)),qI={class:"col-12 col-md-8 carousel pt-5 pb-5"},WI={class:"carousel__item"},GI=["src"],KI={class:"caption"};function QI(t,e,n,r,s,i){const o=Ge("Slide"),a=Ge("Carousel");return oe(),me("div",jI,[y("div",BI,[y("div",HI,[zI,y("div",qI,[ne(a,{itemsToShow:3,wrapAround:!0,transition:1e3,autoplay:3500},{default:We(()=>[(oe(!0),me(He,null,Hs(t.images,l=>(oe(),ls(o,{key:l.src},{default:We(()=>[y("div",WI,[y("img",{class:"caroImg",src:l.src,alt:""},null,8,GI),y("div",KI,[y("h4",null,Mt(l.caption.title),1),y("p",null,Mt(l.caption.description),1)])])]),_:2},1024))),128))]),_:1})])])])])}const Xm=tt(FI,[["render",QI],["__scopeId","data-v-b06335a8"]]),XI="/assets/icon-lightgreen-e6a82418.png";const JI={methods:{openEmail(){window.open("mailto:example@example.com")},openFacebook(){window.open("https://www.facebook.com/your-facebook-page","_blank")},openInstagram(){window.open("https://www.instagram.com/your-instagram-profile","_blank")}},created(){const t=document.getElementById("year");t&&(t.innerHTML=new Date().getFullYear())}},Mr=t=>(Cr("data-v-8ae81b20"),t=t(),Or(),t),YI={id:"footer"},ZI={class:"container-fluid pt-2 ps-2 pe-0"},eA={class:"row pt-2 mb-2"},tA=er('<div class="col-lg-1 col-md-1 mb-2 mb-lg-0" data-v-8ae81b20></div><div class="col-lg-4 col-md-4 mb-2 mb-lg-0" data-v-8ae81b20><div class="d-flex align-items-center" data-v-8ae81b20><img src="'+XI+'" alt="img" class="footer-logo mt-4 mb-3" data-v-8ae81b20><h2 class="footer-main-title mt-2 ps-3 pt-2" data-v-8ae81b20>EcoScape</h2></div></div>',2),nA={class:"footer-columns col-lg-2 col-md-2 mb-4 mb-lg-0"},rA=Mr(()=>y("h6",{class:"footer-title text-uppercase fw-bold mb-2"},"Directory",-1)),sA={class:"list-unstyled mb-0"},iA={class:"mb-1"},oA={class:"mb-1"},aA={class:"mb-1"},lA={class:"mb-2"},cA={class:"footer-columns col-lg-2 col-md-2 mb-4 mb-lg-0"},uA=Mr(()=>y("h6",{class:"footer-title text-uppercase fw-bold mb-2"},"Account",-1)),hA={class:"list-unstyled mb-0"},dA={class:"mb-3"},fA=Mr(()=>y("h6",{class:"footer-title text-uppercase fw-bold mb-2"},"EcoScape",-1)),pA={class:"list-unstyled mb-0"},mA={class:"mb-2"},gA={class:"footer-columns col-lg-2 col-md-2 mb-4 mb-lg-0"},_A=Mr(()=>y("h6",{class:"footer-title text-uppercase fw-bold mb-2"},"Contact Us",-1)),yA={class:"list-unstyled mb-0"},vA={class:"mb-1"},wA=Mr(()=>y("i",{class:"fa fa-envelope pe-2"},null,-1)),EA={class:"mb-1"},bA=Mr(()=>y("i",{class:"fa fa-facebook me-1 pe-2"},null,-1)),TA={class:"mb-1"},IA=Mr(()=>y("i",{class:"fa fa-instagram pe-2"},null,-1)),AA=er('<div class="col-lg-1 col-md-2 mb-2 mb-lg-0" data-v-8ae81b20></div><div class="footer-copyrights" data-v-8ae81b20><div class="container-fluid text-center" data-v-8ae81b20><p class="copyrights-text text-light p-2" data-v-8ae81b20>  <span id="year" data-v-8ae81b20></span> EcoScape All rights reserved. </p></div></div>',2);function SA(t,e,n,r,s,i){const o=Ge("router-link");return oe(),me("div",YI,[y("footer",null,[y("div",ZI,[y("div",eA,[tA,y("div",nA,[rA,y("ul",sA,[y("li",iA,[ne(o,{to:"/attractions",class:"footer-links"},{default:We(()=>[ve("Attractions")]),_:1})]),y("li",oA,[ne(o,{to:"/hotels",class:"footer-links"},{default:We(()=>[ve("Hotels")]),_:1})]),y("li",aA,[ne(o,{to:"/restaurants",class:"footer-links"},{default:We(()=>[ve("Restaurant")]),_:1})]),y("li",lA,[ne(o,{to:"/transport-planner",class:"footer-links"},{default:We(()=>[ve("Green Transport Planner")]),_:1})])])]),y("div",cA,[uA,y("ul",hA,[y("li",dA,[ne(o,{to:"/Login",class:"footer-links"},{default:We(()=>[ve("Login/Sign Up")]),_:1})])]),fA,y("ul",pA,[y("li",mA,[ne(o,{to:"/Homepage",class:"footer-links"},{default:We(()=>[ve("About Us")]),_:1})])])]),y("div",gA,[_A,y("ul",yA,[y("li",vA,[y("a",{onClick:e[0]||(e[0]=(...a)=>i.openEmail&&i.openEmail(...a)),class:"footer-links"},[wA,ve("Email")])]),y("li",EA,[y("a",{onClick:e[1]||(e[1]=(...a)=>i.openFacebook&&i.openFacebook(...a)),class:"footer-links"},[bA,ve("Facebook")])]),y("li",TA,[y("a",{onClick:e[2]||(e[2]=(...a)=>i.openInstagram&&i.openInstagram(...a)),class:"footer-links"},[IA,ve("Instagram")])])])])]),AA])])])}const Na=tt(JI,[["render",SA],["__scopeId","data-v-8ae81b20"]]);var RA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ym={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(RA,function(){return function(n){function r(i){if(s[i])return s[i].exports;var o=s[i]={exports:{},id:i,loaded:!1};return n[i].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var s={};return r.m=n,r.c=s,r.p="dist/",r(0)}([function(n,r,s){function i(q){return q&&q.__esModule?q:{default:q}}var o=Object.assign||function(q){for(var Oe=1;Oe<arguments.length;Oe++){var ye=arguments[Oe];for(var ce in ye)Object.prototype.hasOwnProperty.call(ye,ce)&&(q[ce]=ye[ce])}return q},a=s(1),l=(i(a),s(6)),c=i(l),u=s(7),h=i(u),d=s(8),f=i(d),_=s(9),v=i(_),b=s(10),A=i(b),R=s(11),F=i(R),N=s(14),re=i(N),G=[],le=!1,Z={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},ue=function(){var q=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(q&&(le=!0),le)return G=(0,F.default)(G,Z),(0,A.default)(G,Z.once),G},be=function(){G=(0,re.default)(),ue()},j=function(){G.forEach(function(q,Oe){q.node.removeAttribute("data-aos"),q.node.removeAttribute("data-aos-easing"),q.node.removeAttribute("data-aos-duration"),q.node.removeAttribute("data-aos-delay")})},L=function(q){return q===!0||q==="mobile"&&v.default.mobile()||q==="phone"&&v.default.phone()||q==="tablet"&&v.default.tablet()||typeof q=="function"&&q()===!0},Q=function(q){Z=o(Z,q),G=(0,re.default)();var Oe=document.all&&!window.atob;return L(Z.disable)||Oe?j():(Z.disableMutationObserver||f.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),Z.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",Z.easing),document.querySelector("body").setAttribute("data-aos-duration",Z.duration),document.querySelector("body").setAttribute("data-aos-delay",Z.delay),Z.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?ue(!0):Z.startEvent==="load"?window.addEventListener(Z.startEvent,function(){ue(!0)}):document.addEventListener(Z.startEvent,function(){ue(!0)}),window.addEventListener("resize",(0,h.default)(ue,Z.debounceDelay,!0)),window.addEventListener("orientationchange",(0,h.default)(ue,Z.debounceDelay,!0)),window.addEventListener("scroll",(0,c.default)(function(){(0,A.default)(G,Z.once)},Z.throttleDelay)),Z.disableMutationObserver||f.default.ready("[data-aos]",be),G)};n.exports={init:Q,refresh:ue,refreshHard:be}},function(n,r){},,,,,function(n,r){(function(s){function i(L,Q,q){function Oe(g){var w=Me,E=qe;return Me=qe=void 0,U=g,T=L.apply(E,w)}function ye(g){return U=g,D=setTimeout(Ue,Q),ee?Oe(g):T}function ce(g){var w=g-O,E=g-U,S=Q-w;return p?be(S,Ee-E):S}function ie(g){var w=g-O,E=g-U;return O===void 0||w>=Q||w<0||p&&E>=Ee}function Ue(){var g=j();return ie(g)?ft(g):void(D=setTimeout(Ue,ce(g)))}function ft(g){return D=void 0,m&&Me?Oe(g):(Me=qe=void 0,T)}function rt(){D!==void 0&&clearTimeout(D),U=0,Me=O=qe=D=void 0}function Ae(){return D===void 0?T:ft(j())}function ke(){var g=j(),w=ie(g);if(Me=arguments,qe=this,O=g,w){if(D===void 0)return ye(O);if(p)return D=setTimeout(Ue,Q),Oe(O)}return D===void 0&&(D=setTimeout(Ue,Q)),T}var Me,qe,Ee,T,D,O,U=0,ee=!1,p=!1,m=!0;if(typeof L!="function")throw new TypeError(d);return Q=u(Q)||0,a(q)&&(ee=!!q.leading,p="maxWait"in q,Ee=p?ue(u(q.maxWait)||0,Q):Ee,m="trailing"in q?!!q.trailing:m),ke.cancel=rt,ke.flush=Ae,ke}function o(L,Q,q){var Oe=!0,ye=!0;if(typeof L!="function")throw new TypeError(d);return a(q)&&(Oe="leading"in q?!!q.leading:Oe,ye="trailing"in q?!!q.trailing:ye),i(L,Q,{leading:Oe,maxWait:Q,trailing:ye})}function a(L){var Q=typeof L>"u"?"undefined":h(L);return!!L&&(Q=="object"||Q=="function")}function l(L){return!!L&&(typeof L>"u"?"undefined":h(L))=="object"}function c(L){return(typeof L>"u"?"undefined":h(L))=="symbol"||l(L)&&Z.call(L)==_}function u(L){if(typeof L=="number")return L;if(c(L))return f;if(a(L)){var Q=typeof L.valueOf=="function"?L.valueOf():L;L=a(Q)?Q+"":Q}if(typeof L!="string")return L===0?L:+L;L=L.replace(v,"");var q=A.test(L);return q||R.test(L)?F(L.slice(2),q?2:8):b.test(L)?f:+L}var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},d="Expected a function",f=NaN,_="[object Symbol]",v=/^\s+|\s+$/g,b=/^[-+]0x[0-9a-f]+$/i,A=/^0b[01]+$/i,R=/^0o[0-7]+$/i,F=parseInt,N=(typeof s>"u"?"undefined":h(s))=="object"&&s&&s.Object===Object&&s,re=(typeof self>"u"?"undefined":h(self))=="object"&&self&&self.Object===Object&&self,G=N||re||Function("return this")(),le=Object.prototype,Z=le.toString,ue=Math.max,be=Math.min,j=function(){return G.Date.now()};n.exports=o}).call(r,function(){return this}())},function(n,r){(function(s){function i(j,L,Q){function q(m){var g=ke,w=Me;return ke=Me=void 0,O=m,Ee=j.apply(w,g)}function Oe(m){return O=m,T=setTimeout(ie,L),U?q(m):Ee}function ye(m){var g=m-D,w=m-O,E=L-g;return ee?ue(E,qe-w):E}function ce(m){var g=m-D,w=m-O;return D===void 0||g>=L||g<0||ee&&w>=qe}function ie(){var m=be();return ce(m)?Ue(m):void(T=setTimeout(ie,ye(m)))}function Ue(m){return T=void 0,p&&ke?q(m):(ke=Me=void 0,Ee)}function ft(){T!==void 0&&clearTimeout(T),O=0,ke=D=Me=T=void 0}function rt(){return T===void 0?Ee:Ue(be())}function Ae(){var m=be(),g=ce(m);if(ke=arguments,Me=this,D=m,g){if(T===void 0)return Oe(D);if(ee)return T=setTimeout(ie,L),q(D)}return T===void 0&&(T=setTimeout(ie,L)),Ee}var ke,Me,qe,Ee,T,D,O=0,U=!1,ee=!1,p=!0;if(typeof j!="function")throw new TypeError(h);return L=c(L)||0,o(Q)&&(U=!!Q.leading,ee="maxWait"in Q,qe=ee?Z(c(Q.maxWait)||0,L):qe,p="trailing"in Q?!!Q.trailing:p),Ae.cancel=ft,Ae.flush=rt,Ae}function o(j){var L=typeof j>"u"?"undefined":u(j);return!!j&&(L=="object"||L=="function")}function a(j){return!!j&&(typeof j>"u"?"undefined":u(j))=="object"}function l(j){return(typeof j>"u"?"undefined":u(j))=="symbol"||a(j)&&le.call(j)==f}function c(j){if(typeof j=="number")return j;if(l(j))return d;if(o(j)){var L=typeof j.valueOf=="function"?j.valueOf():j;j=o(L)?L+"":L}if(typeof j!="string")return j===0?j:+j;j=j.replace(_,"");var Q=b.test(j);return Q||A.test(j)?R(j.slice(2),Q?2:8):v.test(j)?d:+j}var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},h="Expected a function",d=NaN,f="[object Symbol]",_=/^\s+|\s+$/g,v=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,A=/^0o[0-7]+$/i,R=parseInt,F=(typeof s>"u"?"undefined":u(s))=="object"&&s&&s.Object===Object&&s,N=(typeof self>"u"?"undefined":u(self))=="object"&&self&&self.Object===Object&&self,re=F||N||Function("return this")(),G=Object.prototype,le=G.toString,Z=Math.max,ue=Math.min,be=function(){return re.Date.now()};n.exports=i}).call(r,function(){return this}())},function(n,r){function s(u){var h=void 0,d=void 0;for(h=0;h<u.length;h+=1)if(d=u[h],d.dataset&&d.dataset.aos||d.children&&s(d.children))return!0;return!1}function i(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function o(){return!!i()}function a(u,h){var d=window.document,f=i(),_=new f(l);c=h,_.observe(d.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function l(u){u&&u.forEach(function(h){var d=Array.prototype.slice.call(h.addedNodes),f=Array.prototype.slice.call(h.removedNodes),_=d.concat(f);if(s(_))return c()})}Object.defineProperty(r,"__esModule",{value:!0});var c=function(){};r.default={isSupported:o,ready:a}},function(n,r){function s(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")}function i(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function d(f,_){for(var v=0;v<_.length;v++){var b=_[v];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,_,v){return _&&d(f.prototype,_),v&&d(f,v),f}}(),a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,c=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,u=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,h=function(){function d(){s(this,d)}return o(d,[{key:"phone",value:function(){var f=i();return!(!a.test(f)&&!l.test(f.substr(0,4)))}},{key:"mobile",value:function(){var f=i();return!(!c.test(f)&&!u.test(f.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),d}();r.default=new h},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var s=function(o,a,l){var c=o.node.getAttribute("data-aos-once");a>o.position?o.node.classList.add("aos-animate"):typeof c<"u"&&(c==="false"||!l&&c!=="true")&&o.node.classList.remove("aos-animate")},i=function(o,a){var l=window.pageYOffset,c=window.innerHeight;o.forEach(function(u,h){s(u,c+l,a)})};r.default=i},function(n,r,s){function i(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(r,"__esModule",{value:!0});var o=s(12),a=i(o),l=function(c,u){return c.forEach(function(h,d){h.node.classList.add("aos-init"),h.position=(0,a.default)(h.node,u.offset)}),c};r.default=l},function(n,r,s){function i(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(r,"__esModule",{value:!0});var o=s(13),a=i(o),l=function(c,u){var h=0,d=0,f=window.innerHeight,_={offset:c.getAttribute("data-aos-offset"),anchor:c.getAttribute("data-aos-anchor"),anchorPlacement:c.getAttribute("data-aos-anchor-placement")};switch(_.offset&&!isNaN(_.offset)&&(d=parseInt(_.offset)),_.anchor&&document.querySelectorAll(_.anchor)&&(c=document.querySelectorAll(_.anchor)[0]),h=(0,a.default)(c).top,_.anchorPlacement){case"top-bottom":break;case"center-bottom":h+=c.offsetHeight/2;break;case"bottom-bottom":h+=c.offsetHeight;break;case"top-center":h+=f/2;break;case"bottom-center":h+=f/2+c.offsetHeight;break;case"center-center":h+=f/2+c.offsetHeight/2;break;case"top-top":h+=f;break;case"bottom-top":h+=c.offsetHeight+f;break;case"center-top":h+=c.offsetHeight/2+f}return _.anchorPlacement||_.offset||isNaN(u)||(d=u),h+d};r.default=l},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var s=function(i){for(var o=0,a=0;i&&!isNaN(i.offsetLeft)&&!isNaN(i.offsetTop);)o+=i.offsetLeft-(i.tagName!="BODY"?i.scrollLeft:0),a+=i.offsetTop-(i.tagName!="BODY"?i.scrollTop:0),i=i.offsetParent;return{top:a,left:o}};r.default=s},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var s=function(i){return i=i||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(i,function(o){return{node:o}})};r.default=s}])})})(Ym);var PA=Ym.exports;const CA=Jm(PA);const OA={name:"App",components:{NavBar:xa,Footer:Na,HomepageParallax:Km,AboutCarousel:Xm},mounted(){CA.init()}},kA={id:"app"};function xA(t,e,n,r,s,i){const o=Ge("router-view");return oe(),me("div",kA,[ne(o)])}const NA=tt(OA,[["render",xA]]);function DA(){return Zm().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Zm(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const MA=typeof Proxy=="function",LA="devtools-plugin:setup",VA="plugin:settings:set";let jr,wc;function $A(){var t;return jr!==void 0||(typeof window<"u"&&window.performance?(jr=!0,wc=window.performance):typeof global<"u"&&(!((t=global.perf_hooks)===null||t===void 0)&&t.performance)?(jr=!0,wc=global.perf_hooks.performance):jr=!1),jr}function FA(){return $A()?wc.now():Date.now()}class UA{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const o in e.settings){const a=e.settings[o];r[o]=a.defaultValue}const s=`__vue-devtools-plugin-settings__${e.id}`;let i=Object.assign({},r);try{const o=localStorage.getItem(s),a=JSON.parse(o);Object.assign(i,a)}catch{}this.fallbacks={getSettings(){return i},setSettings(o){try{localStorage.setItem(s,JSON.stringify(o))}catch{}i=o},now(){return FA()}},n&&n.on(VA,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:a,args:l,resolve:c})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function jA(t,e){const n=t,r=Zm(),s=DA(),i=MA&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))s.emit(LA,t,e);else{const o=i?new UA(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:o}),o&&e(o.proxiedTarget)}}/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var BA="store";function As(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function HA(t){return t!==null&&typeof t=="object"}function zA(t){return t&&typeof t.then=="function"}function qA(t,e){return function(){return t(e)}}function eg(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function tg(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Da(t,n,[],t._modules.root,!0),Pu(t,n,e)}function Pu(t,e,n){var r=t._state,s=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,o={},a={},l=lv(!0);l.run(function(){As(i,function(c,u){o[u]=qA(c,t),a[u]=Xe(function(){return o[u]()}),Object.defineProperty(t.getters,u,{get:function(){return a[u].value},enumerable:!0})})}),t._state=on({data:e}),t._scope=l,t.strict&&XA(t),r&&n&&t._withCommit(function(){r.data=null}),s&&s.stop()}function Da(t,e,n,r,s){var i=!n.length,o=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[o],t._modulesNamespaceMap[o]=r),!i&&!s){var a=Cu(e,n.slice(0,-1)),l=n[n.length-1];t._withCommit(function(){a[l]=r.state})}var c=r.context=WA(t,o,n);r.forEachMutation(function(u,h){var d=o+h;GA(t,d,u,c)}),r.forEachAction(function(u,h){var d=u.root?h:o+h,f=u.handler||u;KA(t,d,f,c)}),r.forEachGetter(function(u,h){var d=o+h;QA(t,d,u,c)}),r.forEachChild(function(u,h){Da(t,e,n.concat(h),u,s)})}function WA(t,e,n){var r=e==="",s={dispatch:r?t.dispatch:function(i,o,a){var l=Ko(i,o,a),c=l.payload,u=l.options,h=l.type;return(!u||!u.root)&&(h=e+h),t.dispatch(h,c)},commit:r?t.commit:function(i,o,a){var l=Ko(i,o,a),c=l.payload,u=l.options,h=l.type;(!u||!u.root)&&(h=e+h),t.commit(h,c,u)}};return Object.defineProperties(s,{getters:{get:r?function(){return t.getters}:function(){return ng(t,e)}},state:{get:function(){return Cu(t.state,n)}}}),s}function ng(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(s){if(s.slice(0,r)===e){var i=s.slice(r);Object.defineProperty(n,i,{get:function(){return t.getters[s]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function GA(t,e,n,r){var s=t._mutations[e]||(t._mutations[e]=[]);s.push(function(o){n.call(t,r.state,o)})}function KA(t,e,n,r){var s=t._actions[e]||(t._actions[e]=[]);s.push(function(o){var a=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},o);return zA(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(l){throw t._devtoolHook.emit("vuex:error",l),l}):a})}function QA(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(i){return n(r.state,r.getters,i.state,i.getters)})}function XA(t){vn(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function Cu(t,e){return e.reduce(function(n,r){return n[r]},t)}function Ko(t,e,n){return HA(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var JA="vuex bindings",Md="vuex:mutations",Il="vuex:actions",Br="vuex",YA=0;function ZA(t,e){jA({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[JA]},function(n){n.addTimelineLayer({id:Md,label:"Vuex Mutations",color:Ld}),n.addTimelineLayer({id:Il,label:"Vuex Actions",color:Ld}),n.addInspector({id:Br,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===Br)if(r.filter){var s=[];og(s,e._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[ig(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===Br){var s=r.nodeId;ng(e,s),r.state=nS(sS(e._modules,s),s==="root"?e.getters:e._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===Br){var s=r.nodeId,i=r.path;s!=="root"&&(i=s.split("/").filter(Boolean).concat(i)),e._withCommit(function(){r.set(e._state.data,i,r.state.value)})}}),e.subscribe(function(r,s){var i={};r.payload&&(i.payload=r.payload),i.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(Br),n.sendInspectorState(Br),n.addTimelineEvent({layerId:Md,event:{time:Date.now(),title:r.type,data:i}})}),e.subscribeAction({before:function(r,s){var i={};r.payload&&(i.payload=r.payload),r._id=YA++,r._time=Date.now(),i.state=s,n.addTimelineEvent({layerId:Il,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:i}})},after:function(r,s){var i={},o=Date.now()-r._time;i.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(i.payload=r.payload),i.state=s,n.addTimelineEvent({layerId:Il,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:i}})}})})}var Ld=8702998,eS=6710886,tS=16777215,rg={label:"namespaced",textColor:tS,backgroundColor:eS};function sg(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function ig(t,e){return{id:e||"root",label:sg(e),tags:t.namespaced?[rg]:[],children:Object.keys(t._children).map(function(n){return ig(t._children[n],e+n+"/")})}}function og(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[rg]:[]}),Object.keys(e._children).forEach(function(s){og(t,e._children[s],n,r+s+"/")})}function nS(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),s={state:Object.keys(t.state).map(function(o){return{key:o,editable:!0,value:t.state[o]}})};if(r.length){var i=rS(e);s.getters=Object.keys(i).map(function(o){return{key:o.endsWith("/")?sg(o):o,editable:!1,value:Ec(function(){return i[o]})}})}return s}function rS(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var s=e,i=r.pop();r.forEach(function(o){s[o]||(s[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),s=s[o]._custom.value}),s[i]=Ec(function(){return t[n]})}else e[n]=Ec(function(){return t[n]})}),e}function sS(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,s,i){var o=r[s];if(!o)throw new Error('Missing module "'+s+'" for path "'+e+'".');return i===n.length-1?o:o._children},e==="root"?t:t.root._children)}function Ec(t){try{return t()}catch(e){return e}}var Qt=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},ag={namespaced:{configurable:!0}};ag.namespaced.get=function(){return!!this._rawModule.namespaced};Qt.prototype.addChild=function(e,n){this._children[e]=n};Qt.prototype.removeChild=function(e){delete this._children[e]};Qt.prototype.getChild=function(e){return this._children[e]};Qt.prototype.hasChild=function(e){return e in this._children};Qt.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};Qt.prototype.forEachChild=function(e){As(this._children,e)};Qt.prototype.forEachGetter=function(e){this._rawModule.getters&&As(this._rawModule.getters,e)};Qt.prototype.forEachAction=function(e){this._rawModule.actions&&As(this._rawModule.actions,e)};Qt.prototype.forEachMutation=function(e){this._rawModule.mutations&&As(this._rawModule.mutations,e)};Object.defineProperties(Qt.prototype,ag);var Lr=function(e){this.register([],e,!1)};Lr.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};Lr.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};Lr.prototype.update=function(e){lg([],this.root,e)};Lr.prototype.register=function(e,n,r){var s=this;r===void 0&&(r=!0);var i=new Qt(n,r);if(e.length===0)this.root=i;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],i)}n.modules&&As(n.modules,function(a,l){s.register(e.concat(l),a,r)})};Lr.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};Lr.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function lg(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;lg(t.concat(r),e.getChild(r),n.modules[r])}}function iS(t){return new Ot(t)}var Ot=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var s=e.strict;s===void 0&&(s=!1);var i=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Lr(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var o=this,a=this,l=a.dispatch,c=a.commit;this.dispatch=function(d,f){return l.call(o,d,f)},this.commit=function(d,f,_){return c.call(o,d,f,_)},this.strict=s;var u=this._modules.root.state;Da(this,u,[],this._modules.root),Pu(this,u),r.forEach(function(h){return h(n)})},Ou={state:{configurable:!0}};Ot.prototype.install=function(e,n){e.provide(n||BA,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&ZA(e,this)};Ou.state.get=function(){return this._state.data};Ou.state.set=function(t){};Ot.prototype.commit=function(e,n,r){var s=this,i=Ko(e,n,r),o=i.type,a=i.payload,l={type:o,payload:a},c=this._mutations[o];c&&(this._withCommit(function(){c.forEach(function(h){h(a)})}),this._subscribers.slice().forEach(function(u){return u(l,s.state)}))};Ot.prototype.dispatch=function(e,n){var r=this,s=Ko(e,n),i=s.type,o=s.payload,a={type:i,payload:o},l=this._actions[i];if(l){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(a,r.state)})}catch{}var c=l.length>1?Promise.all(l.map(function(u){return u(o)})):l[0](o);return new Promise(function(u,h){c.then(function(d){try{r._actionSubscribers.filter(function(f){return f.after}).forEach(function(f){return f.after(a,r.state)})}catch{}u(d)},function(d){try{r._actionSubscribers.filter(function(f){return f.error}).forEach(function(f){return f.error(a,r.state,d)})}catch{}h(d)})})}};Ot.prototype.subscribe=function(e,n){return eg(e,this._subscribers,n)};Ot.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return eg(r,this._actionSubscribers,n)};Ot.prototype.watch=function(e,n,r){var s=this;return vn(function(){return e(s.state,s.getters)},n,Object.assign({},r))};Ot.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};Ot.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Da(this,this.state,e,this._modules.get(e),r.preserveState),Pu(this,this.state)};Ot.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=Cu(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),tg(this)};Ot.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};Ot.prototype.hotUpdate=function(e){this._modules.update(e),tg(this,!0)};Ot.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(Ot.prototype,Ou);const oS=iS({state:{isLoggedIn:!1},mutations:{setLoggedIn(t){t.isLoggedIn=!0},setLoggedOut(t){t.isLoggedIn=!1}},actions:{login(t){setTimeout(()=>{t.commit("setLoggedIn")},1e3)},logout(t){t.commit("setLoggedOut")}},getters:{isUserLoggedIn(t){return t.isLoggedIn}}}),aS="modulepreload",lS=function(t){return"/"+t},Vd={},cS=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=lS(i),i in Vd)return;Vd[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let u=s.length-1;u>=0;u--){const h=s[u];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":aS,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((u,h)=>{c.addEventListener("load",u),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Gr=typeof window<"u";function uS(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Te=Object.assign;function Al(t,e){const n={};for(const r in e){const s=e[r];n[r]=Kt(s)?s.map(t):t(s)}return n}const Zs=()=>{},Kt=Array.isArray,hS=/\/$/,dS=t=>t.replace(hS,"");function Sl(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=gS(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function fS(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function $d(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function pS(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&hs(e.matched[r],n.matched[s])&&cg(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function hs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function cg(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!mS(t[n],e[n]))return!1;return!0}function mS(t,e){return Kt(t)?Fd(t,e):Kt(e)?Fd(e,t):t===e}function Fd(t,e){return Kt(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function gS(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var _i;(function(t){t.pop="pop",t.push="push"})(_i||(_i={}));var ei;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ei||(ei={}));function _S(t){if(!t)if(Gr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),dS(t)}const yS=/^[^#]+#/;function vS(t,e){return t.replace(yS,"#")+e}function wS(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Ma=()=>({left:window.pageXOffset,top:window.pageYOffset});function ES(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=wS(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Ud(t,e){return(history.state?history.state.position-e:-1)+t}const bc=new Map;function bS(t,e){bc.set(t,e)}function TS(t){const e=bc.get(t);return bc.delete(t),e}let IS=()=>location.protocol+"//"+location.host;function ug(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),$d(l,"")}return $d(n,t)+r+s}function AS(t,e,n,r){let s=[],i=[],o=null;const a=({state:d})=>{const f=ug(t,location),_=n.value,v=e.value;let b=0;if(d){if(n.value=f,e.value=d,o&&o===_){o=null;return}b=v?d.position-v.position:0}else r(f);s.forEach(A=>{A(n.value,_,{delta:b,type:_i.pop,direction:b?b>0?ei.forward:ei.back:ei.unknown})})};function l(){o=n.value}function c(d){s.push(d);const f=()=>{const _=s.indexOf(d);_>-1&&s.splice(_,1)};return i.push(f),f}function u(){const{history:d}=window;d.state&&d.replaceState(Te({},d.state,{scroll:Ma()}),"")}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function jd(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Ma():null}}function SS(t){const{history:e,location:n}=window,r={value:ug(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=t.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:IS()+t+l;try{e[u?"replaceState":"pushState"](c,"",d),s.value=c}catch(f){console.error(f),n[u?"replace":"assign"](d)}}function o(l,c){const u=Te({},e.state,jd(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});i(l,u,!0),r.value=l}function a(l,c){const u=Te({},s.value,e.state,{forward:l,scroll:Ma()});i(u.current,u,!0);const h=Te({},jd(r.value,l,null),{position:u.position+1},c);i(l,h,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function RS(t){t=_S(t);const e=SS(t),n=AS(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Te({location:"",base:t,go:r,createHref:vS.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function PS(t){return typeof t=="string"||t&&typeof t=="object"}function hg(t){return typeof t=="string"||typeof t=="symbol"}const On={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},dg=Symbol("");var Bd;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Bd||(Bd={}));function ds(t,e){return Te(new Error,{type:t,[dg]:!0},e)}function fn(t,e){return t instanceof Error&&dg in t&&(e==null||!!(t.type&e))}const Hd="[^/]+?",CS={sensitive:!1,strict:!1,start:!0,end:!0},OS=/[.+*?^${}()[\]/\\]/g;function kS(t,e){const n=Te({},CS,e),r=[];let s=n.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let h=0;h<c.length;h++){const d=c[h];let f=40+(n.sensitive?.25:0);if(d.type===0)h||(s+="/"),s+=d.value.replace(OS,"\\$&"),f+=40;else if(d.type===1){const{value:_,repeatable:v,optional:b,regexp:A}=d;i.push({name:_,repeatable:v,optional:b});const R=A||Hd;if(R!==Hd){f+=10;try{new RegExp(`(${R})`)}catch(N){throw new Error(`Invalid custom RegExp for param "${_}" (${R}): `+N.message)}}let F=v?`((?:${R})(?:/(?:${R}))*)`:`(${R})`;h||(F=b&&c.length<2?`(?:/${F})`:"/"+F),b&&(F+="?"),s+=F,f+=20,b&&(f+=-8),v&&(f+=-20),R===".*"&&(f+=-50)}u.push(f)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const f=u[d]||"",_=i[d-1];h[_.name]=f&&_.repeatable?f.split("/"):f}return h}function l(c){let u="",h=!1;for(const d of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const f of d)if(f.type===0)u+=f.value;else if(f.type===1){const{value:_,repeatable:v,optional:b}=f,A=_ in c?c[_]:"";if(Kt(A)&&!v)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const R=Kt(A)?A.join("/"):A;if(!R)if(b)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);u+=R}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function xS(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function NS(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=xS(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(zd(r))return 1;if(zd(s))return-1}return s.length-r.length}function zd(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const DS={type:0,value:""},MS=/[a-zA-Z0-9_]/;function LS(t){if(!t)return[[]];if(t==="/")return[[DS]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,c="",u="";function h(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:MS.test(l)?d():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),s}function VS(t,e,n){const r=kS(LS(t.path),n),s=Te(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function $S(t,e){const n=[],r=new Map;e=Gd({strict:!1,end:!0,sensitive:!1},e);function s(u){return r.get(u)}function i(u,h,d){const f=!d,_=FS(u);_.aliasOf=d&&d.record;const v=Gd(e,u),b=[_];if("alias"in u){const F=typeof u.alias=="string"?[u.alias]:u.alias;for(const N of F)b.push(Te({},_,{components:d?d.record.components:_.components,path:N,aliasOf:d?d.record:_}))}let A,R;for(const F of b){const{path:N}=F;if(h&&N[0]!=="/"){const re=h.record.path,G=re[re.length-1]==="/"?"":"/";F.path=h.record.path+(N&&G+N)}if(A=VS(F,h,v),d?d.alias.push(A):(R=R||A,R!==A&&R.alias.push(A),f&&u.name&&!Wd(A)&&o(u.name)),_.children){const re=_.children;for(let G=0;G<re.length;G++)i(re[G],A,d&&d.children[G])}d=d||A,(A.record.components&&Object.keys(A.record.components).length||A.record.name||A.record.redirect)&&l(A)}return R?()=>{o(R)}:Zs}function o(u){if(hg(u)){const h=r.get(u);h&&(r.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&NS(u,n[h])>=0&&(u.record.path!==n[h].record.path||!fg(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!Wd(u)&&r.set(u.record.name,u)}function c(u,h){let d,f={},_,v;if("name"in u&&u.name){if(d=r.get(u.name),!d)throw ds(1,{location:u});v=d.record.name,f=Te(qd(h.params,d.keys.filter(R=>!R.optional).map(R=>R.name)),u.params&&qd(u.params,d.keys.map(R=>R.name))),_=d.stringify(f)}else if("path"in u)_=u.path,d=n.find(R=>R.re.test(_)),d&&(f=d.parse(_),v=d.record.name);else{if(d=h.name?r.get(h.name):n.find(R=>R.re.test(h.path)),!d)throw ds(1,{location:u,currentLocation:h});v=d.record.name,f=Te({},h.params,u.params),_=d.stringify(f)}const b=[];let A=d;for(;A;)b.unshift(A.record),A=A.parent;return{name:v,path:_,params:f,matched:b,meta:jS(b)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function qd(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function FS(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:US(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function US(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Wd(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function jS(t){return t.reduce((e,n)=>Te(e,n.meta),{})}function Gd(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function fg(t,e){return e.children.some(n=>n===t||fg(t,n))}const pg=/#/g,BS=/&/g,HS=/\//g,zS=/=/g,qS=/\?/g,mg=/\+/g,WS=/%5B/g,GS=/%5D/g,gg=/%5E/g,KS=/%60/g,_g=/%7B/g,QS=/%7C/g,yg=/%7D/g,XS=/%20/g;function ku(t){return encodeURI(""+t).replace(QS,"|").replace(WS,"[").replace(GS,"]")}function JS(t){return ku(t).replace(_g,"{").replace(yg,"}").replace(gg,"^")}function Tc(t){return ku(t).replace(mg,"%2B").replace(XS,"+").replace(pg,"%23").replace(BS,"%26").replace(KS,"`").replace(_g,"{").replace(yg,"}").replace(gg,"^")}function YS(t){return Tc(t).replace(zS,"%3D")}function ZS(t){return ku(t).replace(pg,"%23").replace(qS,"%3F")}function eR(t){return t==null?"":ZS(t).replace(HS,"%2F")}function Qo(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function tR(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(mg," "),o=i.indexOf("="),a=Qo(o<0?i:i.slice(0,o)),l=o<0?null:Qo(i.slice(o+1));if(a in e){let c=e[a];Kt(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function Kd(t){let e="";for(let n in t){const r=t[n];if(n=YS(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Kt(r)?r.map(i=>i&&Tc(i)):[r&&Tc(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function nR(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Kt(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const rR=Symbol(""),Qd=Symbol(""),La=Symbol(""),vg=Symbol(""),Ic=Symbol("");function Ns(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Dn(t,e,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(ds(4,{from:n,to:e})):h instanceof Error?a(h):PS(h)?a(ds(2,{from:e,to:h})):(i&&r.enterCallbacks[s]===i&&typeof h=="function"&&i.push(h),o())},c=t.call(r&&r.instances[s],e,n,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function Rl(t,e,n,r){const s=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(sR(a)){const c=(a.__vccOpts||a)[e];c&&s.push(Dn(c,n,r,i,o))}else{let l=a();s.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=uS(c)?c.default:c;i.components[o]=u;const d=(u.__vccOpts||u)[e];return d&&Dn(d,n,r,i,o)()}))}}return s}function sR(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Xd(t){const e=ut(La),n=ut(vg),r=Xe(()=>e.resolve(es(t.to))),s=Xe(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const d=h.findIndex(hs.bind(null,u));if(d>-1)return d;const f=Jd(l[c-2]);return c>1&&Jd(u)===f&&h[h.length-1].path!==f?h.findIndex(hs.bind(null,l[c-2])):d}),i=Xe(()=>s.value>-1&&lR(n.params,r.value.params)),o=Xe(()=>s.value>-1&&s.value===n.matched.length-1&&cg(n.params,r.value.params));function a(l={}){return aR(l)?e[es(t.replace)?"replace":"push"](es(t.to)).catch(Zs):Promise.resolve()}return{route:r,href:Xe(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const iR=kr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Xd,setup(t,{slots:e}){const n=on(Xd(t)),{options:r}=ut(La),s=Xe(()=>({[Yd(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Yd(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:jn("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),oR=iR;function aR(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function lR(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Kt(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Jd(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Yd=(t,e,n)=>t??e??n,cR=kr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=ut(Ic),s=Xe(()=>t.route||r.value),i=ut(Qd,0),o=Xe(()=>{let c=es(i);const{matched:u}=s.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Xe(()=>s.value.matched[o.value]);xt(Qd,Xe(()=>o.value+1)),xt(rR,a),xt(Ic,s);const l=Re();return vn(()=>[l.value,a.value,t.name],([c,u,h],[d,f,_])=>{u&&(u.instances[h]=c,f&&f!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!hs(u,f)||!d)&&(u.enterCallbacks[h]||[]).forEach(v=>v(c))},{flush:"post"}),()=>{const c=s.value,u=t.name,h=a.value,d=h&&h.components[u];if(!d)return Zd(n.default,{Component:d,route:c});const f=h.props[u],_=f?f===!0?c.params:typeof f=="function"?f(c):f:null,b=jn(d,Te({},_,e,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return Zd(n.default,{Component:b,route:c})||b}}});function Zd(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const uR=cR;function hR(t){const e=$S(t.routes,t),n=t.parseQuery||tR,r=t.stringifyQuery||Kd,s=t.history,i=Ns(),o=Ns(),a=Ns(),l=kv(On);let c=On;Gr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Al.bind(null,T=>""+T),h=Al.bind(null,eR),d=Al.bind(null,Qo);function f(T,D){let O,U;return hg(T)?(O=e.getRecordMatcher(T),U=D):U=T,e.addRoute(U,O)}function _(T){const D=e.getRecordMatcher(T);D&&e.removeRoute(D)}function v(){return e.getRoutes().map(T=>T.record)}function b(T){return!!e.getRecordMatcher(T)}function A(T,D){if(D=Te({},D||l.value),typeof T=="string"){const g=Sl(n,T,D.path),w=e.resolve({path:g.path},D),E=s.createHref(g.fullPath);return Te(g,w,{params:d(w.params),hash:Qo(g.hash),redirectedFrom:void 0,href:E})}let O;if("path"in T)O=Te({},T,{path:Sl(n,T.path,D.path).path});else{const g=Te({},T.params);for(const w in g)g[w]==null&&delete g[w];O=Te({},T,{params:h(g)}),D.params=h(D.params)}const U=e.resolve(O,D),ee=T.hash||"";U.params=u(d(U.params));const p=fS(r,Te({},T,{hash:JS(ee),path:U.path})),m=s.createHref(p);return Te({fullPath:p,hash:ee,query:r===Kd?nR(T.query):T.query||{}},U,{redirectedFrom:void 0,href:m})}function R(T){return typeof T=="string"?Sl(n,T,l.value.path):Te({},T)}function F(T,D){if(c!==T)return ds(8,{from:D,to:T})}function N(T){return le(T)}function re(T){return N(Te(R(T),{replace:!0}))}function G(T){const D=T.matched[T.matched.length-1];if(D&&D.redirect){const{redirect:O}=D;let U=typeof O=="function"?O(T):O;return typeof U=="string"&&(U=U.includes("?")||U.includes("#")?U=R(U):{path:U},U.params={}),Te({query:T.query,hash:T.hash,params:"path"in U?{}:T.params},U)}}function le(T,D){const O=c=A(T),U=l.value,ee=T.state,p=T.force,m=T.replace===!0,g=G(O);if(g)return le(Te(R(g),{state:typeof g=="object"?Te({},ee,g.state):ee,force:p,replace:m}),D||O);const w=O;w.redirectedFrom=D;let E;return!p&&pS(r,U,O)&&(E=ds(16,{to:w,from:U}),rt(U,U,!0,!1)),(E?Promise.resolve(E):be(w,U)).catch(S=>fn(S)?fn(S,2)?S:ft(S):ie(S,w,U)).then(S=>{if(S){if(fn(S,2))return le(Te({replace:m},R(S.to),{state:typeof S.to=="object"?Te({},ee,S.to.state):ee,force:p}),D||w)}else S=L(w,U,!0,m,ee);return j(w,U,S),S})}function Z(T,D){const O=F(T,D);return O?Promise.reject(O):Promise.resolve()}function ue(T){const D=Me.values().next().value;return D&&typeof D.runWithContext=="function"?D.runWithContext(T):T()}function be(T,D){let O;const[U,ee,p]=dR(T,D);O=Rl(U.reverse(),"beforeRouteLeave",T,D);for(const g of U)g.leaveGuards.forEach(w=>{O.push(Dn(w,T,D))});const m=Z.bind(null,T,D);return O.push(m),Ee(O).then(()=>{O=[];for(const g of i.list())O.push(Dn(g,T,D));return O.push(m),Ee(O)}).then(()=>{O=Rl(ee,"beforeRouteUpdate",T,D);for(const g of ee)g.updateGuards.forEach(w=>{O.push(Dn(w,T,D))});return O.push(m),Ee(O)}).then(()=>{O=[];for(const g of p)if(g.beforeEnter)if(Kt(g.beforeEnter))for(const w of g.beforeEnter)O.push(Dn(w,T,D));else O.push(Dn(g.beforeEnter,T,D));return O.push(m),Ee(O)}).then(()=>(T.matched.forEach(g=>g.enterCallbacks={}),O=Rl(p,"beforeRouteEnter",T,D),O.push(m),Ee(O))).then(()=>{O=[];for(const g of o.list())O.push(Dn(g,T,D));return O.push(m),Ee(O)}).catch(g=>fn(g,8)?g:Promise.reject(g))}function j(T,D,O){a.list().forEach(U=>ue(()=>U(T,D,O)))}function L(T,D,O,U,ee){const p=F(T,D);if(p)return p;const m=D===On,g=Gr?history.state:{};O&&(U||m?s.replace(T.fullPath,Te({scroll:m&&g&&g.scroll},ee)):s.push(T.fullPath,ee)),l.value=T,rt(T,D,O,m),ft()}let Q;function q(){Q||(Q=s.listen((T,D,O)=>{if(!qe.listening)return;const U=A(T),ee=G(U);if(ee){le(Te(ee,{replace:!0}),U).catch(Zs);return}c=U;const p=l.value;Gr&&bS(Ud(p.fullPath,O.delta),Ma()),be(U,p).catch(m=>fn(m,12)?m:fn(m,2)?(le(m.to,U).then(g=>{fn(g,20)&&!O.delta&&O.type===_i.pop&&s.go(-1,!1)}).catch(Zs),Promise.reject()):(O.delta&&s.go(-O.delta,!1),ie(m,U,p))).then(m=>{m=m||L(U,p,!1),m&&(O.delta&&!fn(m,8)?s.go(-O.delta,!1):O.type===_i.pop&&fn(m,20)&&s.go(-1,!1)),j(U,p,m)}).catch(Zs)}))}let Oe=Ns(),ye=Ns(),ce;function ie(T,D,O){ft(T);const U=ye.list();return U.length?U.forEach(ee=>ee(T,D,O)):console.error(T),Promise.reject(T)}function Ue(){return ce&&l.value!==On?Promise.resolve():new Promise((T,D)=>{Oe.add([T,D])})}function ft(T){return ce||(ce=!T,q(),Oe.list().forEach(([D,O])=>T?O(T):D()),Oe.reset()),T}function rt(T,D,O,U){const{scrollBehavior:ee}=t;if(!Gr||!ee)return Promise.resolve();const p=!O&&TS(Ud(T.fullPath,0))||(U||!O)&&history.state&&history.state.scroll||null;return lu().then(()=>ee(T,D,p)).then(m=>m&&ES(m)).catch(m=>ie(m,T,D))}const Ae=T=>s.go(T);let ke;const Me=new Set,qe={currentRoute:l,listening:!0,addRoute:f,removeRoute:_,hasRoute:b,getRoutes:v,resolve:A,options:t,push:N,replace:re,go:Ae,back:()=>Ae(-1),forward:()=>Ae(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ye.add,isReady:Ue,install(T){const D=this;T.component("RouterLink",oR),T.component("RouterView",uR),T.config.globalProperties.$router=D,Object.defineProperty(T.config.globalProperties,"$route",{enumerable:!0,get:()=>es(l)}),Gr&&!ke&&l.value===On&&(ke=!0,N(s.location).catch(ee=>{}));const O={};for(const ee in On)Object.defineProperty(O,ee,{get:()=>l.value[ee],enumerable:!0});T.provide(La,D),T.provide(vg,Tp(O)),T.provide(Ic,l);const U=T.unmount;Me.add(T),T.unmount=function(){Me.delete(T),Me.size<1&&(c=On,Q&&Q(),Q=null,l.value=On,ke=!1,ce=!1),U()}}};function Ee(T){return T.reduce((D,O)=>D.then(()=>ue(O)),Promise.resolve())}return qe}function dR(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>hs(c,a))?r.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(c=>hs(c,l))||s.push(l))}return[n,r,s]}function fR(){return ut(La)}const pR={components:{NavBar:xa,HomepageParallax:Km,Footer:Na,AboutCarousel:Xm}},mR=t=>(Cr("data-v-83f33009"),t=t(),Or(),t),gR=er('<head data-v-83f33009><meta charset="UTF-8" data-v-83f33009><meta http-equiv="X-UA-Compatible" content="IE=edge" data-v-83f33009><meta name="viewport" content="width=device-width, initial-scale=1.0" data-v-83f33009><title data-v-83f33009>EcoScape</title><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous" data-v-83f33009><link rel="icon" href="./public/favicon.ico" data-v-83f33009><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" data-v-83f33009><link rel="stylesheet" href="../index.css" data-v-83f33009></head>',1),_R=mR(()=>y("hr",{id:"footer-separation"},null,-1));function yR(t,e,n,r,s,i){const o=Ge("NavBar"),a=Ge("HomepageParallax"),l=Ge("AboutCarousel"),c=Ge("Footer");return oe(),me(He,null,[gR,y("body",null,[ne(o),ne(a),y("section",null,[ne(l)]),_R,ne(c)])],64)}const vR=tt(pR,[["render",yR],["__scopeId","data-v-83f33009"]]);var wR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V,xu=xu||{},Y=wR||self;function Va(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Fi(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function ER(t){return Object.prototype.hasOwnProperty.call(t,Pl)&&t[Pl]||(t[Pl]=++bR)}var Pl="closure_uid_"+(1e9*Math.random()>>>0),bR=0;function TR(t,e,n){return t.call.apply(t.bind,arguments)}function IR(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function wt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?wt=TR:wt=IR,wt.apply(null,arguments)}function lo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function nt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function nr(){this.s=this.s,this.o=this.o}var AR=0;nr.prototype.s=!1;nr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),AR!=0)&&ER(this)};nr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wg=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Nu(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ef(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Va(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Et(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Et.prototype.h=function(){this.defaultPrevented=!0};var SR=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Y.addEventListener("test",()=>{},e),Y.removeEventListener("test",()=>{},e)}catch{}return t}();function yi(t){return/^[\s\xa0]*$/.test(t)}function $a(){var t=Y.navigator;return t&&(t=t.userAgent)?t:""}function tn(t){return $a().indexOf(t)!=-1}function Du(t){return Du[" "](t),t}Du[" "]=function(){};function RR(t,e){var n=vP;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var PR=tn("Opera"),fs=tn("Trident")||tn("MSIE"),Eg=tn("Edge"),Ac=Eg||fs,bg=tn("Gecko")&&!($a().toLowerCase().indexOf("webkit")!=-1&&!tn("Edge"))&&!(tn("Trident")||tn("MSIE"))&&!tn("Edge"),CR=$a().toLowerCase().indexOf("webkit")!=-1&&!tn("Edge");function Tg(){var t=Y.document;return t?t.documentMode:void 0}var Sc;e:{var Cl="",Ol=function(){var t=$a();if(bg)return/rv:([^\);]+)(\)|;)/.exec(t);if(Eg)return/Edge\/([\d\.]+)/.exec(t);if(fs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(CR)return/WebKit\/(\S+)/.exec(t);if(PR)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Ol&&(Cl=Ol?Ol[1]:""),fs){var kl=Tg();if(kl!=null&&kl>parseFloat(Cl)){Sc=String(kl);break e}}Sc=Cl}var Rc;if(Y.document&&fs){var tf=Tg();Rc=tf||parseInt(Sc,10)||void 0}else Rc=void 0;var OR=Rc;function vi(t,e){if(Et.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(bg){e:{try{Du(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:kR[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&vi.$.h.call(this)}}nt(vi,Et);var kR={2:"touch",3:"pen",4:"mouse"};vi.prototype.h=function(){vi.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ui="closure_listenable_"+(1e6*Math.random()|0),xR=0;function NR(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++xR,this.fa=this.ia=!1}function Fa(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Mu(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function DR(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Ig(t){const e={};for(const n in t)e[n]=t[n];return e}const nf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ag(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<nf.length;i++)n=nf[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ua(t){this.src=t,this.g={},this.h=0}Ua.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Cc(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new NR(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function Pc(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=wg(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Fa(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Cc(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Lu="closure_lm_"+(1e6*Math.random()|0),xl={};function Sg(t,e,n,r,s){if(r&&r.once)return Pg(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)Sg(t,e[i],n,r,s);return null}return n=Fu(n),t&&t[Ui]?t.O(e,n,Fi(r)?!!r.capture:!!r,s):Rg(t,e,n,!1,r,s)}function Rg(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Fi(s)?!!s.capture:!!s,a=$u(t);if(a||(t[Lu]=a=new Ua(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=MR(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)SR||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(Og(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function MR(){function t(n){return e.call(t.src,t.listener,n)}const e=LR;return t}function Pg(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)Pg(t,e[i],n,r,s);return null}return n=Fu(n),t&&t[Ui]?t.P(e,n,Fi(r)?!!r.capture:!!r,s):Rg(t,e,n,!0,r,s)}function Cg(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)Cg(t,e[i],n,r,s);else r=Fi(r)?!!r.capture:!!r,n=Fu(n),t&&t[Ui]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Cc(i,n,r,s),-1<n&&(Fa(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=$u(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Cc(e,n,r,s)),(n=-1<t?e[t]:null)&&Vu(n))}function Vu(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Ui])Pc(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Og(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=$u(e))?(Pc(n,t),n.h==0&&(n.src=null,e[Lu]=null)):Fa(t)}}}function Og(t){return t in xl?xl[t]:xl[t]="on"+t}function LR(t,e){if(t.fa)t=!0;else{e=new vi(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Vu(t),t=n.call(r,e)}return t}function $u(t){return t=t[Lu],t instanceof Ua?t:null}var Nl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fu(t){return typeof t=="function"?t:(t[Nl]||(t[Nl]=function(e){return t.handleEvent(e)}),t[Nl])}function Ze(){nr.call(this),this.i=new Ua(this),this.S=this,this.J=null}nt(Ze,nr);Ze.prototype[Ui]=!0;Ze.prototype.removeEventListener=function(t,e,n,r){Cg(this,t,e,n,r)};function ht(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Et(e,t);else if(e instanceof Et)e.target=e.target||t;else{var s=e;e=new Et(r,t),Ag(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=co(o,r,!0,e)&&s}if(o=e.g=t,s=co(o,r,!0,e)&&s,s=co(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=co(o,r,!1,e)&&s}Ze.prototype.N=function(){if(Ze.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Fa(n[r]);delete t.g[e],t.h--}}this.J=null};Ze.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ze.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function co(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Pc(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var Uu=Y.JSON.stringify;class VR{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function $R(){var t=ju;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class FR{constructor(){this.h=this.g=null}add(e,n){const r=kg.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var kg=new VR(()=>new UR,t=>t.reset());class UR{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function jR(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function BR(t){Y.setTimeout(()=>{throw t},0)}let wi,Ei=!1,ju=new FR,xg=()=>{const t=Y.Promise.resolve(void 0);wi=()=>{t.then(HR)}};var HR=()=>{for(var t;t=$R();){try{t.h.call(t.g)}catch(n){BR(n)}var e=kg;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ei=!1};function ja(t,e){Ze.call(this),this.h=t||1,this.g=e||Y,this.j=wt(this.qb,this),this.l=Date.now()}nt(ja,Ze);V=ja.prototype;V.ga=!1;V.T=null;V.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ht(this,"tick"),this.ga&&(Bu(this),this.start()))}};V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Bu(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}V.N=function(){ja.$.N.call(this),Bu(this),delete this.g};function Hu(t,e,n){if(typeof t=="function")n&&(t=wt(t,n));else if(t&&typeof t.handleEvent=="function")t=wt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Y.setTimeout(t,e||0)}function Ng(t){t.g=Hu(()=>{t.g=null,t.i&&(t.i=!1,Ng(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class zR extends nr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ng(this)}N(){super.N(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bi(t){nr.call(this),this.h=t,this.g={}}nt(bi,nr);var rf=[];function Dg(t,e,n,r){Array.isArray(n)||(n&&(rf[0]=n.toString()),n=rf);for(var s=0;s<n.length;s++){var i=Sg(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function Mg(t){Mu(t.g,function(e,n){this.g.hasOwnProperty(n)&&Vu(e)},t),t.g={}}bi.prototype.N=function(){bi.$.N.call(this),Mg(this)};bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ba(){this.g=!0}Ba.prototype.Ea=function(){this.g=!1};function qR(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function WR(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Xr(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+KR(t,n)+(r?" "+r:"")})}function GR(t,e){t.info(function(){return"TIMEOUT: "+e})}Ba.prototype.info=function(){};function KR(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Uu(n)}catch{return e}}var Vr={},sf=null;function Ha(){return sf=sf||new Ze}Vr.Ta="serverreachability";function Lg(t){Et.call(this,Vr.Ta,t)}nt(Lg,Et);function Ti(t){const e=Ha();ht(e,new Lg(e))}Vr.STAT_EVENT="statevent";function Vg(t,e){Et.call(this,Vr.STAT_EVENT,t),this.stat=e}nt(Vg,Et);function At(t){const e=Ha();ht(e,new Vg(e,t))}Vr.Ua="timingevent";function $g(t,e){Et.call(this,Vr.Ua,t),this.size=e}nt($g,Et);function ji(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){t()},e)}var za={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Fg={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function zu(){}zu.prototype.h=null;function of(t){return t.h||(t.h=t.i())}function Ug(){}var Bi={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function qu(){Et.call(this,"d")}nt(qu,Et);function Wu(){Et.call(this,"c")}nt(Wu,Et);var Oc;function qa(){}nt(qa,zu);qa.prototype.g=function(){return new XMLHttpRequest};qa.prototype.i=function(){return{}};Oc=new qa;function Hi(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new bi(this),this.P=QR,t=Ac?125:void 0,this.V=new ja(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new jg}function jg(){this.i=null,this.g="",this.h=!1}var QR=45e3,kc={},Xo={};V=Hi.prototype;V.setTimeout=function(t){this.P=t};function xc(t,e,n){t.L=1,t.v=Ga(In(e)),t.s=n,t.S=!0,Bg(t,null)}function Bg(t,e){t.G=Date.now(),zi(t),t.A=In(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),Xg(n.i,"t",r),t.C=0,n=t.l.J,t.h=new jg,t.g=__(t.l,n?e:null,!t.s),0<t.O&&(t.M=new zR(wt(t.Pa,t,t.g),t.O)),Dg(t.U,t.g,"readystatechange",t.nb),e=t.I?Ig(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ti(),qR(t.j,t.u,t.A,t.m,t.W,t.s)}V.nb=function(t){t=t.target;const e=this.M;e&&nn(t)==3?e.l():this.Pa(t)};V.Pa=function(t){try{if(t==this.g)e:{const u=nn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||Ac||this.g&&(this.h.h||this.g.ja()||uf(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?Ti(3):Ti(2)),Wa(this);var n=this.g.da();this.ca=n;t:if(Hg(this)){var r=uf(this.g);t="";var s=r.length,i=nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dr(this),ti(this);var o="";break t}this.h.i=new Y.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,WR(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yi(a)){var c=a;break t}}c=null}if(n=c)Xr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nc(this,n);else{this.i=!1,this.o=3,At(12),dr(this),ti(this);break e}}this.S?(zg(this,u,o),Ac&&this.i&&u==3&&(Dg(this.U,this.V,"tick",this.mb),this.V.start())):(Xr(this.j,this.m,o,null),Nc(this,o)),u==4&&dr(this),this.i&&!this.J&&(u==4?f_(this.l,this):(this.i=!1,zi(this)))}else gP(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,At(12)):(this.o=0,At(13)),dr(this),ti(this)}}}catch{}finally{}};function Hg(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function zg(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=XR(t,n),s==Xo){e==4&&(t.o=4,At(14),r=!1),Xr(t.j,t.m,null,"[Incomplete Response]");break}else if(s==kc){t.o=4,At(15),Xr(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Xr(t.j,t.m,s,null),Nc(t,s);Hg(t)&&s!=Xo&&s!=kc&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,At(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yu(e),e.M=!0,At(11))):(Xr(t.j,t.m,n,"[Invalid Chunked Response]"),dr(t),ti(t))}V.mb=function(){if(this.g){var t=nn(this.g),e=this.g.ja();this.C<e.length&&(Wa(this),zg(this,t,e),this.i&&t!=4&&zi(this))}};function XR(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Xo:(n=Number(e.substring(n,r)),isNaN(n)?kc:(r+=1,r+n>e.length?Xo:(e=e.slice(r,r+n),t.C=r+n,e)))}V.cancel=function(){this.J=!0,dr(this)};function zi(t){t.Y=Date.now()+t.P,qg(t,t.P)}function qg(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ji(wt(t.lb,t),e)}function Wa(t){t.B&&(Y.clearTimeout(t.B),t.B=null)}V.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(GR(this.j,this.A),this.L!=2&&(Ti(),At(17)),dr(this),this.o=2,ti(this)):qg(this,this.Y-t)};function ti(t){t.l.H==0||t.J||f_(t.l,t)}function dr(t){Wa(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Bu(t.V),Mg(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Nc(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Dc(n.i,t))){if(!t.K&&Dc(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Zo(n),Xa(n);else break e;Ju(n),At(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=ji(wt(n.ib,n),6e3));if(1>=Zg(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else fr(n,11)}else if((t.K||n.g==t)&&Zo(n),!yi(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=c[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const _=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var i=r.i;i.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Gu(i,i.h),i.h=null))}if(r.F){const v=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,Ne(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=g_(r,r.J?r.pa:null,r.Y),o.K){e_(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Wa(a),zi(a)),r.g=o}else h_(r);0<n.j.length&&Ja(n)}else c[0]!="stop"&&c[0]!="close"||fr(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?fr(n,7):Xu(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Ti(4)}catch{}}function JR(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Va(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function YR(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Va(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function Wg(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Va(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=YR(t),r=JR(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var Gg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZR(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function yr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof yr){this.h=t.h,Jo(this,t.j),this.s=t.s,this.g=t.g,Yo(this,t.m),this.l=t.l;var e=t.i,n=new Ii;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),af(this,n),this.o=t.o}else t&&(e=String(t).match(Gg))?(this.h=!1,Jo(this,e[1]||"",!0),this.s=Gs(e[2]||""),this.g=Gs(e[3]||"",!0),Yo(this,e[4]),this.l=Gs(e[5]||"",!0),af(this,e[6]||"",!0),this.o=Gs(e[7]||"")):(this.h=!1,this.i=new Ii(null,this.h))}yr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ks(e,lf,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ks(e,lf,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ks(n,n.charAt(0)=="/"?nP:tP,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ks(n,sP)),t.join("")};function In(t){return new yr(t)}function Jo(t,e,n){t.j=n?Gs(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Yo(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function af(t,e,n){e instanceof Ii?(t.i=e,iP(t.i,t.h)):(n||(e=Ks(e,rP)),t.i=new Ii(e,t.h))}function Ne(t,e,n){t.i.set(e,n)}function Ga(t){return Ne(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Gs(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ks(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,eP),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function eP(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var lf=/[#\/\?@]/g,tP=/[#\?:]/g,nP=/[#\?]/g,rP=/[#\?@]/g,sP=/#/g;function Ii(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function rr(t){t.g||(t.g=new Map,t.h=0,t.i&&ZR(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}V=Ii.prototype;V.add=function(t,e){rr(this),this.i=null,t=Ss(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Kg(t,e){rr(t),e=Ss(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Qg(t,e){return rr(t),e=Ss(t,e),t.g.has(e)}V.forEach=function(t,e){rr(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};V.ta=function(){rr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};V.Z=function(t){rr(this);let e=[];if(typeof t=="string")Qg(this,t)&&(e=e.concat(this.g.get(Ss(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};V.set=function(t,e){return rr(this),this.i=null,t=Ss(this,t),Qg(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};V.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function Xg(t,e,n){Kg(t,e),0<n.length&&(t.i=null,t.g.set(Ss(t,e),Nu(n)),t.h+=n.length)}V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function Ss(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function iP(t,e){e&&!t.j&&(rr(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(Kg(this,r),Xg(this,s,n))},t)),t.j=e}var oP=class{constructor(t,e){this.g=t,this.map=e}};function Jg(t){this.l=t||aP,Y.PerformanceNavigationTiming?(t=Y.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Y.g&&Y.g.Ka&&Y.g.Ka()&&Y.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var aP=10;function Yg(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Zg(t){return t.h?1:t.g?t.g.size:0}function Dc(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Gu(t,e){t.g?t.g.add(e):t.h=e}function e_(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Jg.prototype.cancel=function(){if(this.i=t_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function t_(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Nu(t.i)}var lP=class{stringify(t){return Y.JSON.stringify(t,void 0)}parse(t){return Y.JSON.parse(t,void 0)}};function cP(){this.g=new lP}function uP(t,e,n){const r=n||"";try{Wg(t,function(s,i){let o=s;Fi(s)&&(o=Uu(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function hP(t,e){const n=new Ba;if(Y.Image){const r=new Image;r.onload=lo(uo,n,r,"TestLoadImage: loaded",!0,e),r.onerror=lo(uo,n,r,"TestLoadImage: error",!1,e),r.onabort=lo(uo,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=lo(uo,n,r,"TestLoadImage: timeout",!1,e),Y.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function uo(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function qi(t){this.l=t.ec||null,this.j=t.ob||!1}nt(qi,zu);qi.prototype.g=function(){return new Ka(this.l,this.j)};qi.prototype.i=function(t){return function(){return t}}({});function Ka(t,e){Ze.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Ku,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nt(Ka,Ze);var Ku=0;V=Ka.prototype;V.open=function(t,e){if(this.readyState!=Ku)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ai(this)};V.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Y).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wi(this)),this.readyState=Ku};V.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Y.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;n_(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function n_(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}V.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Wi(this):Ai(this),this.readyState==3&&n_(this)}};V.Za=function(t){this.g&&(this.response=this.responseText=t,Wi(this))};V.Ya=function(t){this.g&&(this.response=t,Wi(this))};V.ka=function(){this.g&&Wi(this)};function Wi(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ai(t)}V.setRequestHeader=function(t,e){this.v.append(t,e)};V.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};V.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ai(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ka.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var dP=Y.JSON.parse;function Fe(t){Ze.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=r_,this.L=this.M=!1}nt(Fe,Ze);var r_="",fP=/^https?$/i,pP=["POST","PUT"];V=Fe.prototype;V.Oa=function(t){this.M=t};V.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Oc.g(),this.C=this.u?of(this.u):of(Oc),this.g.onreadystatechange=wt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){cf(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=Y.FormData&&t instanceof Y.FormData,!(0<=wg(pP,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{o_(this),0<this.B&&((this.L=mP(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wt(this.ua,this)):this.A=Hu(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){cf(this,i)}};function mP(t){return fs&&typeof t.timeout=="number"&&t.ontimeout!==void 0}V.ua=function(){typeof xu<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ht(this,"timeout"),this.abort(8))};function cf(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,s_(t),Qa(t)}function s_(t){t.F||(t.F=!0,ht(t,"complete"),ht(t,"error"))}V.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ht(this,"complete"),ht(this,"abort"),Qa(this))};V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qa(this,!0)),Fe.$.N.call(this)};V.La=function(){this.s||(this.G||this.v||this.l?i_(this):this.kb())};V.kb=function(){i_(this)};function i_(t){if(t.h&&typeof xu<"u"&&(!t.C[1]||nn(t)!=4||t.da()!=2)){if(t.v&&nn(t)==4)Hu(t.La,0,t);else if(ht(t,"readystatechange"),nn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(Gg)[1]||null;!s&&Y.self&&Y.self.location&&(s=Y.self.location.protocol.slice(0,-1)),r=!fP.test(s?s.toLowerCase():"")}n=r}if(n)ht(t,"complete"),ht(t,"success");else{t.m=6;try{var i=2<nn(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",s_(t)}}finally{Qa(t)}}}}function Qa(t,e){if(t.g){o_(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ht(t,"ready");try{n.onreadystatechange=r}catch{}}}function o_(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Y.clearTimeout(t.A),t.A=null)}V.isActive=function(){return!!this.g};function nn(t){return t.g?t.g.readyState:0}V.da=function(){try{return 2<nn(this)?this.g.status:-1}catch{return-1}};V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};V.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),dP(e)}};function uf(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case r_:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function gP(t){const e={};t=(t.g&&2<=nn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(yi(t[r]))continue;var n=jR(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}DR(e,function(r){return r.join(", ")})}V.Ia=function(){return this.m};V.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function a_(t){let e="";return Mu(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Qu(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=a_(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ne(t,e,n))}function Ds(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function l_(t){this.Ga=0,this.j=[],this.l=new Ba,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ds("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ds("baseRetryDelayMs",5e3,t),this.hb=Ds("retryDelaySeedMs",1e4,t),this.eb=Ds("forwardChannelMaxRetries",2,t),this.xa=Ds("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Jg(t&&t.concurrentRequestLimit),this.Ja=new cP,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}V=l_.prototype;V.ra=8;V.H=1;function Xu(t){if(c_(t),t.H==3){var e=t.W++,n=In(t.I);if(Ne(n,"SID",t.K),Ne(n,"RID",e),Ne(n,"TYPE","terminate"),Gi(t,n),e=new Hi(t,t.l,e),e.L=2,e.v=Ga(In(n)),n=!1,Y.navigator&&Y.navigator.sendBeacon)try{n=Y.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Y.Image&&(new Image().src=e.v,n=!0),n||(e.g=__(e.l,null),e.g.ha(e.v)),e.G=Date.now(),zi(e)}m_(t)}function Xa(t){t.g&&(Yu(t),t.g.cancel(),t.g=null)}function c_(t){Xa(t),t.u&&(Y.clearTimeout(t.u),t.u=null),Zo(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Y.clearTimeout(t.m),t.m=null)}function Ja(t){if(!Yg(t.i)&&!t.m){t.m=!0;var e=t.Na;wi||xg(),Ei||(wi(),Ei=!0),ju.add(e,t),t.C=0}}function _P(t,e){return Zg(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ji(wt(t.Na,t,e),p_(t,t.C)),t.C++,!0)}V.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Hi(this,this.l,t);let i=this.s;if(this.U&&(i?(i=Ig(i),Ag(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=u_(this,s,e),n=In(this.I),Ne(n,"RID",t),Ne(n,"CVER",22),this.F&&Ne(n,"X-HTTP-Session-Id",this.F),Gi(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(a_(i)))+"&"+e:this.o&&Qu(n,this.o,i)),Gu(this.i,s),this.bb&&Ne(n,"TYPE","init"),this.P?(Ne(n,"$req",e),Ne(n,"SID","null"),s.aa=!0,xc(s,n,null)):xc(s,n,e),this.H=2}}else this.H==3&&(t?hf(this,t):this.j.length==0||Yg(this.i)||hf(this))};function hf(t,e){var n;e?n=e.m:n=t.W++;const r=In(t.I);Ne(r,"SID",t.K),Ne(r,"RID",n),Ne(r,"AID",t.V),Gi(t,r),t.o&&t.s&&Qu(r,t.o,t.s),n=new Hi(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=u_(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Gu(t.i,n),xc(n,r,e)}function Gi(t,e){t.na&&Mu(t.na,function(n,r){Ne(e,r,n)}),t.h&&Wg({},function(n,r){Ne(e,r,n)})}function u_(t,e,n){n=Math.min(t.j.length,n);var r=t.h?wt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{uP(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function h_(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;wi||xg(),Ei||(wi(),Ei=!0),ju.add(e,t),t.A=0}}function Ju(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ji(wt(t.Ma,t),p_(t,t.A)),t.A++,!0)}V.Ma=function(){if(this.u=null,d_(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ji(wt(this.jb,this),t)}};V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,At(10),Xa(this),d_(this))};function Yu(t){t.B!=null&&(Y.clearTimeout(t.B),t.B=null)}function d_(t){t.g=new Hi(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=In(t.wa);Ne(e,"RID","rpc"),Ne(e,"SID",t.K),Ne(e,"AID",t.V),Ne(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Ne(e,"TO",t.qa),Ne(e,"TYPE","xmlhttp"),Gi(t,e),t.o&&t.s&&Qu(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Ga(In(e)),n.s=null,n.S=!0,Bg(n,t)}V.ib=function(){this.v!=null&&(this.v=null,Xa(this),Ju(this),At(19))};function Zo(t){t.v!=null&&(Y.clearTimeout(t.v),t.v=null)}function f_(t,e){var n=null;if(t.g==e){Zo(t),Yu(t),t.g=null;var r=2}else if(Dc(t.i,e))n=e.F,e_(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=Ha(),ht(r,new $g(r,n)),Ja(t)}else h_(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&_P(t,e)||r==2&&Ju(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:fr(t,5);break;case 4:fr(t,10);break;case 3:fr(t,6);break;default:fr(t,2)}}}function p_(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function fr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=wt(t.pb,t);n||(n=new yr("//www.google.com/images/cleardot.gif"),Y.location&&Y.location.protocol=="http"||Jo(n,"https"),Ga(n)),hP(n.toString(),r)}else At(2);t.H=0,t.h&&t.h.za(e),m_(t),c_(t)}V.pb=function(t){t?(this.l.info("Successfully pinged google.com"),At(2)):(this.l.info("Failed to ping google.com"),At(1))};function m_(t){if(t.H=0,t.ma=[],t.h){const e=t_(t.i);(e.length!=0||t.j.length!=0)&&(ef(t.ma,e),ef(t.ma,t.j),t.i.i.length=0,Nu(t.j),t.j.length=0),t.h.ya()}}function g_(t,e,n){var r=n instanceof yr?In(n):new yr(n);if(r.g!="")e&&(r.g=e+"."+r.g),Yo(r,r.m);else{var s=Y.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new yr(null);r&&Jo(i,r),e&&(i.g=e),s&&Yo(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&Ne(r,n,e),Ne(r,"VER",t.ra),Gi(t,r),r}function __(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Fe(new qi({ob:!0})):new Fe(t.va),e.Oa(t.J),e}V.isActive=function(){return!!this.h&&this.h.isActive(this)};function y_(){}V=y_.prototype;V.Ba=function(){};V.Aa=function(){};V.za=function(){};V.ya=function(){};V.isActive=function(){return!0};V.Va=function(){};function ea(){if(fs&&!(10<=Number(OR)))throw Error("Environmental error: no available transport.")}ea.prototype.g=function(t,e){return new Dt(t,e)};function Dt(t,e){Ze.call(this),this.g=new l_(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!yi(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yi(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Rs(this)}nt(Dt,Ze);Dt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;At(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=g_(t,null,t.Y),Ja(t)};Dt.prototype.close=function(){Xu(this.g)};Dt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Uu(t),t=n);e.j.push(new oP(e.fb++,t)),e.H==3&&Ja(e)};Dt.prototype.N=function(){this.g.h=null,delete this.j,Xu(this.g),delete this.g,Dt.$.N.call(this)};function v_(t){qu.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}nt(v_,qu);function w_(){Wu.call(this),this.status=1}nt(w_,Wu);function Rs(t){this.g=t}nt(Rs,y_);Rs.prototype.Ba=function(){ht(this.g,"a")};Rs.prototype.Aa=function(t){ht(this.g,new v_(t))};Rs.prototype.za=function(t){ht(this.g,new w_)};Rs.prototype.ya=function(){ht(this.g,"b")};function yP(){this.blockSize=-1}function un(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}nt(un,yP);un.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Dl(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}un.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Dl(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Dl(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Dl(this,r),s=0;break}}this.h=s,this.i+=e};un.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ie(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var vP={};function Zu(t){return-128<=t&&128>t?RR(t,function(e){return new Ie([e|0],0>e?-1:0)}):new Ie([t|0],0>t?-1:0)}function rn(t){if(isNaN(t)||!isFinite(t))return ss;if(0>t)return at(rn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Mc;return new Ie(e,0)}function E_(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return at(E_(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=rn(Math.pow(e,8)),r=ss,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=rn(Math.pow(e,i)),r=r.R(i).add(rn(o))):(r=r.R(n),r=r.add(rn(o)))}return r}var Mc=4294967296,ss=Zu(0),Lc=Zu(1),df=Zu(16777216);V=Ie.prototype;V.ea=function(){if(Lt(this))return-at(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Mc+r)*e,e*=Mc}return t};V.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(_n(this))return"0";if(Lt(this))return"-"+at(this).toString(t);for(var e=rn(Math.pow(t,6)),n=this,r="";;){var s=na(n,e).g;n=ta(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,_n(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};V.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function _n(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Lt(t){return t.h==-1}V.X=function(t){return t=ta(this,t),Lt(t)?-1:_n(t)?0:1};function at(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ie(n,~t.h).add(Lc)}V.abs=function(){return Lt(this)?at(this):this};V.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Ie(n,n[n.length-1]&-2147483648?-1:0)};function ta(t,e){return t.add(at(e))}V.R=function(t){if(_n(this)||_n(t))return ss;if(Lt(this))return Lt(t)?at(this).R(at(t)):at(at(this).R(t));if(Lt(t))return at(this.R(at(t)));if(0>this.X(df)&&0>t.X(df))return rn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,ho(n,2*r+2*s),n[2*r+2*s+1]+=i*l,ho(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,ho(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,ho(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ie(n,0)};function ho(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ms(t,e){this.g=t,this.h=e}function na(t,e){if(_n(e))throw Error("division by zero");if(_n(t))return new Ms(ss,ss);if(Lt(t))return e=na(at(t),e),new Ms(at(e.g),at(e.h));if(Lt(e))return e=na(t,at(e)),new Ms(at(e.g),e.h);if(30<t.g.length){if(Lt(t)||Lt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Lc,r=e;0>=r.X(t);)n=ff(n),r=ff(r);var s=Hr(n,1),i=Hr(r,1);for(r=Hr(r,2),n=Hr(n,2);!_n(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=Hr(r,1),n=Hr(n,1)}return e=ta(t,s.R(e)),new Ms(s,e)}for(s=ss;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=rn(n),o=i.R(e);Lt(o)||0<o.X(t);)n-=r,i=rn(n),o=i.R(e);_n(i)&&(i=Lc),s=s.add(i),t=ta(t,o)}return new Ms(s,t)}V.gb=function(t){return na(this,t).h};V.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ie(n,this.h&t.h)};V.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ie(n,this.h|t.h)};V.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ie(n,this.h^t.h)};function ff(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ie(n,t.h)}function Hr(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Ie(s,t.h)}ea.prototype.createWebChannel=ea.prototype.g;Dt.prototype.send=Dt.prototype.u;Dt.prototype.open=Dt.prototype.m;Dt.prototype.close=Dt.prototype.close;za.NO_ERROR=0;za.TIMEOUT=8;za.HTTP_ERROR=6;Fg.COMPLETE="complete";Ug.EventType=Bi;Bi.OPEN="a";Bi.CLOSE="b";Bi.ERROR="c";Bi.MESSAGE="d";Ze.prototype.listen=Ze.prototype.O;Fe.prototype.listenOnce=Fe.prototype.P;Fe.prototype.getLastError=Fe.prototype.Sa;Fe.prototype.getLastErrorCode=Fe.prototype.Ia;Fe.prototype.getStatus=Fe.prototype.da;Fe.prototype.getResponseJson=Fe.prototype.Wa;Fe.prototype.getResponseText=Fe.prototype.ja;Fe.prototype.send=Fe.prototype.ha;Fe.prototype.setWithCredentials=Fe.prototype.Oa;un.prototype.digest=un.prototype.l;un.prototype.reset=un.prototype.reset;un.prototype.update=un.prototype.j;Ie.prototype.add=Ie.prototype.add;Ie.prototype.multiply=Ie.prototype.R;Ie.prototype.modulo=Ie.prototype.gb;Ie.prototype.compare=Ie.prototype.X;Ie.prototype.toNumber=Ie.prototype.ea;Ie.prototype.toString=Ie.prototype.toString;Ie.prototype.getBits=Ie.prototype.D;Ie.fromNumber=rn;Ie.fromString=E_;var wP=function(){return new ea},EP=function(){return Ha()},Ml=za,bP=Fg,TP=Vr,pf={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},IP=qi,fo=Ug,AP=Fe,SP=Ie;const mf="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ps="10.5.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new gu("@firebase/firestore");function Ls(){return Sr.logLevel}function z(t,...e){if(Sr.logLevel<=de.DEBUG){const n=e.map(eh);Sr.debug(`Firestore (${Ps}): ${t}`,...n)}}function Rr(t,...e){if(Sr.logLevel<=de.ERROR){const n=e.map(eh);Sr.error(`Firestore (${Ps}): ${t}`,...n)}}function ra(t,...e){if(Sr.logLevel<=de.WARN){const n=e.map(eh);Sr.warn(`Firestore (${Ps}): ${t}`,...n)}}function eh(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t="Unexpected state"){const e=`FIRESTORE (${Ps}) INTERNAL ASSERTION FAILED: `+t;throw Rr(e),new Error(e)}function et(t,e){t||fe()}function De(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Rn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}}class PP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CP{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new vr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new vr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string"),new b_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new mt(e)}}class OP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class kP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new OP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(et(typeof n.token=="string"),this.R=n.token,new xP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=DP(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Ce(t,e){return t<e?-1:t>e?1:0}function ps(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ye(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Ye(0,0))}static max(){return new Ve(new Ye(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(),r===void 0?r=e.length-n:r>e.length-n&&fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class $e extends Si{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const MP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ct extends Si{construct(e,n,r){return new ct(e,n,r)}static isValidIdentifier(e){return MP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new K(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new K(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new K(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ct(n)}static emptyPath(){return new ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae($e.fromString(e))}static fromName(e){return new ae($e.fromString(e).popFirst(5))}static empty(){return new ae($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new $e(e.slice()))}}function LP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ve.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new Jn(s,ae.empty(),e)}function VP(t){return new Jn(t.readTime,t.key,-1)}class Jn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Jn(Ve.min(),ae.empty(),-1)}static max(){return new Jn(Ve.max(),ae.empty(),-1)}}function $P(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I_(t){if(t.code!==k.FAILED_PRECONDITION||t.message!==FP)throw t;z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new C((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof C?n:C.resolve(n)}catch(n){return C.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):C.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):C.reject(n)}static resolve(e){return new C((n,r)=>{n(e)})}static reject(e){return new C((n,r)=>{r(e)})}static waitFor(e){return new C((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=C.resolve(!1);for(const r of e)n=n.next(s=>s?C.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new C((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new C((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Ya(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}A_._e=-1;function th(t){return t==null}function sa(t){return t===0&&1/t==-1/0}function jP(t){return typeof t=="number"&&Number.isInteger(t)&&!sa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ki(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function S_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,n){this.comparator=e,this.root=n||it.EMPTY}insert(e,n){return new Ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,it.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,it.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new po(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new po(this.root,e,this.comparator,!1)}getReverseIterator(){return new po(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new po(this.root,e,this.comparator,!0)}}class po{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class it{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??it.RED,this.left=s??it.EMPTY,this.right=i??it.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new it(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return it.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return it.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,it.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,it.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}}it.EMPTY=null,it.RED=!0,it.BLACK=!1;it.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(e,n,r,s,i){return this}insert(e,n,r){return new it(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _f(this.data.getIterator())}getIteratorFrom(e){return new _f(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new bt(this.comparator);return n.data=e,n}}class _f{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new zt([])}unionWith(e){let n=new bt(ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ps(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new BP("Invalid base64 string: "+i):i}}(e);return new An(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new An(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}An.EMPTY_BYTE_STRING=new An("");const HP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(t){if(et(!!t),typeof t=="string"){let e=0;const n=HP.exec(t);if(et(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ot(t.seconds),nanos:ot(t.nanos)}}function ot(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ri(t){return typeof t=="string"?An.fromBase64String(t):An.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function R_(t){const e=t.mapValue.fields.__previous_value__;return nh(e)?R_(e):e}function ia(t){const e=Pr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class oa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new oa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof oa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ms(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nh(t)?4:qP(t)?9007199254740991:10:fe()}function hn(t,e){if(t===e)return!0;const n=ms(t);if(n!==ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ia(t).isEqual(ia(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Pr(s.timestampValue),a=Pr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ri(s.bytesValue).isEqual(Ri(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ot(s.geoPointValue.latitude)===ot(i.geoPointValue.latitude)&&ot(s.geoPointValue.longitude)===ot(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ot(s.integerValue)===ot(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ot(s.doubleValue),a=ot(i.doubleValue);return o===a?sa(o)===sa(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ps(t.arrayValue.values||[],e.arrayValue.values||[],hn);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(gf(o)!==gf(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!hn(o[l],a[l])))return!1;return!0}(t,e);default:return fe()}}function Pi(t,e){return(t.values||[]).find(n=>hn(n,e))!==void 0}function gs(t,e){if(t===e)return 0;const n=ms(t),r=ms(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ot(i.integerValue||i.doubleValue),l=ot(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return yf(t.timestampValue,e.timestampValue);case 4:return yf(ia(t),ia(e));case 5:return Ce(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ri(i),l=Ri(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Ce(a[c],l[c]);if(u!==0)return u}return Ce(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ce(ot(i.latitude),ot(o.latitude));return a!==0?a:Ce(ot(i.longitude),ot(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=gs(a[c],l[c]);if(u)return u}return Ce(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===mo.mapValue&&o===mo.mapValue)return 0;if(i===mo.mapValue)return 1;if(o===mo.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const d=Ce(l[h],u[h]);if(d!==0)return d;const f=gs(a[l[h]],c[u[h]]);if(f!==0)return f}return Ce(l.length,u.length)}(t.mapValue,e.mapValue);default:throw fe()}}function yf(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=Pr(t),r=Pr(e),s=Ce(n.seconds,r.seconds);return s!==0?s:Ce(n.nanos,r.nanos)}function _s(t){return Vc(t)}function Vc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Pr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ri(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Vc(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Vc(n.fields[o])}`;return s+"}"}(t.mapValue):fe()}function $c(t){return!!t&&"integerValue"in t}function rh(t){return!!t&&"arrayValue"in t}function Co(t){return!!t&&"mapValue"in t}function ni(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ki(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ni(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ni(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.value=e}static empty(){return new Bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Co(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ni(n)}setAll(e){let n=ct.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ni(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Co(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Co(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ki(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Bt(ni(this.value))}}function P_(t){const e=[];return Ki(t.fields,(n,r)=>{const s=new ct([n]);if(Co(r)){const i=P_(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new zt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ut(e,0,Ve.min(),Ve.min(),Ve.min(),Bt.empty(),0)}static newFoundDocument(e,n,r,s){return new Ut(e,1,n,Ve.min(),r,s,0)}static newNoDocument(e,n){return new Ut(e,2,n,Ve.min(),Ve.min(),Bt.empty(),0)}static newUnknownDocument(e,n){return new Ut(e,3,n,Ve.min(),Ve.min(),Bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this.position=e,this.inclusive=n}}function vf(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=gs(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function wf(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n="asc"){this.field=e,this.dir=n}}function WP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{}class Je extends C_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new KP(e,n,r):n==="array-contains"?new JP(e,r):n==="in"?new YP(e,r):n==="not-in"?new ZP(e,r):n==="array-contains-any"?new e1(e,r):new Je(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new QP(e,r):new XP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(gs(n,this.value)):n!==null&&ms(this.value)===ms(n)&&this.matchesComparison(gs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends C_{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Yn(e,n)}matches(e){return O_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function O_(t){return t.op==="and"}function k_(t){return GP(t)&&O_(t)}function GP(t){for(const e of t.filters)if(e instanceof Yn)return!1;return!0}function Fc(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+_s(t.value);if(k_(t))return t.filters.map(e=>Fc(e)).join(",");{const e=t.filters.map(n=>Fc(n)).join(",");return`${t.op}(${e})`}}function x_(t,e){return t instanceof Je?function(r,s){return s instanceof Je&&r.op===s.op&&r.field.isEqual(s.field)&&hn(r.value,s.value)}(t,e):t instanceof Yn?function(r,s){return s instanceof Yn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&x_(o,s.filters[a]),!0):!1}(t,e):void fe()}function N_(t){return t instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${_s(n.value)}`}(t):t instanceof Yn?function(n){return n.op.toString()+" {"+n.getFilters().map(N_).join(" ,")+"}"}(t):"Filter"}class KP extends Je{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class QP extends Je{constructor(e,n){super(e,"in",n),this.keys=D_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class XP extends Je{constructor(e,n){super(e,"not-in",n),this.keys=D_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function D_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class JP extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rh(n)&&Pi(n.arrayValue,this.value)}}class YP extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pi(this.value.arrayValue,n)}}class ZP extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Pi(this.value.arrayValue,n)}}class e1 extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Pi(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function Ef(t,e=null,n=[],r=[],s=null,i=null,o=null){return new t1(t,e,n,r,s,i,o)}function sh(t){const e=De(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Fc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),th(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>_s(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>_s(r)).join(",")),e.ce=n}return e.ce}function ih(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!WP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!x_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wf(t.startAt,e.startAt)&&wf(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function n1(t,e,n,r,s,i,o,a){return new Za(t,e,n,r,s,i,o,a)}function r1(t){return new Za(t)}function bf(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function s1(t){return t.collectionGroup!==null}function ri(t){const e=De(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new bt(ct.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new la(i,r))}),n.has(ct.keyField().canonicalString())||e.le.push(new la(ct.keyField(),r))}return e.le}function wr(t){const e=De(t);return e.he||(e.he=i1(e,ri(t))),e.he}function i1(t,e){if(t.limitType==="F")return Ef(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new la(s.field,i)});const n=t.endAt?new aa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new aa(t.startAt.position,t.startAt.inclusive):null;return Ef(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Uc(t,e,n){return new Za(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function M_(t,e){return ih(wr(t),wr(e))&&t.limitType===e.limitType}function L_(t){return`${sh(wr(t))}|lt:${t.limitType}`}function Vs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>N_(s)).join(", ")}]`),th(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>_s(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>_s(s)).join(",")),`Target(${r})`}(wr(t))}; limitType=${t.limitType})`}function oh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ae.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ri(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=vf(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,ri(r),s)||r.endAt&&!function(o,a,l){const c=vf(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,ri(r),s))}(t,e)}function o1(t){return(e,n)=>{let r=!1;for(const s of ri(t)){const i=a1(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function a1(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?gs(l,c):fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ki(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return S_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=new Ct(ae.comparator);function ca(){return l1}const V_=new Ct(ae.comparator);function go(...t){let e=V_;for(const n of t)e=e.insert(n.key,n);return e}function $_(t){let e=V_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function pr(){return si()}function F_(){return si()}function si(){return new Cs(t=>t.toString(),(t,e)=>t.isEqual(e))}const c1=new Ct(ae.comparator),u1=new bt(ae.comparator);function gt(...t){let e=u1;for(const n of t)e=e.add(n);return e}const h1=new bt(Ce);function d1(){return h1}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sa(e)?"-0":e}}function j_(t){return{integerValue:""+t}}function f1(t,e){return jP(e)?j_(e):U_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this._=void 0}}function p1(t,e,n){return t instanceof ua?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&nh(i)&&(i=R_(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Ci?H_(t,e):t instanceof Oi?z_(t,e):function(s,i){const o=B_(s,i),a=Tf(o)+Tf(s.Ie);return $c(o)&&$c(s.Ie)?j_(a):U_(s.serializer,a)}(t,e)}function m1(t,e,n){return t instanceof Ci?H_(t,e):t instanceof Oi?z_(t,e):n}function B_(t,e){return t instanceof ha?function(r){return $c(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class ua extends el{}class Ci extends el{constructor(e){super(),this.elements=e}}function H_(t,e){const n=q_(e);for(const r of t.elements)n.some(s=>hn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Oi extends el{constructor(e){super(),this.elements=e}}function z_(t,e){let n=q_(e);for(const r of t.elements)n=n.filter(s=>!hn(s,r));return{arrayValue:{values:n}}}class ha extends el{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Tf(t){return ot(t.integerValue||t.doubleValue)}function q_(t){return rh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function g1(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ci&&s instanceof Ci||r instanceof Oi&&s instanceof Oi?ps(r.elements,s.elements,hn):r instanceof ha&&s instanceof ha?hn(r.Ie,s.Ie):r instanceof ua&&s instanceof ua}(t.transform,e.transform)}class _1{constructor(e,n){this.version=e,this.transformResults=n}}class wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wn}static exists(e){return new wn(void 0,e)}static updateTime(e){return new wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oo(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tl{}function W_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new K_(t.key,wn.none()):new Qi(t.key,t.data,wn.none());{const n=t.data,r=Bt.empty();let s=new bt(ct.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new $r(t.key,r,new zt(s.toArray()),wn.none())}}function y1(t,e,n){t instanceof Qi?function(s,i,o){const a=s.value.clone(),l=Af(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof $r?function(s,i,o){if(!Oo(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Af(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(G_(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ii(t,e,n,r){return t instanceof Qi?function(i,o,a,l){if(!Oo(i.precondition,o))return a;const c=i.value.clone(),u=Sf(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof $r?function(i,o,a,l){if(!Oo(i.precondition,o))return a;const c=Sf(i.fieldTransforms,l,o),u=o.data;return u.setAll(G_(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Oo(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function v1(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=B_(r.transform,s||null);i!=null&&(n===null&&(n=Bt.empty()),n.set(r.field,i))}return n||null}function If(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ps(r,s,(i,o)=>g1(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qi extends tl{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class $r extends tl{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function G_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Af(t,e,n){const r=new Map;et(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,m1(o,a,n[s]))}return r}function Sf(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,p1(i,o,e))}return r}class K_ extends tl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w1 extends tl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&y1(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ii(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ii(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=F_();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=W_(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),gt())}isEqual(e){return this.batchId===e.batchId&&ps(this.mutations,e.mutations,(n,r)=>If(n,r))&&ps(this.baseMutations,e.baseMutations,(n,r)=>If(n,r))}}class ah{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){et(e.mutations.length===r.length);let s=function(){return c1}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new ah(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,pe;function T1(t){switch(t){default:return fe();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0}}function I1(t){if(t===void 0)return Rr("GRPC error has no .code"),k.UNKNOWN;switch(t){case Be.OK:return k.OK;case Be.CANCELLED:return k.CANCELLED;case Be.UNKNOWN:return k.UNKNOWN;case Be.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Be.INTERNAL:return k.INTERNAL;case Be.UNAVAILABLE:return k.UNAVAILABLE;case Be.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Be.NOT_FOUND:return k.NOT_FOUND;case Be.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Be.ABORTED:return k.ABORTED;case Be.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Be.DATA_LOSS:return k.DATA_LOSS;default:return fe()}}(pe=Be||(Be={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new SP([4294967295,4294967295],0);class A1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function S1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function R1(t,e){return jc(t,e.toTimestamp())}function is(t){return et(!!t),Ve.fromTimestamp(function(n){const r=Pr(n);return new Ye(r.seconds,r.nanos)}(t))}function Q_(t,e){return function(r){return new $e(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function P1(t){const e=$e.fromString(t);return et(L1(e)),e}function Bc(t,e){return Q_(t.databaseId,e.path)}function C1(t){const e=P1(t);return e.length===4?$e.emptyPath():k1(e)}function O1(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function k1(t){return et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Rf(t,e,n){return{name:Bc(t,e),fields:n.value.mapValue.fields}}function x1(t,e){let n;if(e instanceof Qi)n={update:Rf(t,e.key,e.value)};else if(e instanceof K_)n={delete:Bc(t,e.key)};else if(e instanceof $r)n={update:Rf(t,e.key,e.data),updateMask:M1(e.fieldMask)};else{if(!(e instanceof w1))return fe();n={verify:Bc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof ua)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ci)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ha)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:R1(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:fe()}(t,e.precondition)),n}function N1(t,e){return t&&t.length>0?(et(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?is(s.updateTime):is(i);return o.isEqual(Ve.min())&&(o=is(i)),new _1(o,s.transformResults||[])}(n,e))):[]}function D1(t){let e=C1(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){et(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const d=X_(h);return d instanceof Yn&&k_(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(_){return new la(Kr(_.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,th(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new aa(f,d)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const d=!h.before,f=h.values||[];return new aa(f,d)}(n.endAt)),n1(e,s,o,i,a,"F",l,c)}function X_(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Kr(n.unaryFilter.field);return Je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Kr(n.unaryFilter.field);return Je.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Kr(n.unaryFilter.field);return Je.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Kr(n.unaryFilter.field);return Je.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(t):t.fieldFilter!==void 0?function(n){return Je.create(Kr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yn.create(n.compositeFilter.filters.map(r=>X_(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return fe()}}(n.compositeFilter.op))}(t):fe()}function Kr(t){return ct.fromServerFormat(t.fieldPath)}function M1(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function L1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e){this.ut=e}}function $1(t){const e=D1({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Uc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(){this.on=new U1}addToCollectionParentIndex(e,n){return this.on.add(n),C.resolve()}getCollectionParents(e,n){return C.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return C.resolve()}deleteFieldIndex(e,n){return C.resolve()}deleteAllFieldIndexes(e){return C.resolve()}createTargetIndexes(e,n){return C.resolve()}getDocumentsMatchingTarget(e,n){return C.resolve(null)}getIndexType(e,n){return C.resolve(0)}getFieldIndexes(e,n){return C.resolve([])}getNextCollectionGroupToUpdate(e){return C.resolve(null)}getMinOffset(e,n){return C.resolve(Jn.min())}getMinOffsetFromCollectionGroup(e,n){return C.resolve(Jn.min())}updateCollectionGroup(e,n,r){return C.resolve()}updateIndexEntries(e,n){return C.resolve()}}class U1{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new bt($e.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new bt($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ys(0)}static Nn(){return new ys(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.changes=new Cs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?C.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ii(r.mutation,s,zt.empty(),Ye.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,gt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=gt()){const s=pr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=go();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=pr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,gt()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ca();const o=si(),a=function(){return si()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof $r)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),ii(u.mutation,c,u.mutation.getFieldMask(),Ye.now())):o.set(c.key,zt.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new B1(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=si();let s=new Ct((o,a)=>o-a),i=gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||zt.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(s.get(a.batchId)||gt()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=F_();u.forEach(d=>{if(!i.has(d)){const f=W_(n.get(d),r.get(d));f!==null&&h.set(d,f),i=i.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return C.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):s1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):C.resolve(pr());let a=-1,l=i;return o.next(c=>C.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?C.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,gt())).next(u=>({batchId:a,changes:$_(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let s=go();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=go();return this.indexManager.getCollectionParents(e,i).next(a=>C.forEach(a,l=>{const c=function(h,d){return new Za(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,Ut.newInvalidDocument(u)))});let a=go();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&ii(u.mutation,c,zt.empty(),Ye.now()),oh(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return C.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:is(s.createTime)}}(n)),C.resolve()}getNamedQuery(e,n){return C.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:$1(s.bundledQuery),readTime:is(s.readTime)}}(n)),C.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(){this.overlays=new Ct(ae.comparator),this.lr=new Map}getOverlay(e,n){return C.resolve(this.overlays.get(n))}getOverlays(e,n){const r=pr();return C.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.lt(e,n,i)}),C.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),C.resolve()}getOverlaysForCollection(e,n,r){const s=pr(),i=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return C.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ct((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=pr(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=pr(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return C.resolve(a)}lt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new b1(n,r));let i=this.lr.get(n);i===void 0&&(i=gt(),this.lr.set(n,i)),this.lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(){this.hr=new bt(Qe.Pr),this.Ir=new bt(Qe.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Qe(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Qe(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new ae(new $e([])),r=new Qe(n,e),s=new Qe(n,e+1),i=[];return this.Ir.forEachInRange([r,s],o=>{this.dr(o),i.push(o.key)}),i}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new ae(new $e([])),r=new Qe(n,e),s=new Qe(n,e+1);let i=gt();return this.Ir.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Qe(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Qe{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ae.comparator(e.key,n.key)||Ce(e.gr,n.gr)}static Tr(e,n){return Ce(e.gr,n.gr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new bt(Qe.Pr)}checkEmpty(e){return C.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new E1(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.yr=this.yr.add(new Qe(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return C.resolve(o)}lookupMutationBatch(e,n){return C.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Sr(r),i=s<0?0:s;return C.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qe(n,0),s=new Qe(n,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,s],o=>{const a=this.wr(o.gr);i.push(a)}),C.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new bt(Ce);return n.forEach(s=>{const i=new Qe(s,0),o=new Qe(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,o],a=>{r=r.add(a.gr)})}),C.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ae.isDocumentKey(i)||(i=i.child(""));const o=new Qe(new ae(i),0);let a=new bt(Ce);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.gr)),!0)},o),C.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const s=this.wr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){et(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return C.forEach(n.mutations,s=>{const i=new Qe(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Qe(n,0),s=this.yr.firstAfterOrEqual(r);return C.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,C.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.Cr=e,this.docs=function(){return new Ct(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Cr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return C.resolve(r?r.document.mutableCopy():Ut.newInvalidDocument(n))}getEntries(e,n){let r=ca();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ut.newInvalidDocument(s))}),C.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ca();const o=n.path,a=new ae(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||$P(VP(u),r)<=0||(s.has(u.key)||oh(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return C.resolve(i)}getAllFromCollectionGroup(e,n,r,s){fe()}vr(e,n){return C.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new K1(this)}getSize(e){return C.resolve(this.size)}}class K1 extends j1{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(r)}),C.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this.persistence=e,this.Fr=new Cs(n=>sh(n),ih),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.Mr=0,this.Or=new lh,this.targetCount=0,this.Nr=ys.On()}forEachTarget(e,n){return this.Fr.forEach((r,s)=>n(s)),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),C.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new ys(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,C.resolve()}updateTargetData(e,n){return this.kn(n),C.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),C.waitFor(i).next(()=>s)}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return C.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),C.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),C.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),C.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return C.resolve(r)}containsKey(e,n){return C.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n){this.Br={},this.overlays={},this.Lr=new A_(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Q1(this),this.indexManager=new F1,this.remoteDocumentCache=function(s){return new G1(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new V1(n),this.Kr=new z1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new q1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new W1(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);const s=new J1(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(i=>this.referenceDelegate.Ur(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Wr(e,n){return C.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class J1 extends UP{constructor(e){super(),this.currentSequenceNumber=e}}class ch{constructor(e){this.persistence=e,this.Gr=new lh,this.zr=null}static jr(e){return new ch(e)}get Hr(){if(this.zr)return this.zr;throw fe()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),C.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),C.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),C.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.Hr,r=>{const s=ae.fromPath(r);return this.Jr(e,s).next(i=>{i||n.removeEntry(s,Ve.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return C.or([()=>C.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=s}static Qi(e,n){let r=gt(),s=gt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new uh(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.zi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ji(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Y1;return this.Hi(e,n,o).next(a=>{if(i.result=a,this.$i)return this.Ji(e,n,o,a.size)})}).next(()=>i.result)}Ji(e,n,r,s){return r.documentReadCount<this.Ui?(Ls()<=de.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",Vs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),C.resolve()):(Ls()<=de.DEBUG&&z("QueryEngine","Query:",Vs(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Wi*s?(Ls()<=de.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",Vs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wr(n))):C.resolve())}zi(e,n){if(bf(n))return C.resolve(null);let r=wr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Uc(n,null,"F"),r=wr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=gt(...i);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Yi(n,a);return this.Zi(n,c,o,l.readTime)?this.zi(e,Uc(n,null,"F")):this.Xi(e,c,n,l)}))})))}ji(e,n,r,s){return bf(n)||s.isEqual(Ve.min())?C.resolve(null):this.Gi.getDocuments(e,r).next(i=>{const o=this.Yi(n,i);return this.Zi(n,o,r,s)?C.resolve(null):(Ls()<=de.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Vs(n)),this.Xi(e,o,n,LP(s,-1)).next(a=>a))})}Yi(e,n){let r=new bt(o1(e));return n.forEach((s,i)=>{oh(e,i)&&(r=r.add(i))}),r}Zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Hi(e,n,r){return Ls()<=de.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",Vs(n)),this.Gi.getDocumentsMatchingQuery(e,n,Jn.min(),r)}Xi(e,n,r,s){return this.Gi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,r,s){this.persistence=e,this.es=n,this.serializer=s,this.ts=new Ct(Ce),this.ns=new Cs(i=>sh(i),ih),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H1(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function tC(t,e,n,r){return new eC(t,e,n,r)}async function J_(t,e){const n=De(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=gt();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}function nC(t,e){const n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,d=h.keys();let f=C.resolve();return d.forEach(_=>{f=f.next(()=>u.getEntry(l,_)).next(v=>{const b=c.docVersions.get(_);et(b!==null),v.version.compareTo(b)<0&&(h.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),u.addEntry(v)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=gt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function rC(t){const e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function sC(t,e){const n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class Pf{constructor(){this.activeTargetIds=d1()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iC{constructor(){this.eo=new Pf,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,r){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Pf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{ro(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o=null;function Ll(){return _o===null?_o=function(){return 268435456+Math.round(2147483648*Math.random())}():_o++,"0x"+_o.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection";class cC extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+n.host,this.fo=`projects/${s}/databases/${i}`,this.po=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get yo(){return!1}wo(n,r,s,i,o){const a=Ll(),l=this.So(n,r);z("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,i,o),this.Do(n,l,c,s).then(u=>(z("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw ra("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}Co(n,r,s,i,o,a){return this.wo(n,r,s,i,o)}bo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ps}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}So(n,r){const s=aC[n];return`${this.mo}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,r,s){const i=Ll();return new Promise((o,a)=>{const l=new AP;l.setWithCredentials(!0),l.listenOnce(bP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ml.NO_ERROR:const u=l.getResponseJson();z(pt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Ml.TIMEOUT:z(pt,`RPC '${e}' ${i} timed out`),a(new K(k.DEADLINE_EXCEEDED,"Request time out"));break;case Ml.HTTP_ERROR:const h=l.getStatus();if(z(pt,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const _=function(b){const A=b.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(A)>=0?A:k.UNKNOWN}(f.status);a(new K(_,f.message))}else a(new K(k.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new K(k.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{z(pt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);z(pt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}vo(e,n,r){const s=Ll(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=wP(),a=EP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new IP({})),this.bo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");z(pt,`Creating RPC '${e}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let d=!1,f=!1;const _=new lC({co:b=>{f?z(pt,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(d||(z(pt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),d=!0),z(pt,`RPC '${e}' stream ${s} sending:`,b),h.send(b))},lo:()=>h.close()}),v=(b,A,R)=>{b.listen(A,F=>{try{R(F)}catch(N){setTimeout(()=>{throw N},0)}})};return v(h,fo.EventType.OPEN,()=>{f||z(pt,`RPC '${e}' stream ${s} transport opened.`)}),v(h,fo.EventType.CLOSE,()=>{f||(f=!0,z(pt,`RPC '${e}' stream ${s} transport closed`),_.Ro())}),v(h,fo.EventType.ERROR,b=>{f||(f=!0,ra(pt,`RPC '${e}' stream ${s} transport errored:`,b),_.Ro(new K(k.UNAVAILABLE,"The operation could not be completed")))}),v(h,fo.EventType.MESSAGE,b=>{var A;if(!f){const R=b.data[0];et(!!R);const F=R,N=F.error||((A=F[0])===null||A===void 0?void 0:A.error);if(N){z(pt,`RPC '${e}' stream ${s} received error:`,N);const re=N.status;let G=function(ue){const be=Be[ue];if(be!==void 0)return I1(be)}(re),le=N.message;G===void 0&&(G=k.INTERNAL,le="Unknown error status: "+re+" with message "+N.message),f=!0,_.Ro(new K(G,le)),h.close()}else z(pt,`RPC '${e}' stream ${s} received:`,R),_.Vo(R)}}),v(a,TP.STAT_EVENT,b=>{b.stat===pf.PROXY?z(pt,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===pf.NOPROXY&&z(pt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.Ao()},0),_}}function Vl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){return new A1(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,n,r=1e3,s=1.5,i=6e4){this.si=e,this.timerId=n,this.Fo=r,this.Mo=s,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&z("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){this.No!==null&&(this.No.skipDelay(),this.No=null)}cancel(){this.No!==null&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n,r,s,i,o,a,l){this.si=e,this.Ko=r,this.$o=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Y_(e,n)}jo(){return this.state===1||this.state===5||this.Ho()}Ho(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&this.Wo===null&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,n){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,e!==4?this.zo.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(Rr(n.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(n)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Uo===n&&this.s_(r,s)},r=>{e(()=>{const s=new K(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(s)})})}s_(e,n){const r=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(s=>{r(()=>this.o_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Jo(){this.state=5,this.zo.ko(async()=>{this.state=0,this.start()})}o_(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hC extends uC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=N1(e.writeResults,e.commitTime),r=is(e.commitTime);return this.listener.I_(r,n)}return et(!e.writeResults||e.writeResults.length===0),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=O1(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>x1(this.serializer,r))};this.e_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.d_=!1}A_(){if(this.d_)throw new K(k.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.wo(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(k.UNKNOWN,s.toString())})}Co(e,n,r,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Co(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(k.UNKNOWN,i.toString())})}terminate(){this.d_=!0}}class fC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){this.V_===0&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){this.state==="Online"?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,e==="Online"&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Rr(n),this.f_=!1):z("OnlineStateTracker",n)}S_(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro(o=>{r.enqueueAndForget(async()=>{Ji(this)&&(z("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=De(l);c.C_.add(4),await Xi(c),c.M_.set("Unknown"),c.C_.delete(4),await rl(c)}(this))})}),this.M_=new fC(r,s)}}async function rl(t){if(Ji(t))for(const e of t.v_)await e(!0)}async function Xi(t){for(const e of t.v_)await e(!1)}function Ji(t){return De(t).C_.size===0}async function Z_(t,e,n){if(!Ya(e))throw e;t.C_.add(1),await Xi(t),t.M_.set("Offline"),n||(n=()=>rC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{z("RemoteStore","Retrying IndexedDB access"),await n(),t.C_.delete(1),await rl(t)})}function ey(t,e){return e().catch(n=>Z_(t,n,e))}async function sl(t){const e=De(t),n=Zn(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;mC(e);)try{const s=await sC(e.localStore,r);if(s===null){e.b_.length===0&&n.Zo();break}r=s.batchId,gC(e,s)}catch(s){await Z_(e,s)}ty(e)&&ny(e)}function mC(t){return Ji(t)&&t.b_.length<10}function gC(t,e){t.b_.push(e);const n=Zn(t);n.Ho()&&n.h_&&n.P_(e.mutations)}function ty(t){return Ji(t)&&!Zn(t).jo()&&t.b_.length>0}function ny(t){Zn(t).start()}async function _C(t){Zn(t).E_()}async function yC(t){const e=Zn(t);for(const n of t.b_)e.P_(n.mutations)}async function vC(t,e,n){const r=t.b_.shift(),s=ah.from(r,e,n);await ey(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await sl(t)}async function wC(t,e){e&&Zn(t).h_&&await async function(r,s){if(function(o){return T1(o)&&o!==k.ABORTED}(s.code)){const i=r.b_.shift();Zn(r).Yo(),await ey(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await sl(r)}}(t,e),ty(t)&&ny(t)}async function Of(t,e){const n=De(t);n.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");const r=Ji(n);n.C_.add(3),await Xi(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),await rl(n)}async function EC(t,e){const n=De(t);e?(n.C_.delete(2),await rl(n)):e||(n.C_.add(2),await Xi(n),n.M_.set("Unknown"))}function Zn(t){return t.N_||(t.N_=function(n,r,s){const i=De(n);return i.A_(),new hC(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ho:_C.bind(null,t),Io:wC.bind(null,t),T_:yC.bind(null,t),I_:vC.bind(null,t)}),t.v_.push(async e=>{e?(t.N_.Yo(),await sl(t)):(await t.N_.stop(),t.b_.length>0&&(z("RemoteStore",`Stopping write stream with ${t.b_.length} pending writes`),t.b_=[]))})),t.N_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new hh(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ry(t,e){if(Rr("AsyncQueue",`${e}: ${t}`),Ya(t))return new K(k.UNAVAILABLE,`${e}: ${t}`);throw t}class bC{constructor(){this.queries=new Cs(e=>L_(e),M_),this.onlineState="Unknown",this.q_=new Set}}function TC(t){t.q_.forEach(e=>{e.next()})}class IC{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new Cs(a=>L_(a),M_),this.fa=new Map,this.ga=new Set,this.pa=new Ct(ae.comparator),this.ya=new Map,this.wa=new lh,this.Sa={},this.ba=new Map,this.Da=ys.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return this.Ca===!0}}async function AC(t,e,n){const r=CC(t);try{const s=await function(o,a){const l=De(o),c=Ye.now(),u=a.reduce((f,_)=>f.add(_.key),gt());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let _=ca(),v=gt();return l.ss.getEntries(f,u).next(b=>{_=b,_.forEach((A,R)=>{R.isValidDocument()||(v=v.add(A))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,_)).next(b=>{h=b;const A=[];for(const R of a){const F=v1(R,h.get(R.key).overlayedDocument);F!=null&&A.push(new $r(R.key,F,P_(F.value.mapValue),wn.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,A,a)}).next(b=>{d=b;const A=b.applyToLocalDocumentSet(h,v);return l.documentOverlayCache.saveOverlays(f,b.batchId,A)})}).then(()=>({batchId:d.batchId,changes:$_(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Sa[o.currentUser.toKey()];c||(c=new Ct(Ce)),c=c.insert(a,l),o.Sa[o.currentUser.toKey()]=c}(r,s.batchId,n),await il(r,s.changes),await sl(r.remoteStore)}catch(s){const i=ry(s,"Failed to persist write");n.reject(i)}}function kf(t,e,n){const r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ma.forEach((i,o)=>{const a=o.view.Q_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=De(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const d of h.listeners)d.Q_(a)&&(c=!0)}),c&&TC(l)}(r.eventManager,e),s.length&&r.Va.a_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function SC(t,e){const n=De(t),r=e.batch.batchId;try{const s=await nC(n.localStore,e);iy(n,r,null),sy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await il(n,s)}catch(s){await I_(s)}}async function RC(t,e,n){const r=De(t);try{const s=await function(o,a){const l=De(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(et(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);iy(r,e,n),sy(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await il(r,s)}catch(s){await I_(s)}}function sy(t,e){(t.ba.get(e)||[]).forEach(n=>{n.resolve()}),t.ba.delete(e)}function iy(t,e,n){const r=De(t);let s=r.Sa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Sa[r.currentUser.toKey()]=s}}async function il(t,e,n){const r=De(t),s=[],i=[],o=[];r.ma.isEmpty()||(r.ma.forEach((a,l)=>{o.push(r.va(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=uh.Qi(l.targetId,c);i.push(u)}}))}),await Promise.all(o),r.Va.a_(s),await async function(l,c){const u=De(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>C.forEach(c,d=>C.forEach(d.ki,f=>u.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>C.forEach(d.qi,f=>u.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!Ya(h))throw h;z("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const f=u.ts.get(d),_=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(_);u.ts=u.ts.insert(d,v)}}}(r.localStore,i))}async function PC(t,e){const n=De(t);if(!n.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());const r=await J_(n.localStore,e);n.currentUser=e,function(i,o){i.ba.forEach(a=>{a.forEach(l=>{l.reject(new K(k.CANCELLED,o))})}),i.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await il(n,r._s)}}function CC(t){const e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RC.bind(null,e),e}class xf{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=nl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return tC(this.persistence,new Z1,e.initialUser,this.serializer)}createPersistence(e){return new X1(ch.jr,this.serializer)}createSharedClientState(e){return new iC}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class OC{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kf(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=PC.bind(null,this.syncEngine),await EC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bC}()}createDatastore(e){const n=nl(e.databaseInfo.databaseId),r=function(i){return new cC(i)}(e.databaseInfo);return function(i,o,a,l){return new dC(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new pC(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>kf(this.syncEngine,n,0),function(){return Cf.D()?new Cf:new oC}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const h=new IC(s,i,o,a,l,c);return u&&(h.Ca=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=De(n);z("RemoteStore","RemoteStore shutting down."),r.C_.add(5),await Xi(r),r.F_.shutdown(),r.M_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=mt.UNAUTHENTICATED,this.clientId=T_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{z("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(z("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new K(k.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ry(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $l(t,e){t.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await J_(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Nf(t,e){t.asyncQueue.verifyOperationInProgress();const n=await NC(t);z("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>Of(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>Of(e.remoteStore,i)),t._onlineComponents=e}function xC(t){return t.name==="FirebaseError"?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function NC(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{await $l(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!xC(n))throw n;ra("Error using user provided cache. Falling back to memory cache: "+n),await $l(t,new xf)}}else z("FirestoreClient","Using default OfflineComponentProvider"),await $l(t,new xf);return t._offlineComponents}async function DC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),await Nf(t,t._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),await Nf(t,new OC))),t._onlineComponents}function MC(t){return DC(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t,e,n){if(!n)throw new K(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LC(t,e,n,r){if(e===!0&&r===!0)throw new K(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Mf(t){if(!ae.isDocumentKey(t))throw new K(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Lf(t){if(ae.isDocumentKey(t))throw new K(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe()}function ly(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dh(t);throw new K(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oy((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new K(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new K(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new K(k.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ol{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new K(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new K(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new RP;switch(r.type){case"firstParty":return new kP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Df.get(n);r&&(z("ComponentProvider","Removing Datastore"),Df.delete(n),r.terminate())}(this),Promise.resolve()}}function VC(t,e,n,r={}){var s;const i=(t=ly(t,ol))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=mt.MOCK_USER;else{a=vE(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new K(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new mt(c)}t._authCredentials=new PP(new b_(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fh(this.firestore,e,this._query)}}class En{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class Gn extends fh{constructor(e,n,r){super(e,n,r1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new ae(e))}withConverter(e){return new Gn(this.firestore,e,this._path)}}function $f(t,e,...n){if(t=Pt(t),ay("collection","path",e),t instanceof ol){const r=$e.fromString(e,...n);return Lf(r),new Gn(t,null,r)}{if(!(t instanceof En||t instanceof Gn))throw new K(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return Lf(r),new Gn(t.firestore,null,r)}}function $C(t,e,...n){if(t=Pt(t),arguments.length===1&&(e=T_.newId()),ay("doc","path",e),t instanceof ol){const r=$e.fromString(e,...n);return Mf(r),new En(t,null,new ae(r))}{if(!(t instanceof En||t instanceof Gn))throw new K(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return Mf(r),new En(t.firestore,t instanceof Gn?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Y_(this,"async_queue_retry"),this.iu=()=>{const n=Vl();n&&z("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=Vl();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=Vl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new vr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}async _u(){if(this.Ya.length!==0){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Ya(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko(()=>this._u())}}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{this.eu=r,this.tu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Rr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.tu=!1,r))));return this.Ja=n,n}enqueueAfterDelay(e,n,r){this.su(),this.ru.indexOf(e)>-1&&(n=0);const s=hh.createAndSchedule(this,e,n,r,i=>this.au(i));return this.Xa.push(s),s}su(){this.eu&&fe()}verifyOperationInProgress(){}async uu(){let e;do e=this.Ja,await e;while(e!==this.Ja)}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}class cy extends ol{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new FC}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||hy(this),this._firestoreClient.terminate()}}function uy(t,e){const n=typeof t=="object"?t:hm(),r=typeof t=="string"?t:e||"(default)",s=yu(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=_E("firestore");i&&VC(s,...i)}return s}function UC(t){return t._firestoreClient||hy(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function hy(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new zP(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,oy(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new kC(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ki(An.fromBase64String(e))}catch(n){throw new K(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ki(An.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=/^__.*__$/;class BC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $r(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qi(e,this.data,n,this.fieldTransforms)}}function my(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class ph{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new ph(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Au(e),s}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Tu({path:r,du:!1});return s.Pu(),s}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return da(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(e.length===0)throw this.mu("Document fields must not be empty");if(my(this.Iu)&&jC.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class HC{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||nl(e)}pu(e,n,r,s=!1){return new ph({Iu:e,methodName:n,gu:r,path:ct.emptyPath(),du:!1,fu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zC(t){const e=t._freezeSettings(),n=nl(t._databaseId);return new HC(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qC(t,e,n,r,s,i={}){const o=t.pu(i.merge||i.mergeFields?2:0,e,n,s);vy("Data must be an object, but it was:",o,r);const a=_y(r,o);let l,c;if(i.merge)l=new zt(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const d=WC(e,h,n);if(!o.contains(d))throw new K(k.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);QC(u,d)||u.push(d)}l=new zt(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new BC(new Bt(a),l,c)}function gy(t,e){if(yy(t=Pt(t)))return vy("Unsupported field value:",e,t),_y(t,e);if(t instanceof fy)return function(r,s){if(!my(s.Iu))throw s.mu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.mu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.du&&e.Iu!==4)throw e.mu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=gy(a,s.Vu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return f1(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ye.fromDate(r);return{timestampValue:jc(s.serializer,i)}}if(r instanceof Ye){const i=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:jc(s.serializer,i)}}if(r instanceof py)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ki)return{bytesValue:S1(s.serializer,r._byteString)};if(r instanceof En){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Q_(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.mu(`Unsupported field value: ${dh(r)}`)}(t,e)}function _y(t,e){const n={};return S_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ki(t,(r,s)=>{const i=gy(s,e.Eu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function yy(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof py||t instanceof ki||t instanceof En||t instanceof fy)}function vy(t,e,n){if(!yy(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=dh(n);throw r==="an object"?e.mu(t+" a custom object"):e.mu(t+" "+r)}}function WC(t,e,n){if((e=Pt(e))instanceof dy)return e._internalPath;if(typeof e=="string")return KC(t,e);throw da("Field path arguments must be of type string or ",t,!1,void 0,n)}const GC=new RegExp("[~\\*/\\[\\]]");function KC(t,e,n){if(e.search(GC)>=0)throw da(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new dy(...e.split("."))._internalPath}catch{throw da(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function da(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new K(k.INVALID_ARGUMENT,a+t+l)}function QC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function JC(t,e){const n=ly(t.firestore,cy),r=$C(t),s=XC(t.converter,e);return YC(n,[qC(zC(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,wn.exists(!1))]).then(()=>r)}function YC(t,e){return function(r,s){const i=new vr;return r.asyncQueue.enqueueAndForget(async()=>AC(await MC(r),s,i)),i.promise}(UC(t),e)}(function(e,n=!0){(function(s){Ps=s})(Ts),us(new br("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new cy(new CP(r.getProvider("auth-internal")),new NP(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new K(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oa(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Wn(mf,"4.3.2",e),Wn(mf,"4.3.2","esm2017")})();const ZC={name:"Dashboard"},eO=y("h1",null,"Welcome to the Dashboard",-1),tO=[eO];function nO(t,e,n,r,s,i){return oe(),me("div",null,tO)}const wy=tt(ZC,[["render",nO]]),rO=Object.freeze(Object.defineProperty({__proto__:null,default:wy},Symbol.toStringTag,{value:"Module"}));const sO=kr({components:{NavBar:xa,Footer:Na,Dashboard:wy},setup(){const t=Re(""),e=Re(""),n=Re(null),r=Re(""),s=Re(""),i=Re(""),o=Re(""),a=uy(),l=_c(),c=Re(!1),u=Re(!1),h="";fR();const d=N=>N.includes("@"),f=Xe(()=>d(r.value)),_=Xe(()=>d(s.value)),v=Xe(()=>i.value.length>=6),b=Xe(()=>i.value===o.value),A=async()=>{n.value=null,u.value=!0;try{await Vb(l,r.value,e.value);const N=$f(a,"users"),re=query(N,where("uid","==",l.currentUser.uid)),G=await getDocs(re);G.size>0&&G.forEach(le=>{const Z=le.data()}),this.$router.replace("Dashboard")}catch(N){n.value=N.message}},R=async N=>{const re=$f(a,"users"),G={uid:N.uid,email:s.value,password:i.value};await JC(re,G)};return{email:t,logpass:e,error:n,isLogin:A,signUp:async()=>{n.value=null,c.value=!0;try{const re=(await Lb(l,s.value,i.value)).user;await R(re),h="You are signed in!"}catch(N){n.value=N.message}},isEmailValid:d,isPasswordMatch:b,logEmail:r,SignUpEmail:s,Signpass:i,confirmPass:o,loginButtonClicked:u,signUpButtonClicked:c,signupEmailIsValid:_,loginEmailIsValid:f,passwordValid:v,toDisplay:h}}}),Xt=t=>(Cr("data-v-849bd9a1"),t=t(),Or(),t),iO=Xt(()=>y("head",null,[y("meta",{charset:"UTF-8"}),y("meta",{"http-equiv":"X-UA-Compatible",content:"IE=edge"}),y("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),y("title",null,"EcoScape"),y("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css",rel:"stylesheet",integrity:"sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9",crossorigin:"anonymous"})],-1)),oO={class:"container-fluid p-0"},aO={class:"banner full-height p-0"},lO={class:"section position-relative justify-content-center text-center"},cO={class:"row full-height justify-content-center"},uO={class:"text-center justify-content-center py-5"},hO={class:"section try pb-5 pt-5 pt-sm-2 text-center"},dO=Xt(()=>y("h6",{class:"mb-0 pb-3"},[y("span",null,"Sign Up"),y("span",null,"Log In")],-1)),fO=Xt(()=>y("input",{class:"checkbox",type:"checkbox",id:"reg-log",name:"reg-log"},null,-1)),pO=Xt(()=>y("label",{for:"reg-log"},null,-1)),mO={class:"card-3d-wrap mx-auto"},gO={class:"card-3d-wrapper"},_O={class:"card-front"},yO={class:"center-wrap"},vO=Xt(()=>y("div",{class:"section text-center"},[y("h4",{class:"mb-4 pb-3"},"Sign Up")],-1)),wO={key:0,class:"error"},EO={class:"form-group"},bO=Xt(()=>y("i",{class:"input-icon uil uil-user"},null,-1)),TO={class:"form-group mt-2"},IO=Xt(()=>y("i",{class:"input-icon uil uil-lock-alt"},null,-1)),AO={class:"form-group mt-2"},SO=Xt(()=>y("i",{class:"input-icon uil uil-lock-alt"},null,-1)),RO={key:0,class:"error"},PO={key:1,class:"error"},CO={class:"card-back"},OO={class:"center-wrap"},kO={class:"section text-center"},xO=Xt(()=>y("h4",{class:"mb-4 pb-3"},"Log In",-1)),NO={class:"form-group"},DO=Xt(()=>y("i",{class:"input-icon uil uil-user"},null,-1)),MO={key:0,class:"error"},LO={class:"form-group mt-2"},VO=Xt(()=>y("i",{class:"input-icon uil-lock-alt"},null,-1));function $O(t,e,n,r,s,i){const o=Ge("NavBar"),a=Ge("Footer");return oe(),me(He,null,[iO,ne(o),y("body",null,[y("div",oO,[y("div",aO,[y("div",lO,[y("div",cO,[y("div",uO,[y("div",hO,[dO,fO,pO,y("div",mO,[y("div",gO,[y("div",_O,[y("div",yO,[vO,!t.signupEmailIsValid&&t.signUpButtonClicked?(oe(),me("div",wO," Please enter a valid email (e.g., yourname@example.com) ")):Un("",!0),y("div",EO,[zr(y("input",{type:"text",name:"SignUpEmail",class:"form-style",placeholder:"Your Email (e.g james012@gmail.com)",id:"SignUpEmail",autocomplete:"off","onUpdate:modelValue":e[0]||(e[0]=l=>t.SignUpEmail=l)},null,512),[[Wr,t.SignUpEmail]]),bO,y("div",TO,[zr(y("input",{type:"password",name:"Signpass",class:"form-style",placeholder:"Your Password",id:"Signpass",autocomplete:"off","onUpdate:modelValue":e[1]||(e[1]=l=>t.Signpass=l)},null,512),[[Wr,t.Signpass]]),IO]),y("div",AO,[zr(y("input",{type:"password",name:"confirmPass",class:"form-style",placeholder:"Confirm Password",id:"confirmPass",autocomplete:"off","onUpdate:modelValue":e[2]||(e[2]=l=>t.confirmPass=l)},null,512),[[Wr,t.confirmPass]]),SO]),!t.isPasswordMatch&&t.signUpButtonClicked?(oe(),me("div",RO," Passwords do not match :( ")):Un("",!0),!t.passwordValid&&t.signUpButtonClicked?(oe(),me("div",PO," Your password should be at least 6 characters long! ")):Un("",!0),y("a",{href:"#",class:"btn mt-4",id:"signUp",onClick:e[3]||(e[3]=(...l)=>t.signUp&&t.signUp(...l))},"Sign Up")])])]),y("div",CO,[y("div",OO,[y("div",kO,[xO,y("div",NO,[zr(y("input",{type:"text",name:"logEmail",class:"form-style",placeholder:"Your Email (e.g james012@gmail.com)",id:"logEmail",autocomplete:"off","onUpdate:modelValue":e[4]||(e[4]=l=>t.logEmail=l)},null,512),[[Wr,t.logEmail]]),DO]),!t.loginEmailIsValid&&t.loginButtonClicked?(oe(),me("div",MO," Please enter a valid email (e.g., yourname@example.com) ")):Un("",!0),y("div",LO,[zr(y("input",{type:"password",name:"logpass",class:"form-style",placeholder:"Your Password",id:"logpass",autocomplete:"off","onUpdate:modelValue":e[5]||(e[5]=l=>t.logpass=l)},null,512),[[Wr,t.logpass]]),VO]),y("a",{href:"#",class:"btn mt-4",id:"Login",onClick:e[6]||(e[6]=(...l)=>t.isLogin&&t.isLogin(...l))},"Log In")])])])])])])])])])])])]),ne(a)],64)}const FO=tt(sO,[["render",$O],["__scopeId","data-v-849bd9a1"]]);const UO={methods:{onSlideHover(t){const e=t.currentTarget,n=e.querySelector(".flex-title"),r=e.querySelector(".flex-about");n.style.transform="rotate(0deg)",n.style.top="25%",r.style.opacity="1"},onSlideLeave(t){const e=t.currentTarget,n=e.querySelector(".flex-title"),r=e.querySelector(".flex-about");n.style.transform="rotate(90deg)",n.style.top="25%",r.style.opacity="0"},onMounted(){const t=document.querySelector("#down-btn-bicycle"),e=document.querySelector("#down-btn-ev"),n=document.querySelector("#down-btn-bus"),r=document.querySelector("#down-btn-mrt"),s=document.getElementById("card-text");t.addEventListener("click",function(){s.textContent="Learn more about our bicycle rental services and how you can contribute to a greener future."}),e.addEventListener("click",function(){s.textContent="Electric vehicle (EV) rentals for an emission-free ride."}),n.addEventListener("click",function(){s.textContent="Public buses designed for maximum comfort and minimal environmental impact."}),r.addEventListener("click",function(){s.textContent="Efficient MRT system to save time and reduce carbon emissions."})}},mounted(){this.onMounted()}},jO={id:"slide"},BO={class:"flex-container"},HO=er('<div class="slide-content" data-v-85795b95><div class="flex-title flex-title-bicycle" data-aos="fade-up" data-aos-duration="1000" data-v-85795b95> BICYCLE </div><div class="flex-about flex-about-bicycle text-center" data-v-85795b95><p data-v-85795b95> Pedal your way to a greener future with bicycle rental services across the country. <br data-v-85795b95> Enjoy the freedom of two-wheel transportation while contributing to reduced air pollution and traffic congestion. </p></div><a class="btn-get-started scrollto" id="scroll-icon" href="#transport-info" data-v-85795b95><div class="down-btn" id="down-btn-bicycle" data-v-85795b95><i class="fa fa-angle-down" data-v-85795b95></i></div></a></div>',1),zO=[HO],qO=er('<div class="slide-content" data-v-85795b95><div class="flex-title" data-aos="fade-up" data-aos-duration="1500" data-v-85795b95> ELECTRIC VEHICLE </div><div class="flex-about text-center" data-v-85795b95><p data-v-85795b95> Switch to electric vehicles (EVs) for an emission-free ride. Electric vehicle rental option is provided for a sustainable way to travel, whether it&#39;s for a short trip or an extended journey. </p></div><a class="btn-get-started scrollto" id="scroll-icon" href="#transport-info" data-v-85795b95><div class="down-btn" id="down-btn-ev" data-v-85795b95><i class="fa fa-angle-down" data-v-85795b95></i></div></a></div>',1),WO=[qO],GO=er('<div class="slide-content" data-v-85795b95><div class="flex-title" data-aos="fade-up" data-aos-duration="2000" data-v-85795b95> BUS </div><div class="flex-about text-center" data-v-85795b95><p data-v-85795b95> Hop on board our eco-friendly public buses, designed for maximum passenger comfort and minimal environmental impact. Convenient routes and reliable schedules make it a breeze to get around. </p></div><a class="btn-get-started scrollto" id="scroll-icon" href="#transport-info" data-v-85795b95><div class="down-btn" id="down-btn-bus" data-v-85795b95><i class="fa fa-angle-down" data-v-85795b95></i></div></a></div>',1),KO=[GO],QO=er('<div class="slide-content" data-v-85795b95><div class="flex-title" data-aos="fade-up" data-aos-duration="2500" data-v-85795b95> MRT </div><div class="flex-about text-center" data-v-85795b95><p data-v-85795b95> Experience the speed and efficiency of our MRT system, the backbone of urban public transportation. Save time and energy while minimizing your carbon emissions. </p></div><a class="btn-get-started scrollto" id="scroll-icon" href="#transport-info" data-v-85795b95><div class="down-btn" id="down-btn-mrt" data-v-85795b95><i class="fa fa-angle-down" data-v-85795b95></i></div></a></div>',1),XO=[QO],JO=er('<section id="transport-info" data-v-85795b95><div class="d-flex justify-content-center align-items-center" data-v-85795b95><div class="card rounded-2 border mx-5 text-center w-75" data-v-85795b95><div class="card-title mt-4 pt-3" data-v-85795b95> Discover Sustainable Mobility with Us </div><div class="card-subtitle px-5 pt-4 mx-4" data-v-85795b95> Are you ready to embrace eco-friendly transportation and reduce your carbon footprint? EcoScape offers a range of sustainable options that not only help protect the environment but also make your daily commute or travel more convenient. Explore our Green Transport Planner. </div><div class="card-text mt-5 pb-3 mb-3" id="card-text" data-v-85795b95> Join us in reducing your carbon footprint and protecting the environment. Start your journey with EcoScape today! </div></div></div></section>',1);function YO(t,e,n,r,s,i){return oe(),me(He,null,[y("section",jO,[y("div",BO,[y("div",{class:"flex-slide bicycle",onMouseenter:e[0]||(e[0]=(...o)=>i.onSlideHover&&i.onSlideHover(...o)),onMouseleave:e[1]||(e[1]=(...o)=>i.onSlideLeave&&i.onSlideLeave(...o))},zO,32),y("div",{class:"flex-slide ev",onMouseenter:e[2]||(e[2]=(...o)=>i.onSlideHover&&i.onSlideHover(...o)),onMouseleave:e[3]||(e[3]=(...o)=>i.onSlideLeave&&i.onSlideLeave(...o))},WO,32),y("div",{class:"flex-slide bus",onMouseenter:e[4]||(e[4]=(...o)=>i.onSlideHover&&i.onSlideHover(...o)),onMouseleave:e[5]||(e[5]=(...o)=>i.onSlideLeave&&i.onSlideLeave(...o))},KO,32),y("div",{class:"flex-slide mrt",onMouseenter:e[6]||(e[6]=(...o)=>i.onSlideHover&&i.onSlideHover(...o)),onMouseleave:e[7]||(e[7]=(...o)=>i.onSlideLeave&&i.onSlideLeave(...o))},XO,32)])]),JO],64)}const ZO=tt(UO,[["render",YO],["__scopeId","data-v-85795b95"]]);const ek={mounted(){this.initializeOdometer()},methods:{initializeOdometer(){new Odometer({el:this.$refs.odometer,value:0})}}},Ey=t=>(Cr("data-v-765d365b"),t=t(),Or(),t),tk={id:"metrics"},nk={class:"counter text-white pt-4"},rk=Ey(()=>y("p",null,"Status",-1)),sk={class:"odometer text-white",ref:"odometer"},ik=Ey(()=>y("h6",{class:"title text-white"},"Carbon Emission Calculator",-1));function ok(t,e,n,r,s,i){return oe(),me("section",tk,[y("div",nk,[rk,y("div",sk,"0",512),ik])])}const ak=tt(ek,[["render",ok],["__scopeId","data-v-765d365b"]]);function by(t,e){return function(){return t.apply(e,arguments)}}const{toString:lk}=Object.prototype,{getPrototypeOf:mh}=Object,al=(t=>e=>{const n=lk.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),dn=t=>(t=t.toLowerCase(),e=>al(e)===t),ll=t=>e=>typeof e===t,{isArray:Os}=Array,xi=ll("undefined");function ck(t){return t!==null&&!xi(t)&&t.constructor!==null&&!xi(t.constructor)&&Vt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Ty=dn("ArrayBuffer");function uk(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Ty(t.buffer),e}const hk=ll("string"),Vt=ll("function"),Iy=ll("number"),cl=t=>t!==null&&typeof t=="object",dk=t=>t===!0||t===!1,ko=t=>{if(al(t)!=="object")return!1;const e=mh(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},fk=dn("Date"),pk=dn("File"),mk=dn("Blob"),gk=dn("FileList"),_k=t=>cl(t)&&Vt(t.pipe),yk=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Vt(t.append)&&((e=al(t))==="formdata"||e==="object"&&Vt(t.toString)&&t.toString()==="[object FormData]"))},vk=dn("URLSearchParams"),wk=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Yi(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Os(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function Ay(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const Sy=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Ry=t=>!xi(t)&&t!==Sy;function Hc(){const{caseless:t}=Ry(this)&&this||{},e={},n=(r,s)=>{const i=t&&Ay(e,s)||s;ko(e[i])&&ko(r)?e[i]=Hc(e[i],r):ko(r)?e[i]=Hc({},r):Os(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Yi(arguments[r],n);return e}const Ek=(t,e,n,{allOwnKeys:r}={})=>(Yi(e,(s,i)=>{n&&Vt(s)?t[i]=by(s,n):t[i]=s},{allOwnKeys:r}),t),bk=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Tk=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Ik=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&mh(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Ak=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Sk=t=>{if(!t)return null;if(Os(t))return t;let e=t.length;if(!Iy(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Rk=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&mh(Uint8Array)),Pk=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},Ck=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Ok=dn("HTMLFormElement"),kk=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),Ff=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),xk=dn("RegExp"),Py=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Yi(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},Nk=t=>{Py(t,(e,n)=>{if(Vt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Vt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Dk=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Os(t)?r(t):r(String(t).split(e)),n},Mk=()=>{},Lk=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Fl="abcdefghijklmnopqrstuvwxyz",Uf="0123456789",Cy={DIGIT:Uf,ALPHA:Fl,ALPHA_DIGIT:Fl+Fl.toUpperCase()+Uf},Vk=(t=16,e=Cy.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function $k(t){return!!(t&&Vt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Fk=t=>{const e=new Array(10),n=(r,s)=>{if(cl(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Os(r)?[]:{};return Yi(r,(o,a)=>{const l=n(o,s+1);!xi(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},Uk=dn("AsyncFunction"),jk=t=>t&&(cl(t)||Vt(t))&&Vt(t.then)&&Vt(t.catch),I={isArray:Os,isArrayBuffer:Ty,isBuffer:ck,isFormData:yk,isArrayBufferView:uk,isString:hk,isNumber:Iy,isBoolean:dk,isObject:cl,isPlainObject:ko,isUndefined:xi,isDate:fk,isFile:pk,isBlob:mk,isRegExp:xk,isFunction:Vt,isStream:_k,isURLSearchParams:vk,isTypedArray:Rk,isFileList:gk,forEach:Yi,merge:Hc,extend:Ek,trim:wk,stripBOM:bk,inherits:Tk,toFlatObject:Ik,kindOf:al,kindOfTest:dn,endsWith:Ak,toArray:Sk,forEachEntry:Pk,matchAll:Ck,isHTMLForm:Ok,hasOwnProperty:Ff,hasOwnProp:Ff,reduceDescriptors:Py,freezeMethods:Nk,toObjectSet:Dk,toCamelCase:kk,noop:Mk,toFiniteNumber:Lk,findKey:Ay,global:Sy,isContextDefined:Ry,ALPHABET:Cy,generateString:Vk,isSpecCompliantForm:$k,toJSONObject:Fk,isAsyncFn:Uk,isThenable:jk};function ge(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}I.inherits(ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Oy=ge.prototype,ky={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ky[t]={value:t}});Object.defineProperties(ge,ky);Object.defineProperty(Oy,"isAxiosError",{value:!0});ge.from=(t,e,n,r,s,i)=>{const o=Object.create(Oy);return I.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ge.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const Bk=null;function zc(t){return I.isPlainObject(t)||I.isArray(t)}function xy(t){return I.endsWith(t,"[]")?t.slice(0,-2):t}function jf(t,e,n){return t?t.concat(e).map(function(s,i){return s=xy(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function Hk(t){return I.isArray(t)&&!t.some(zc)}const zk=I.toFlatObject(I,{},null,function(e){return/^is[A-Z]/.test(e)});function ul(t,e,n){if(!I.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=I.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!I.isUndefined(b[v])});const r=n.metaTokens,s=n.visitor||u,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(e);if(!I.isFunction(s))throw new TypeError("visitor must be a function");function c(_){if(_===null)return"";if(I.isDate(_))return _.toISOString();if(!l&&I.isBlob(_))throw new ge("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(_)||I.isTypedArray(_)?l&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function u(_,v,b){let A=_;if(_&&!b&&typeof _=="object"){if(I.endsWith(v,"{}"))v=r?v:v.slice(0,-2),_=JSON.stringify(_);else if(I.isArray(_)&&Hk(_)||(I.isFileList(_)||I.endsWith(v,"[]"))&&(A=I.toArray(_)))return v=xy(v),A.forEach(function(F,N){!(I.isUndefined(F)||F===null)&&e.append(o===!0?jf([v],N,i):o===null?v:v+"[]",c(F))}),!1}return zc(_)?!0:(e.append(jf(b,v,i),c(_)),!1)}const h=[],d=Object.assign(zk,{defaultVisitor:u,convertValue:c,isVisitable:zc});function f(_,v){if(!I.isUndefined(_)){if(h.indexOf(_)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(_),I.forEach(_,function(A,R){(!(I.isUndefined(A)||A===null)&&s.call(e,A,I.isString(R)?R.trim():R,v,d))===!0&&f(A,v?v.concat(R):[R])}),h.pop()}}if(!I.isObject(t))throw new TypeError("data must be an object");return f(t),e}function Bf(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function gh(t,e){this._pairs=[],t&&ul(t,this,e)}const Ny=gh.prototype;Ny.append=function(e,n){this._pairs.push([e,n])};Ny.toString=function(e){const n=e?function(r){return e.call(this,r,Bf)}:Bf;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function qk(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Dy(t,e,n){if(!e)return t;const r=n&&n.encode||qk,s=n&&n.serialize;let i;if(s?i=s(e,n):i=I.isURLSearchParams(e)?e.toString():new gh(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Wk{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){I.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Hf=Wk,My={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Gk=typeof URLSearchParams<"u"?URLSearchParams:gh,Kk=typeof FormData<"u"?FormData:null,Qk=typeof Blob<"u"?Blob:null,Xk=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Jk=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),sn={isBrowser:!0,classes:{URLSearchParams:Gk,FormData:Kk,Blob:Qk},isStandardBrowserEnv:Xk,isStandardBrowserWebWorkerEnv:Jk,protocols:["http","https","file","blob","url","data"]};function Yk(t,e){return ul(t,new sn.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return sn.isNode&&I.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function Zk(t){return I.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ex(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function Ly(t){function e(n,r,s,i){let o=n[i++];const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&I.isArray(s)?s.length:o,l?(I.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!I.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&I.isArray(s[o])&&(s[o]=ex(s[o])),!a)}if(I.isFormData(t)&&I.isFunction(t.entries)){const n={};return I.forEachEntry(t,(r,s)=>{e(Zk(r),s,n,0)}),n}return null}function tx(t,e,n){if(I.isString(t))try{return(e||JSON.parse)(t),I.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const _h={transitional:My,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=I.isObject(e);if(i&&I.isHTMLForm(e)&&(e=new FormData(e)),I.isFormData(e))return s&&s?JSON.stringify(Ly(e)):e;if(I.isArrayBuffer(e)||I.isBuffer(e)||I.isStream(e)||I.isFile(e)||I.isBlob(e))return e;if(I.isArrayBufferView(e))return e.buffer;if(I.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Yk(e,this.formSerializer).toString();if((a=I.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ul(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),tx(e)):e}],transformResponse:[function(e){const n=this.transitional||_h.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&I.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ge.from(a,ge.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:sn.classes.FormData,Blob:sn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],t=>{_h.headers[t]={}});const yh=_h,nx=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rx=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&nx[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},zf=Symbol("internals");function $s(t){return t&&String(t).trim().toLowerCase()}function xo(t){return t===!1||t==null?t:I.isArray(t)?t.map(xo):String(t)}function sx(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const ix=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ul(t,e,n,r,s){if(I.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!I.isString(e)){if(I.isString(r))return e.indexOf(r)!==-1;if(I.isRegExp(r))return r.test(e)}}function ox(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function ax(t,e){const n=I.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class hl{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,c){const u=$s(l);if(!u)throw new Error("header name must be a non-empty string");const h=I.findKey(s,u);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||l]=xo(a))}const o=(a,l)=>I.forEach(a,(c,u)=>i(c,u,l));return I.isPlainObject(e)||e instanceof this.constructor?o(e,n):I.isString(e)&&(e=e.trim())&&!ix(e)?o(rx(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=$s(e),e){const r=I.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return sx(s);if(I.isFunction(n))return n.call(this,s,r);if(I.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=$s(e),e){const r=I.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Ul(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=$s(o),o){const a=I.findKey(r,o);a&&(!n||Ul(r,r[a],a,n))&&(delete r[a],s=!0)}}return I.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||Ul(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return I.forEach(this,(s,i)=>{const o=I.findKey(r,i);if(o){n[o]=xo(s),delete n[i];return}const a=e?ox(i):String(i).trim();a!==i&&delete n[i],n[a]=xo(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return I.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&I.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[zf]=this[zf]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=$s(o);r[a]||(ax(s,o),r[a]=!0)}return I.isArray(e)?e.forEach(i):i(e),this}}hl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(hl.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});I.freezeMethods(hl);const bn=hl;function jl(t,e){const n=this||yh,r=e||n,s=bn.from(r.headers);let i=r.data;return I.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Vy(t){return!!(t&&t.__CANCEL__)}function Zi(t,e,n){ge.call(this,t??"canceled",ge.ERR_CANCELED,e,n),this.name="CanceledError"}I.inherits(Zi,ge,{__CANCEL__:!0});function lx(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ge("Request failed with status code "+n.status,[ge.ERR_BAD_REQUEST,ge.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const cx=sn.isStandardBrowserEnv?function(){return{write:function(n,r,s,i,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),I.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),I.isString(i)&&l.push("path="+i),I.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function ux(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function hx(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function $y(t,e){return t&&!ux(e)?hx(t,e):e}const dx=sn.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=I.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function fx(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function px(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[i];o||(o=c),n[s]=l,r[s]=c;let h=i,d=0;for(;h!==s;)d+=n[h++],h=h%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-o<e)return;const f=u&&c-u;return f?Math.round(d*1e3/f):void 0}}function qf(t,e){let n=0;const r=px(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,a=i-n,l=r(a),c=i<=o;n=i;const u={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-i)/l:void 0,event:s};u[e?"download":"upload"]=!0,t(u)}}const mx=typeof XMLHttpRequest<"u",gx=mx&&function(t){return new Promise(function(n,r){let s=t.data;const i=bn.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}let c;I.isFormData(s)&&(sn.isStandardBrowserEnv||sn.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.getContentType(/^\s*multipart\/form-data/)?I.isString(c=i.getContentType())&&i.setContentType(c.replace(/^\s*(multipart\/form-data);+/,"$1")):i.setContentType("multipart/form-data"));let u=new XMLHttpRequest;if(t.auth){const _=t.auth.username||"",v=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(_+":"+v))}const h=$y(t.baseURL,t.url);u.open(t.method.toUpperCase(),Dy(h,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function d(){if(!u)return;const _=bn.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),b={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:_,config:t,request:u};lx(function(R){n(R),l()},function(R){r(R),l()},b),u=null}if("onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(d)},u.onabort=function(){u&&(r(new ge("Request aborted",ge.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new ge("Network Error",ge.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let v=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const b=t.transitional||My;t.timeoutErrorMessage&&(v=t.timeoutErrorMessage),r(new ge(v,b.clarifyTimeoutError?ge.ETIMEDOUT:ge.ECONNABORTED,t,u)),u=null},sn.isStandardBrowserEnv){const _=dx(h)&&t.xsrfCookieName&&cx.read(t.xsrfCookieName);_&&i.set(t.xsrfHeaderName,_)}s===void 0&&i.setContentType(null),"setRequestHeader"in u&&I.forEach(i.toJSON(),function(v,b){u.setRequestHeader(b,v)}),I.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),o&&o!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",qf(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",qf(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=_=>{u&&(r(!_||_.type?new Zi(null,t,u):_),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const f=fx(h);if(f&&sn.protocols.indexOf(f)===-1){r(new ge("Unsupported protocol "+f+":",ge.ERR_BAD_REQUEST,t));return}u.send(s||null)})},qc={http:Bk,xhr:gx};I.forEach(qc,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Wf=t=>`- ${t}`,_x=t=>I.isFunction(t)||t===null||t===!1,Fy={getAdapter:t=>{t=I.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!_x(n)&&(r=qc[(o=String(n)).toLowerCase()],r===void 0))throw new ge(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(Wf).join(`
`):" "+Wf(i[0]):"as no adapter specified";throw new ge("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:qc};function Bl(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Zi(null,t)}function Gf(t){return Bl(t),t.headers=bn.from(t.headers),t.data=jl.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Fy.getAdapter(t.adapter||yh.adapter)(t).then(function(r){return Bl(t),r.data=jl.call(t,t.transformResponse,r),r.headers=bn.from(r.headers),r},function(r){return Vy(r)||(Bl(t),r&&r.response&&(r.response.data=jl.call(t,t.transformResponse,r.response),r.response.headers=bn.from(r.response.headers))),Promise.reject(r)})}const Kf=t=>t instanceof bn?t.toJSON():t;function vs(t,e){e=e||{};const n={};function r(c,u,h){return I.isPlainObject(c)&&I.isPlainObject(u)?I.merge.call({caseless:h},c,u):I.isPlainObject(u)?I.merge({},u):I.isArray(u)?u.slice():u}function s(c,u,h){if(I.isUndefined(u)){if(!I.isUndefined(c))return r(void 0,c,h)}else return r(c,u,h)}function i(c,u){if(!I.isUndefined(u))return r(void 0,u)}function o(c,u){if(I.isUndefined(u)){if(!I.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,h){if(h in e)return r(c,u);if(h in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>s(Kf(c),Kf(u),!0)};return I.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=l[u]||s,d=h(t[u],e[u],u);I.isUndefined(d)&&h!==a||(n[u]=d)}),n}const Uy="1.6.0",vh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{vh[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Qf={};vh.transitional=function(e,n,r){function s(i,o){return"[Axios v"+Uy+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new ge(s(o," has been removed"+(n?" in "+n:"")),ge.ERR_DEPRECATED);return n&&!Qf[o]&&(Qf[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function yx(t,e,n){if(typeof t!="object")throw new ge("options must be an object",ge.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new ge("option "+i+" must be "+l,ge.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ge("Unknown option "+i,ge.ERR_BAD_OPTION)}}const Wc={assertOptions:yx,validators:vh},kn=Wc.validators;class fa{constructor(e){this.defaults=e,this.interceptors={request:new Hf,response:new Hf}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=vs(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Wc.assertOptions(r,{silentJSONParsing:kn.transitional(kn.boolean),forcedJSONParsing:kn.transitional(kn.boolean),clarifyTimeoutError:kn.transitional(kn.boolean)},!1),s!=null&&(I.isFunction(s)?n.paramsSerializer={serialize:s}:Wc.assertOptions(s,{encode:kn.function,serialize:kn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&I.merge(i.common,i[n.method]);i&&I.forEach(["delete","get","head","post","put","patch","common"],_=>{delete i[_]}),n.headers=bn.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,h=0,d;if(!l){const _=[Gf.bind(this),void 0];for(_.unshift.apply(_,a),_.push.apply(_,c),d=_.length,u=Promise.resolve(n);h<d;)u=u.then(_[h++],_[h++]);return u}d=a.length;let f=n;for(h=0;h<d;){const _=a[h++],v=a[h++];try{f=_(f)}catch(b){v.call(this,b);break}}try{u=Gf.call(this,f)}catch(_){return Promise.reject(_)}for(h=0,d=c.length;h<d;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=vs(this.defaults,e);const n=$y(e.baseURL,e.url);return Dy(n,e.params,e.paramsSerializer)}}I.forEach(["delete","get","head","options"],function(e){fa.prototype[e]=function(n,r){return this.request(vs(r||{},{method:e,url:n,data:(r||{}).data}))}});I.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(vs(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}fa.prototype[e]=n(),fa.prototype[e+"Form"]=n(!0)});const No=fa;class wh{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new Zi(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new wh(function(s){e=s}),cancel:e}}}const vx=wh;function wx(t){return function(n){return t.apply(null,n)}}function Ex(t){return I.isObject(t)&&t.isAxiosError===!0}const Gc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gc).forEach(([t,e])=>{Gc[e]=t});const bx=Gc;function jy(t){const e=new No(t),n=by(No.prototype.request,e);return I.extend(n,No.prototype,e,{allOwnKeys:!0}),I.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return jy(vs(t,s))},n}const ze=jy(yh);ze.Axios=No;ze.CanceledError=Zi;ze.CancelToken=vx;ze.isCancel=Vy;ze.VERSION=Uy;ze.toFormData=ul;ze.AxiosError=ge;ze.Cancel=ze.CanceledError;ze.all=function(e){return Promise.all(e)};ze.spread=wx;ze.isAxiosError=Ex;ze.mergeConfig=vs;ze.AxiosHeaders=bn;ze.formToJSON=t=>Ly(I.isHTMLForm(t)?new FormData(t):t);ze.getAdapter=Fy.getAdapter;ze.HttpStatusCode=bx;ze.default=ze;const Fs=ze,Tx={name:"GoogleMap",props:{lat:{type:Number,required:!0},long:{type:Number,required:!0},name:{type:String,required:!0}},data(){return{center:{lat:this.lat,lng:this.long}}}};function Ix(t,e,n,r,s,i){const o=Ge("GMapMarker"),a=Ge("GMapMap");return oe(),ls(a,{center:s.center,zoom:16,"map-type-id":"roadmap",style:{width:"100%",height:"700px"}},{default:We(()=>[ne(o,{position:s.center,clickable:!0},null,8,["position"])]),_:1},8,["center"])}const By=tt(Tx,[["render",Ix]]);const Ax={components:{GoogleMap:By},props:{index:{type:Number,required:!0}},data(){return{address:"Singapore Management University",lat:"1.2973784",lng:"103.8495219",title:"Hello SMU",displayInfo:"",bicycleParkingData:[],carParksData:[],busStopsData:[],mrtData:[],image:"",url:"",name:""}},computed:{filteredBusStops(){if(this.address){if(this.locationFilterType==="fullAddress")return this.busStopsData.filter(e=>e.RoadName.includes(this.address));if(this.locationFilterType==="postalCode")return this.busStopsData.filter(e=>e.PostalCode===this.address);var t="There are no bus stops nearby!";return t}},filteredCarParks(){if(this.address){if(this.locationFilterType==="fullAddress")return this.carParksData.filter(t=>this.address.includes(t.area));if(this.locationFilterType==="postalCode")return this.carParksData.filter(t=>t.PostalCode===this.address)}}},methods:{initMap(){this.lat=parseFloat(this.lat),this.lng=parseFloat(this.lng);var t={lat:this.lat,lng:this.lng},e=new google.maps.Map(document.getElementById("map"),{center:t,zoom:14});new google.maps.Marker({position:t,map:e,title:this.title})},getLoc(t){var e=document.getElementById("addr").value;console.log(e);var n="https://maps.googleapis.com/maps/api/geocode/json",r="AIzaSyDksVIycjBKa9SOthsJq5gbpXpM-DbgBWc";Fs.get(n,{params:{address:e,key:r}}).then(s=>{let i=s.data;console.log(i);let o="";t=="postcode"?o=getPostCode(i):o=getFullAddress(i),console.log(o),document.getElementById("display").innerText=o;let a=getLatLng(i);lat=a.lat,lng=a.lng,title="Hello "+e,initMap()}).catch(s=>{document.getElementById("display").innerText="Sorry, invalid address. Please try again!"})},getFullAddress(t){var e=t.results[0].formatted_address,n=getLatLng(t);return e+", lat: "+n.lat+", lng: "+n.lng},getLatLng(t){var e=t.results[0].geometry.location;return e},getPostCode(t){var e=t.results[0].address_components,n=e.filter(postcodeHelper);return n[0].long_name},postcodeHelper(t){return t.types[0]=="postal_code"},getKeys(t){var e=Object.keys(t.results[0]);for(key of e)document.getElementById("display").innerText+=key+"; "},getCountry(t){var e=t.results[0].address_components,n=e.filter(countryHelper);return n[0].long_name},countryHelper(t,e){return t.types[0]=="country"},async getBicycleParkingData(){const t="http://datamall2.mytransport.sg/ltaodataservice/BicycleParkingv2",e="mcXYAV2rQXOykVpqXBXaxw==",n=this.lat,r=this.lng,s=.5;try{const i=await Fs.get(t,{headers:{AccountKey:e},params:{latitude:n,longitude:r,distance:s}});this.bicycleParkingData=i.data}catch(i){console.error("Error fetching bicycle parking data:",i)}},async getCarParksData(){const t="http://datamall2.mytransport.sg/ltaodataservice/CarParkAvailabilityv2",e="mcXYAV2rQXOykVpqXBXaxw==";try{const r=(await Fs.get(t,{headers:{AccountKey:e}})).data;this.carParksData=r}catch(n){console.error("Error fetching car parks data:",n)}},async getBusStopsData(){const t="http://datamall2.mytransport.sg/ltaodataservice/BusStops",e="mcXYAV2rQXOykVpqXBXaxw==";try{const r=(await Fs.get(t,{headers:{AccountKey:e}})).data;this.busStopsData=r}catch(n){console.error("Error fetching bus stops data:",n)}},async getMRTData(){const t="http://datamall2.mytransport.sg/ltaodataservice/TrainServiceAlerts",e="mcXYAV2rQXOykVpqXBXaxw==";try{const r=(await Fs.get(t,{headers:{AccountKey:e}})).data;this.mrtData=r}catch(n){console.error("Error fetching MRT data:",n)}}},created(){if(typeof google>"u"){const t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAEdK4QmPR7xGkCxDcpoD1GLKBwBL-R0zQ",t.onload=this.initMap,document.body.appendChild(t)}else this.initMap();this.getFullAddress(),this.getBicycleParkingData(),this.getCarParksData(),this.getBusStopsData(),this.getMRTData()}},Sx=y("h3",null,"Google Map",-1),Rx=y("div",{id:"map"},null,-1),Px={class:"jumbotron"},Cx={class:"form-group"},Ox=y("label",{for:"addr"},"Enter Your Location",-1),kx=y("br",null,null,-1),xx=y("button",{type:"button",onclick:"getLoc('addr')",class:"btn btn-success"},"Get Full Address!",-1),Nx=y("button",{type:"button",onclick:"getLoc('postcode')",class:"btn btn-success"},"Get Postal Code!",-1),Dx=["value"],Mx=["value"],Lx={id:"transportData"},Vx=y("h3",null,"Transportation Data",-1),$x={key:0},Fx=y("strong",null,"Description:",-1),Ux=y("strong",null,"Latitude:",-1),jx=y("strong",null,"Longitude:",-1),Bx={key:1},Hx=y("strong",null,"Car Park ID:",-1),zx=y("strong",null,"Area:",-1),qx={key:2},Wx=y("strong",null,"Bus Stop Code:",-1),Gx=y("strong",null,"Road Name:",-1),Kx={key:3},Qx=y("strong",null,"Status:",-1),Xx=y("strong",null,"Line Affected:",-1),Jx={id:"display",class:"lead text-center"};function Yx(t,e,n,r,s,i){return oe(),me("div",null,[Sx,Rx,y("div",Px,[y("form",null,[y("div",Cx,[Ox,zr(y("input",{type:"text",class:"form-control","onUpdate:modelValue":e[0]||(e[0]=o=>s.address=o),placeholder:"E.g. Gardens By the Bay"},null,512),[[Wr,s.address]]),kx,xx,Nx,y("input",{type:"hidden",id:"lat",name:"lat",value:s.lat},null,8,Dx),y("input",{type:"hidden",id:"lng",name:"lng",value:s.lng},null,8,Mx),y("button",{onClick:e[1]||(e[1]=(...o)=>i.getBicycleParkingData&&i.getBicycleParkingData(...o))},"Get Bicycle Parking Data"),y("button",{onClick:e[2]||(e[2]=(...o)=>i.getCarParksData&&i.getCarParksData(...o))},"Get Car Parks Data"),y("button",{onClick:e[3]||(e[3]=(...o)=>i.getBusStopsData&&i.getBusStopsData(...o))},"Get Bus Stops Data"),y("button",{onClick:e[4]||(e[4]=(...o)=>i.getMRTData&&i.getMRTData(...o))},"Get MRT Data"),y("div",Lx,[Vx,s.bicycleParkingData.length>0?(oe(),me("ul",$x,[(oe(!0),me(He,null,Hs(s.bicycleParkingData,o=>(oe(),me("li",{key:o.ID},[y("p",null,[Fx,ve(" "+Mt(o.Description),1)]),y("p",null,[Ux,ve(" "+Mt(o.Latitude),1)]),y("p",null,[jx,ve(" "+Mt(o.Longitude),1)])]))),128))])):Un("",!0),s.carParksData.length>0?(oe(),me("ul",Bx,[(oe(!0),me(He,null,Hs(s.carParksData,o=>(oe(),me("li",{key:o.CarParkID},[y("p",null,[Hx,ve(" "+Mt(o.CarParkID),1)]),y("p",null,[zx,ve(" "+Mt(o.Area),1)])]))),128))])):Un("",!0),i.filteredBusStops.length>0?(oe(),me("ul",qx,[(oe(!0),me(He,null,Hs(i.filteredBusStops,o=>(oe(),me("li",{key:o.BusStopCode},[y("p",null,[Wx,ve(" "+Mt(o.BusStopCode),1)]),y("p",null,[Gx,ve(" "+Mt(o.RoadName),1)])]))),128))])):Un("",!0),s.mrtData.length>0?(oe(),me("ul",Kx,[(oe(!0),me(He,null,Hs(s.mrtData,o=>(oe(),me("li",{key:o.ID},[y("p",null,[Qx,ve(" "+Mt(o.status==="1"?"Normal":"Disrupted"),1)]),y("p",null,[Xx,ve(" "+Mt(o.lineAffected),1)])]))),128))])):Un("",!0)])]),y("p",Jx,Mt(s.displayInfo),1)])])])}const Zx=tt(Ax,[["render",Yx]]),eN={name:"Transport",data(){return{}},components:{NavBar:xa,TransportSlides:ZO,Metric:ak,GoogleMap:By,Footer:Na,tpMap:Zx}};function tN(t,e,n,r,s,i){const o=Ge("NavBar"),a=Ge("TransportSlides"),l=Ge("GoogleMap"),c=Ge("tpMap"),u=Ge("Metric"),h=Ge("Footer");return oe(),me("body",null,[ne(o),ne(a),ne(l),ne(c),ne(u),ne(h)])}const nN=tt(eN,[["render",tN]]),rN=[{path:"/",name:"Homepage",component:vR},{path:"/Login",name:"Login",component:FO},{path:"/Dashboard",name:"Dashboard",component:()=>cS(()=>Promise.resolve().then(()=>rO),void 0),meta:{requiresAuth:!0}},{path:"/Transport",name:"Transport",component:nN}],sN=hR({history:RS(),routes:rN,scrollBehavior(t,e,n){return t.hash?{el:t.hash,behavior:"smooth"}:n||{top:0}}});var iN="firebase",oN="10.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn(iN,oN,"app");const Xf=t=>{let e=!1,n;return()=>(e||(e=!0,n=t()),n)};class Kc{static isServer(){return typeof document>"u"}}function aN(t){const e=document.createElement("SCRIPT");if(typeof t!="object")throw new Error("options should  be an object");Array.prototype.isPrototypeOf(t.libraries)&&(t.libraries=t.libraries.join(",")),t.v||(t.v=3.47),t.callback="vueGoogleMapsInit";let r="https://maps.googleapis.com/maps/api/js?"+Object.keys(t).map(s=>encodeURIComponent(s)+"="+encodeURIComponent(t[s])).join("&");return e.setAttribute("src",r),e.setAttribute("async",""),e.setAttribute("defer",""),e}let Jf=!1;function lN(t){if(!Kc.isServer()){if(Jf)throw new Error("You already started the loading of google maps");{Jf=!0;const e=aN(t);document.head.appendChild(e)}}}const Hy=(t,e,n)=>{for(let r of n){const s=`on${r.charAt(0).toUpperCase()}${r.slice(1)}`.replace(/[-_]+(.)?/g,(i,o)=>o?o.toUpperCase():"");t.$props[s]||t.$attrs[s]?e.addListener(r,i=>{t.$emit(r,i)}):(t.$gmapOptions.autobindAllEvents||t.$attrs[r])&&e.addListener(r,i=>{t.$emit(r,i)})}};function zy(t,e,n,r=!1){let s=!1;function i(){s||(s=!0,t.$nextTick(()=>{s=!1,n()}))}for(let o of e)t.$watch(o,i,{immediate:r})}class Yf{static capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}}function pa(t,e){return Object.keys(e).reduce((n,r)=>(t[r]!==void 0&&(n[r]=t[r]),n),{})}function Eh(t,e,n){for(let r in n){let{twoWay:s,type:i,trackProperties:o,noBind:a}=n[r];if(a)continue;const l="set"+Yf.capitalizeFirstLetter(r),c="get"+Yf.capitalizeFirstLetter(r),u=r.toLowerCase()+"_changed",h=t[r];if(typeof e[l]>"u")throw new Error(`${l} is not a method of (the Maps object corresponding to) ${t.$options._componentTag}`);i!==Object||!o?t.$watch(r,()=>{const d=t[r];e[l](d)},{immediate:typeof h<"u",deep:i===Object}):zy(t,o.map(d=>`${r}.${d}`),()=>{e[l](t[r])},t[r]!==void 0),s&&(t.$gmapOptions.autobindAllEvents||t.$attrs[u])&&e.addListener(u,()=>{t.$emit(u,e[c]())})}}const cN={inject:{$mapPromise:{default:"abcdef"}},provide(){return this.$mapPromise.then(t=>{this.$map=t}),{}}};function sr(t){const{mappedProps:e,name:n,ctr:r,ctrArgs:s,events:i,beforeCreate:o,afterCreate:a,props:l,...c}=t,u=`$${n}Promise`,h=`$${n}Object`;return uN(!(c.props instanceof Array),"`props` should be an object, not Array"),{...typeof GENERATE_DOC<"u"?{$vgmOptions:t}:{},mixins:[cN],props:{...l,...bh(e)},render(){return""},provide(){const d=this.$mapPromise.then(f=>{this.$map=f;const _={...this.options,map:f,...pa(this,e)};if(delete _.options,o){const v=o.bind(this)(_);if(v instanceof Promise)return v.then(()=>({options:_}))}return{options:_}}).then(({options:f})=>{const _=r();return this[h]=s?new(Function.prototype.bind.call(_,null,...s(f,pa(this,l||{})))):new _(f),Eh(this,this[h],e),Hy(this,this[h],i),a&&a.bind(this)(this[h]),this[h]});return this[u]=d,{[u]:d}},unmounted(){this[h]&&this[h].setMap&&this[h].setMap(null)},...c}}function uN(t,e){if(!t)throw new Error(e)}function bh(t){return Object.entries(t).map(([e,n])=>{const r={};return"type"in n&&(r.type=n.type),"default"in n&&(r.default=n.default),"required"in n&&(r.required=n.required),[e,r]}).reduce((e,[n,r])=>(e[n]=r,e),{})}const hN={draggable:{type:Boolean},editable:{type:Boolean},options:{twoWay:!1,type:Object},path:{type:Array,twoWay:!0}},dN=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],fN=sr({mappedProps:hN,props:{deepWatch:{type:Boolean,default:!1}},events:dN,name:"polyline",ctr:()=>google.maps.Polyline,afterCreate(){let t=()=>{};this.$watch("path",e=>{if(e){t(),this.$polylineObject.setPath(e);const n=this.$polylineObject.getPath(),r=[],s=()=>{this.$emit("path_changed",this.$polylineObject.getPath())};r.push([n,n.addListener("insert_at",s)]),r.push([n,n.addListener("remove_at",s)]),r.push([n,n.addListener("set_at",s)]),t=()=>{r.map(([i,o])=>google.maps.event.removeListener(o))}}},{deep:this.deepWatch,immediate:!0})}}),pN={draggable:{type:Boolean},editable:{type:Boolean},options:{type:Object},path:{type:Array,twoWay:!0,noBind:!0},paths:{type:Array,twoWay:!0,noBind:!0}},mN=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],gN=sr({props:{deepWatch:{type:Boolean,default:!1}},events:mN,mappedProps:pN,name:"polygon",ctr:()=>google.maps.Polygon,beforeCreate(t){t.path||delete t.path,t.paths||delete t.paths},afterCreate(t){let e=()=>{};this.$watch("paths",n=>{if(n){e(),t.setPaths(n);const r=()=>{this.$emit("paths_changed",t.getPaths())},s=[],i=t.getPaths();for(let o=0;o<i.getLength();o++){let a=i.getAt(o);s.push([a,a.addListener("insert_at",r)]),s.push([a,a.addListener("remove_at",r)]),s.push([a,a.addListener("set_at",r)])}s.push([i,i.addListener("insert_at",r)]),s.push([i,i.addListener("remove_at",r)]),s.push([i,i.addListener("set_at",r)]),e=()=>{s.map(([o,a])=>google.maps.event.removeListener(a))}}},{deep:this.deepWatch,immediate:!0}),this.$watch("path",n=>{if(n){e(),t.setPaths(n);const r=t.getPath(),s=[],i=()=>{this.$emit("path_changed",t.getPath())};s.push([r,r.addListener("insert_at",i)]),s.push([r,r.addListener("remove_at",i)]),s.push([r,r.addListener("set_at",i)]),e=()=>{s.map(([o,a])=>google.maps.event.removeListener(a))}}},{deep:this.deepWatch,immediate:!0})}}),_N={center:{type:Object,twoWay:!0,required:!0},radius:{type:Number,twoWay:!0},draggable:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},options:{type:Object,twoWay:!1}},yN=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],vN=sr({mappedProps:_N,name:"circle",ctr:()=>google.maps.Circle,events:yN}),wN={bounds:{type:Object,twoWay:!0},draggable:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},options:{type:Object,twoWay:!1}},EN=["click","dblclick","drag","dragend","dragstart","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"],bN=sr({mappedProps:wN,name:"rectangle",ctr:()=>google.maps.Rectangle,events:EN}),TN={animation:{twoWay:!0,type:Number},attribution:{type:Object},clickable:{type:Boolean,twoWay:!0,default:!0},cursor:{type:String,twoWay:!0},draggable:{type:Boolean,twoWay:!0,default:!1},icon:{twoWay:!0},label:{},opacity:{type:Number,default:1},options:{type:Object},place:{type:Object},position:{type:Object,twoWay:!0},shape:{type:Object,twoWay:!0},title:{type:String,twoWay:!0},zIndex:{type:Number,twoWay:!0},visible:{twoWay:!0,default:!0}},Hl=["click","rightclick","dblclick","drag","dragstart","dragend","mouseup","mousedown","mouseover","mouseout"],IN=sr({mappedProps:TN,events:Hl,name:"marker",ctr:()=>google.maps.Marker,inject:{$clusterPromise:{default:null}},emits:Hl,unmounted(){this.$markerObject&&(this.$clusterObject?this.$clusterObject.removeMarker(this.$markerObject,!0):this.$markerObject.setMap(null))},beforeCreate(t){return this.$clusterPromise&&(t.map=null),this.$clusterPromise},afterCreate(t){Hl.forEach(e=>{t.addListener(e,n=>{this.$emit(e,n)})}),this.$clusterPromise&&this.$clusterPromise.then(e=>{this.$clusterObject=e,e.addMarker(t)})}});function AN(t,e,n,r,s,i){return oe(),me("div",{onClick:e[0]||(e[0]=()=>{console.log("sdfsd")})},[ui(t.$slots,"default")])}const SN=tt(IN,[["render",AN]]);var RN=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(i=Object.keys(e),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n};const Zf=Jm(RN),ep=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],zl=1,Us=8;class Th{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");const s=r>>4;if(s!==zl)throw new Error(`Got v${s} data when expected v${zl}.`);const i=ep[r&15];if(!i)throw new Error("Unrecognized array type.");const[o]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new Th(a,o,i,e)}constructor(e,n=64,r=Float64Array,s){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const i=ep.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,l=(8-a%8)%8;if(i<0)throw new Error(`Unexpected typed array class: ${r}.`);s&&s instanceof ArrayBuffer?(this.data=s,this.ids=new this.IndexArrayType(this.data,Us,e),this.coords=new this.ArrayType(this.data,Us+a+l,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(Us+o+a+l),this.ids=new this.IndexArrayType(this.data,Us,e),this.coords=new this.ArrayType(this.data,Us+a+l,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(zl<<4)+i]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){const r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return Qc(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,s){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:o,nodeSize:a}=this,l=[0,i.length-1,0],c=[];for(;l.length;){const u=l.pop()||0,h=l.pop()||0,d=l.pop()||0;if(h-d<=a){for(let b=d;b<=h;b++){const A=o[2*b],R=o[2*b+1];A>=e&&A<=r&&R>=n&&R<=s&&c.push(i[b])}continue}const f=d+h>>1,_=o[2*f],v=o[2*f+1];_>=e&&_<=r&&v>=n&&v<=s&&c.push(i[f]),(u===0?e<=_:n<=v)&&(l.push(d),l.push(f-1),l.push(1-u)),(u===0?r>=_:s>=v)&&(l.push(f+1),l.push(h),l.push(1-u))}return c}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:s,coords:i,nodeSize:o}=this,a=[0,s.length-1,0],l=[],c=r*r;for(;a.length;){const u=a.pop()||0,h=a.pop()||0,d=a.pop()||0;if(h-d<=o){for(let b=d;b<=h;b++)tp(i[2*b],i[2*b+1],e,n)<=c&&l.push(s[b]);continue}const f=d+h>>1,_=i[2*f],v=i[2*f+1];tp(_,v,e,n)<=c&&l.push(s[f]),(u===0?e-r<=_:n-r<=v)&&(a.push(d),a.push(f-1),a.push(1-u)),(u===0?e+r>=_:n+r>=v)&&(a.push(f+1),a.push(h),a.push(1-u))}return l}}function Qc(t,e,n,r,s,i){if(s-r<=n)return;const o=r+s>>1;qy(t,e,o,r,s,i),Qc(t,e,n,r,o-1,1-i),Qc(t,e,n,o+1,s,1-i)}function qy(t,e,n,r,s,i){for(;s>r;){if(s-r>600){const c=s-r+1,u=n-r+1,h=Math.log(c),d=.5*Math.exp(2*h/3),f=.5*Math.sqrt(h*d*(c-d)/c)*(u-c/2<0?-1:1),_=Math.max(r,Math.floor(n-u*d/c+f)),v=Math.min(s,Math.floor(n+(c-u)*d/c+f));qy(t,e,n,_,v,i)}const o=e[2*n+i];let a=r,l=s;for(js(t,e,r,n),e[2*s+i]>o&&js(t,e,r,s);a<l;){for(js(t,e,a,l),a++,l--;e[2*a+i]<o;)a++;for(;e[2*l+i]>o;)l--}e[2*r+i]===o?js(t,e,r,l):(l++,js(t,e,l,s)),l<=n&&(r=l+1),n<=l&&(s=l-1)}}function js(t,e,n,r){ql(t,n,r),ql(e,2*n,2*r),ql(e,2*n+1,2*r+1)}function ql(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function tp(t,e,n,r){const s=t-n,i=e-r;return s*s+i*i}const PN={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},np=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),ar=2,Mn=3,Wl=4,xn=5,Wy=6;class CN{constructor(e){this.options=Object.assign(Object.create(PN),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:n,minZoom:r,maxZoom:s}=this.options;n&&console.time("total time");const i=`prepare ${e.length} points`;n&&console.time(i),this.points=e;const o=[];for(let l=0;l<e.length;l++){const c=e[l];if(!c.geometry)continue;const[u,h]=c.geometry.coordinates,d=np(yo(u)),f=np(vo(h));o.push(d,f,1/0,l,-1,1),this.options.reduce&&o.push(0)}let a=this.trees[s+1]=this._createTree(o);n&&console.timeEnd(i);for(let l=s;l>=r;l--){const c=+Date.now();a=this.trees[l]=this._createTree(this._cluster(a,l)),n&&console.log("z%d: %d clusters in %dms",l,a.numItems,+Date.now()-c)}return n&&console.timeEnd("total time"),this}getClusters(e,n){let r=((e[0]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,e[1]));let i=e[2]===180?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,i=180;else if(r>i){const h=this.getClusters([r,s,180,o],n),d=this.getClusters([-180,s,i,o],n);return h.concat(d)}const a=this.trees[this._limitZoom(n)],l=a.range(yo(r),vo(o),yo(i),vo(s)),c=a.data,u=[];for(const h of l){const d=this.stride*h;u.push(c[d+xn]>1?rp(c,d,this.clusterProps):this.points[c[d+Mn]])}return u}getChildren(e){const n=this._getOriginId(e),r=this._getOriginZoom(e),s="No cluster with the specified id.",i=this.trees[r];if(!i)throw new Error(s);const o=i.data;if(n*this.stride>=o.length)throw new Error(s);const a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),l=o[n*this.stride],c=o[n*this.stride+1],u=i.within(l,c,a),h=[];for(const d of u){const f=d*this.stride;o[f+Wl]===e&&h.push(o[f+xn]>1?rp(o,f,this.clusterProps):this.points[o[f+Mn]])}if(h.length===0)throw new Error(s);return h}getLeaves(e,n,r){n=n||10,r=r||0;const s=[];return this._appendLeaves(s,e,n,r,0),s}getTile(e,n,r){const s=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:o,radius:a}=this.options,l=a/o,c=(r-l)/i,u=(r+1+l)/i,h={features:[]};return this._addTileFeatures(s.range((n-l)/i,c,(n+1+l)/i,u),s.data,n,r,i,h),n===0&&this._addTileFeatures(s.range(1-l/i,c,1,u),s.data,i,r,i,h),n===i-1&&this._addTileFeatures(s.range(0,c,l/i,u),s.data,-1,r,i,h),h.features.length?h:null}getClusterExpansionZoom(e){let n=this._getOriginZoom(e)-1;for(;n<=this.options.maxZoom;){const r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,s,i){const o=this.getChildren(n);for(const a of o){const l=a.properties;if(l&&l.cluster?i+l.point_count<=s?i+=l.point_count:i=this._appendLeaves(e,l.cluster_id,r,s,i):i<s?i++:e.push(a),e.length===r)break}return i}_createTree(e){const n=new Th(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,s,i,o){for(const a of e){const l=a*this.stride,c=n[l+xn]>1;let u,h,d;if(c)u=Gy(n,l,this.clusterProps),h=n[l],d=n[l+1];else{const v=this.points[n[l+Mn]];u=v.properties;const[b,A]=v.geometry.coordinates;h=yo(b),d=vo(A)}const f={type:1,geometry:[[Math.round(this.options.extent*(h*i-r)),Math.round(this.options.extent*(d*i-s))]],tags:u};let _;c||this.options.generateId?_=n[l+Mn]:_=this.points[n[l+Mn]].id,_!==void 0&&(f.id=_),o.features.push(f)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){const{radius:r,extent:s,reduce:i,minPoints:o}=this.options,a=r/(s*Math.pow(2,n)),l=e.data,c=[],u=this.stride;for(let h=0;h<l.length;h+=u){if(l[h+ar]<=n)continue;l[h+ar]=n;const d=l[h],f=l[h+1],_=e.within(l[h],l[h+1],a),v=l[h+xn];let b=v;for(const A of _){const R=A*u;l[R+ar]>n&&(b+=l[R+xn])}if(b>v&&b>=o){let A=d*v,R=f*v,F,N=-1;const re=((h/u|0)<<5)+(n+1)+this.points.length;for(const G of _){const le=G*u;if(l[le+ar]<=n)continue;l[le+ar]=n;const Z=l[le+xn];A+=l[le]*Z,R+=l[le+1]*Z,l[le+Wl]=re,i&&(F||(F=this._map(l,h,!0),N=this.clusterProps.length,this.clusterProps.push(F)),i(F,this._map(l,le)))}l[h+Wl]=re,c.push(A/b,R/b,1/0,re,-1,b),i&&c.push(N)}else{for(let A=0;A<u;A++)c.push(l[h+A]);if(b>1)for(const A of _){const R=A*u;if(!(l[R+ar]<=n)){l[R+ar]=n;for(let F=0;F<u;F++)c.push(l[R+F])}}}}return c}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+xn]>1){const o=this.clusterProps[e[n+Wy]];return r?Object.assign({},o):o}const s=this.points[e[n+Mn]].properties,i=this.options.map(s);return r&&i===s?Object.assign({},i):i}}function rp(t,e,n){return{type:"Feature",id:t[e+Mn],properties:Gy(t,e,n),geometry:{type:"Point",coordinates:[ON(t[e]),kN(t[e+1])]}}}function Gy(t,e,n){const r=t[e+xn],s=r>=1e4?`${Math.round(r/1e3)}k`:r>=1e3?`${Math.round(r/100)/10}k`:r,i=t[e+Wy],o=i===-1?{}:Object.assign({},n[i]);return Object.assign(o,{cluster:!0,cluster_id:t[e+Mn],point_count:r,point_count_abbreviated:s})}function yo(t){return t/360+.5}function vo(t){const e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function ON(t){return(t-.5)*360}function kN(t){const e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function xN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}class Nt{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class Xc{constructor({markers:e,position:n}){this.markers=e,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(this.markers.length===0&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const n of this.markers)e.extend(Nt.getPosition(n));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Nt.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Nt.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class NN{constructor({maxZoom:e=16}){this.maxZoom=e}noop({markers:e}){return DN(e)}}const DN=t=>t.map(n=>new Xc({position:Nt.getPosition(n),markers:[n]}));class MN extends NN{constructor(e){var{maxZoom:n,radius:r=60}=e,s=xN(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new CN(Object.assign({maxZoom:this.maxZoom,radius:r},s))}calculate(e){let n=!1;const r={zoom:e.map.getZoom()};if(!Zf(e.markers,this.markers)){n=!0,this.markers=[...e.markers];const s=this.markers.map(i=>{const o=Nt.getPosition(i);return{type:"Feature",geometry:{type:"Point",coordinates:[o.lng(),o.lat()]},properties:{marker:i}}});this.superCluster.load(s)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!Zf(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster({map:e}){return this.superCluster.getClusters([-180,-90,180,90],Math.round(e.getZoom())).map(n=>this.transformCluster(n))}transformCluster({geometry:{coordinates:[e,n]},properties:r}){if(r.cluster)return new Xc({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map(i=>i.properties.marker),position:{lat:n,lng:e}});const s=r.marker;return new Xc({markers:[s],position:Nt.getPosition(s)})}}class LN{constructor(e,n){this.markers={sum:e.length};const r=n.map(i=>i.count),s=r.reduce((i,o)=>i+o,0);this.clusters={count:n.length,markers:{mean:s/n.length,sum:s,min:Math.min(...r),max:Math.max(...r)}}}}class VN{render({count:e,position:n},r,s){const o=`<svg fill="${e>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff"}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">${e}</text>
</svg>`,a=`Cluster of ${e} markers`,l=Number(google.maps.Marker.MAX_ZINDEX)+e;if(Nt.isAdvancedMarkerAvailable(s)){const h=new DOMParser().parseFromString(o,"image/svg+xml").documentElement;h.setAttribute("transform","translate(0 25)");const d={map:s,position:n,zIndex:l,title:a,content:h};return new google.maps.marker.AdvancedMarkerElement(d)}const c={position:n,zIndex:l,title:a,icon:{url:`data:image/svg+xml;base64,${btoa(o)}`,anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(c)}}function $N(t,e){for(let n in e.prototype)t.prototype[n]=e.prototype[n]}class Ih{constructor(){$N(Ih,google.maps.OverlayView)}}var oi;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(oi||(oi={}));const FN=(t,e,n)=>{n.fitBounds(e.bounds)};class sp extends Ih{constructor({map:e,markers:n=[],algorithmOptions:r={},algorithm:s=new MN(r),renderer:i=new VN,onClusterClick:o=FN}){super(),this.markers=[...n],this.clusters=[],this.algorithm=s,this.renderer=i,this.onClusterClick=o,e&&this.setMap(e)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){const r=this.markers.indexOf(e);return r===-1?!1:(Nt.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){let r=!1;return e.forEach(s=>{r=this.removeMarker(s,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,oi.CLUSTERING_BEGIN,this);const{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){const s=new Set;for(const o of n)o.markers.length==1&&s.add(o.markers[0]);const i=[];for(const o of this.clusters)o.marker!=null&&(o.markers.length==1?s.has(o.marker)||Nt.setMap(o.marker,null):i.push(o.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>i.forEach(o=>Nt.setMap(o,null)))}google.maps.event.trigger(this,oi.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Nt.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){const e=new LN(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(s=>Nt.setMap(s,null)),this.onClusterClick&&r.marker.addListener("click",s=>{google.maps.event.trigger(this,oi.CLUSTER_CLICK,r),this.onClusterClick(s,r,n)})),Nt.setMap(r.marker,n)})}}const Gl={maxZoom:{type:Number,twoWay:!1},batchSizeIE:{type:Number,twoWay:!1},calculator:{type:Function,twoWay:!1},enableRetinaIcons:{type:Boolean,twoWay:!1},gridSize:{type:Number,twoWay:!1},ignoreHidden:{type:Boolean,twoWay:!1},imageExtension:{type:String,twoWay:!1},imagePath:{type:String,twoWay:!1},imageSizes:{type:Array,twoWay:!1},minimumClusterSize:{type:Number,twoWay:!1},styles:{type:Array,twoWay:!1},zoomOnClick:{type:Boolean,twoWay:!1}},UN=["click","rightclick","dblclick","drag","dragstart","dragend","mouseup","mousedown","mouseover","mouseout"],jN=sr({mappedProps:Gl,events:UN,name:"cluster",ctr:()=>{if(typeof sp>"u"){const t="MarkerClusterer is not installed!";throw console.error(t),new Error(t)}return sp},ctrArgs:({map:t,...e})=>[t,[],e],afterCreate(t){const e=()=>{const n=t.getMarkers();t.clearMarkers(),t.addMarkers(n)};for(let n in Gl)Gl[n].twoWay&&this.$on(n.toLowerCase()+"_changed",e)},updated(){this.$clusterObject&&this.$clusterObject.repaint()},beforeUnmount(){this.$children&&this.$children.length&&this.$children.forEach(t=>{t.$clusterObject===this.$clusterObject&&(t.$clusterObject=null)}),this.$clusterObject&&this.$clusterObject.clearMarkers()}});function BN(t,e,n,r,s,i){return oe(),me("div",null,[ui(t.$slots,"default")])}const HN=tt(jN,[["render",BN]]),zN={options:{type:Object,required:!1,default(){return{}}},position:{type:Object,twoWay:!0},zIndex:{type:Number,twoWay:!0}},qN=["domready","click","closeclick","content_changed"],WN=sr({mappedProps:zN,events:qN,name:"infoWindow",ctr:()=>google.maps.InfoWindow,props:{opened:{type:Boolean,default:!0}},inject:{$markerPromise:{default:null}},mounted(){const t=this.$refs.infoWindow;t.parentNode.removeChild(t)},beforeCreate(t){if(t.content=this.$refs.infoWindow,this.$markerPromise)return delete t.position,this.$markerPromise.then(e=>(this.$markerObject=e,e))},emits:["closeclick"],methods:{_openInfoWindow(){this.$infoWindowObject.close(),this.opened?this.$infoWindowObject.open(this.$map,this.$markerObject):this.$emit("closeclick")}},afterCreate(){this._openInfoWindow(),this.$watch("opened",()=>{this._openInfoWindow()})}}),GN={ref:"infoWindow"};function KN(t,e,n,r,s,i){return oe(),me("div",GN,[ui(t.$slots,"default")],512)}const QN=tt(WN,[["render",KN]]),XN={props:["resizeBus"],data(){return{_actualResizeBus:null}},created(){typeof this.resizeBus>"u"?this.$data._actualResizeBus=this.$gmapDefaultResizeBus:this.$data._actualResizeBus=this.resizeBus},methods:{_resizeCallback(){this.resize()},isFunction(t){return t&&{}.toString.call(t)==="[object Function]"},_delayedResizeCallback(){this.$nextTick(()=>this._resizeCallback())}},watch:{resizeBus(t){this.$data._actualResizeBus=t},"$data._actualResizeBus"(t,e){e&&e.$off("resize",this._delayedResizeCallback)}},unmounted(){this.$data._actualResizeBus&&this.isFunction(this.$data._actualResizeBus.$off)&&this.$data._actualResizeBus.$off("resize",this._delayedResizeCallback)}};function JN(t){let e=0;t(()=>{e+=1},()=>{e=Math.max(0,e-1)},()=>e===0)}const Kl={center:{required:!0,twoWay:!0,type:Object,noBind:!0},zoom:{required:!1,twoWay:!0,type:Number,noBind:!0},heading:{type:Number,twoWay:!0},mapTypeId:{twoWay:!0,type:String},tilt:{twoWay:!0,type:Number},options:{type:Object,default(){return{}}}},ip=["bounds_changed","click","dblclick","drag","dragend","dragstart","idle","mousemove","mouseout","mouseover","resize","rightclick","tilesloaded"],YN=["panBy","panTo","panToBounds","fitBounds"].reduce((t,e)=>(t[e]=function(){this.$mapObject&&this.$mapObject[e].apply(this.$mapObject,arguments)},t),{}),ZN={resize(){this.$mapObject&&google.maps.event.trigger(this.$mapObject,"resize")},resizePreserveCenter(){if(!this.$mapObject)return;const t=this.$mapObject.getCenter();google.maps.event.trigger(this.$mapObject,"resize"),this.$mapObject.setCenter(t)},_resizeCallback(){this.resizePreserveCenter()}},eD={mixins:[XN],props:bh({...Kl,...ip.reduce((t,e)=>({...t,[`on${e.charAt(0).toUpperCase()}${e.slice(1)}`.replace(/[-_]+(.)?/g,(n,r)=>r?r.toUpperCase():"")]:Function}),{})}),inheritAttrs:!1,provide(){return this.$mapPromise=new Promise((t,e)=>{this.$mapPromiseDeferred={resolve:t,reject:e}}),{$mapPromise:this.$mapPromise}},emits:["center_changed","zoom_changed","bounds_changed"],computed:{finalLat(){return this.center&&typeof this.center.lat=="function"?this.center.lat():this.center.lat},finalLng(){return this.center&&typeof this.center.lng=="function"?this.center.lng():this.center.lng},finalLatLng(){return{lat:this.finalLat,lng:this.finalLng}}},watch:{zoom(t){this.$mapObject&&this.$mapObject.setZoom(t)}},mounted(){return this.$gmapApiPromiseLazy().then(()=>{const t=this.$refs["vue-map"],e={...this.options,...pa(this,Kl)};return delete e.options,this.$mapObject=new google.maps.Map(t,e),Eh(this,this.$mapObject,Kl),Hy(this,this.$mapObject,ip),JN((n,r,s)=>{this.$mapObject.addListener("center_changed",()=>{s()&&this.$emit("center_changed",this.$mapObject.getCenter()),r()}),zy(this,["finalLat","finalLng"],()=>{n(),this.$mapObject.setCenter(this.finalLatLng)})}),this.$mapObject.addListener("zoom_changed",()=>{this.$emit("zoom_changed",this.$mapObject.getZoom())}),this.$mapObject.addListener("bounds_changed",()=>{this.$emit("bounds_changed",this.$mapObject.getBounds())}),this.$mapPromiseDeferred.resolve(this.$mapObject),this.$mapObject}).catch(t=>{throw t})},methods:{...ZN,...YN}},tD={class:"vue-map-hidden"};function nD(t,e,n,r,s,i){return oe(),me("div",{class:os(["vue-map-container",t.$attrs.class])},[y("div",{ref:"vue-map",class:"vue-map",style:wa(t.$attrs.style?t.$attrs.style:"")},null,4),y("div",tD,[ui(t.$slots,"default")]),ui(t.$slots,"visible")],2)}const rD=tt(eD,[["render",nD]]),sD={options:{type:Object,twoWay:!1,default:()=>{}},data:{type:Array,twoWay:!0}},iD=[],oD=sr({mappedProps:sD,name:"heatmap",ctr:()=>google.maps.visualization.HeatmapLayer,events:iD}),aD=t=>{const e=t.addEventListener?t.addEventListener:t.attachEvent;function n(r,s){if(r==="keydown"){const i=s;s=function(o){const a=document.getElementsByClassName("pac-item-selected").length>0;if(o.which===13&&!a){const l=document.createEvent("Event");l.keyCode=40,l.which=40,i.apply(t,[l])}i.apply(t,[o])}}e.apply(t,[r,s])}t.addEventListener=n,t.attachEvent=n},Ql={bounds:{type:Object},componentRestrictions:{type:Object,noBind:!0},types:{type:Array,default:function(){return[]}}},lD={selectFirstOnEnter:{required:!1,type:Boolean,default:!1},options:{type:Object}},cD={mounted(){this.$gmapApiPromiseLazy().then(()=>{if(this.selectFirstOnEnter&&aD(this.$refs.input),typeof google.maps.places.Autocomplete!="function")throw new Error("google.maps.places.Autocomplete is undefined. Did you add 'places' to libraries when loading Google Maps?");const t={...pa(this,Ql),...this.options};this.$autocomplete=new google.maps.places.Autocomplete(this.$refs.input,t),Eh(this,this.$autocomplete,Ql),this.$watch("componentRestrictions",e=>{e!==void 0&&this.$autocomplete.setComponentRestrictions(e)}),this.$autocomplete.addListener("place_changed",()=>{this.$emit("place_changed",this.$autocomplete.getPlace())})})},props:{...bh(Ql),...lD}};function uD(t,e,n,r,s,i){return oe(),me("input",Zp({ref:"input"},t.$attrs,lw(t.$attrs,!0)),null,16)}const hD=tt(cD,[["render",uD]]);let Ky=null;function dD(t,e){e={installComponents:!0,autobindAllEvents:!1,...e},Ky=cc({data:function(){return{gmapApi:null}}});const n=cc();let r=fD(e);t.mixin({created(){this.$gmapDefaultResizeBus=n,this.$gmapOptions=e,this.$gmapApiPromiseLazy=r}}),t.$gmapDefaultResizeBus=n,t.$gmapApiPromiseLazy=r,e.installComponents&&(t.component("GMapMap",rD),t.component("GMapMarker",SN),t.component("GMapInfoWindow",QN),t.component("GMapCluster",HN),t.component("GMapPolyline",fN),t.component("GMapPolygon",gN),t.component("GMapCircle",vN),t.component("GMapRectangle",bN),t.component("GMapAutocomplete",hD),t.component("GMapHeatmap",oD))}function fD(t){function e(){return Ky.gmapApi={},window.google}if(t.load)return Xf(()=>Kc.isServer()?new Promise(()=>{}).then(e):new Promise((n,r)=>{try{window.vueGoogleMapsInit=n,lN(t.load)}catch(s){r(s)}}).then(e));{const n=new Promise(r=>{Kc.isServer()||(window.vueGoogleMapsInit=r)}).then(e);return Xf(()=>n)}}const pD={apiKey:"AIzaSyDmN08IvkUv2vQn7o_Cbd5daeQ3OXxGRpo",authDomain:"ecoscape-ea1d6.firebaseapp.com",databaseURL:"https://ecoscape-ea1d6-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"ecoscape-ea1d6",storageBucket:"ecoscape-ea1d6.appspot.com",messagingSenderId:"104462396856",appId:"1:104462396856:web:bcaaa850fb71afed13b34d",measurementId:"G-35CF9R9L0S"},eo=cc(NA),Qy=um(pD);eo.config.globalProperties.$firebaseApp=Qy;uy(Qy);eo.use(sN);eo.use(oS);eo.use(dD,{load:{key:"AIzaSyAEdK4QmPR7xGkCxDcpoD1GLKBwBL-R0zQ"}});eo.mount("#app");
